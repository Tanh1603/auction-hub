# Use Case 3.4.0: Manage Registration to Bid

## 1. Use Case Description

| Field              | Content                                                                                                                                                     |
| :----------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Name**           | Manage Registration to Bid                                                                                                                                  |
| **Description**    | This use case allows the **Bidder/Admin** to choose one of the corresponding functions of CRUD to adjust **Registration to Bid** information in the system. |
| **Actor**          | **Bidder**, **Admin**, **Auctioneer**                                                                                                                       |
| **Trigger**        | When the **Bidder/Admin** clicks on the "**Registration to Bid**" button on the navigation sidebar.                                                         |
| **Pre-condition**  | 1. **Bidder/Admin**'s device must be connected to the internet.<br>2. **Bidder/Admin** is signed in with their account.                                     |
| **Post-condition** | The **Registration to Bid** information is updated to the corresponding function that the **Bidder/Admin** executes.                                        |

---

## 2. Sequence Flow

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "Bidder/Admin" as User
boundary "RegistrationManagementPage" as View
control "RegisterToBidController" as Controller
entity "AuctionParticipantRepository" as Repo

User -> View: Access Registration Management
View -> Controller: GET /register-to-bid
activate Controller
Controller -> Repo: findAll()
activate Repo
Repo --> Controller: RegistrationList
deactivate Repo
Controller --> View: Return list data
deactivate Controller
View --> User: Display list of Registrations

User -> View: Choose function

note over View: Bidder Actions

opt Register for Auction
    ref over View, Controller, Repo: Sequence Register for Auction (3.4.1)
end

opt Withdraw Registration
    ref over View, Controller, Repo: Sequence Withdraw Registration (3.4.2)
end

opt Check-in for Auction
    ref over View, Controller, Repo: Sequence Check-in for Auction (3.4.3)
end

opt Submit Deposit Payment
    ref over View, Controller, Repo: Sequence Submit Deposit Payment (3.4.4)
end

opt Verify Deposit Payment
    ref over View, Controller, Repo: Sequence Verify Deposit Payment (3.4.5)
end

opt View Own Registrations
    ref over View, Controller, Repo: Sequence View Own Registrations (3.4.6)
end

opt Get Registration for Auction
    ref over View, Controller, Repo: Sequence Get Registration for Auction (3.4.7)
end

note over View: Admin Actions

opt List All Registrations
    ref over View, Controller, Repo: Sequence List All Registrations Admin (3.4.8)
end

opt Approve Registration (Legacy)
    ref over View, Controller, Repo: Sequence Approve Registration Legacy (3.4.9)
end

opt Reject Registration
    ref over View, Controller, Repo: Sequence Reject Registration (3.4.10)
end

opt Verify Documents (Tier 1)
    ref over View, Controller, Repo: Sequence Verify Documents Tier 1 (3.4.11)
end

opt Reject Documents
    ref over View, Controller, Repo: Sequence Reject Documents (3.4.12)
end

opt Final Approval (Tier 2)
    ref over View, Controller, Repo: Sequence Final Approval Tier 2 (3.4.13)
end
@enduml
```

---

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|Bidder/Admin|
start
:(1) Access Registration Management;
:(2) View Registration List;

|RegisterToBidController|
:(3) Retrieve Registration List;
note right: BR-01

|AuctionParticipantRepository|
:(4) Query All Registrations;

|Bidder/Admin|
:(5) Display Registration List;
:(6) Choose Function;

partition "Bidder Actions" {
    if (Which Function?) then (Register)
        :(7.1) Go to Register for Auction;
        note right: Ref: 3.4.1
        stop
    elseif (Withdraw) then
        :(7.2) Go to Withdraw Registration;
        note right: Ref: 3.4.2
        stop
    elseif (Check-in) then
        :(7.3) Go to Check-in for Auction;
        note right: Ref: 3.4.3
        stop
    elseif (Submit Deposit) then
        :(7.4) Go to Submit Deposit Payment;
        note right: Ref: 3.4.4
        stop
    elseif (Verify Deposit) then
        :(7.5) Go to Verify Deposit Payment;
        note right: Ref: 3.4.5
        stop
    elseif (View Own) then
        :(7.6) Go to View Own Registrations;
        note right: Ref: 3.4.6
        stop
    elseif (Get for Auction) then
        :(7.7) Go to Get Registration for Auction;
        note right: Ref: 3.4.7
        stop
    endif
}

partition "Admin Actions" {
    if (Which Admin Function?) then (List All)
        :(8.1) Go to List All Registrations;
        note right: Ref: 3.4.8
        stop
    elseif (Approve) then
        :(8.2) Go to Approve Registration;
        note right: Ref: 3.4.9
        stop
    elseif (Reject) then
        :(8.3) Go to Reject Registration;
        note right: Ref: 3.4.10
        stop
    elseif (Verify Docs) then
        :(8.4) Go to Verify Documents;
        note right: Ref: 3.4.11
        stop
    elseif (Reject Docs) then
        :(8.5) Go to Reject Documents;
        note right: Ref: 3.4.12
        stop
    else (Final Approval)
        :(8.6) Go to Final Approval;
        note right: Ref: 3.4.13
        stop
    endif
}
@enduml
```

---

## 4. Business Rules

| Activity | BR Code   | Description                                                                                                                                                                 |
| :------- | :-------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **(5)**  | **BR-01** | **Displaying Rule:**<br>The system displays a "**Registration to Bid Management**" screen. (Refer to "**Registration to Bid Management**" view in "View Description" file). |
| **(6)**  | **BR-02** | **Choosing Rule:**<br>**Bidder/Admin** can only choose one feature at a time to use.                                                                                        |

---

## 5. Related Child Use Cases

### Bidder Actions

| Use Case ID | Use Case Name                | Description                                      |
| :---------- | :--------------------------- | :----------------------------------------------- |
| 3.4.1       | Register for Auction         | Submit registration to participate in an auction |
| 3.4.2       | Withdraw Registration        | Cancel a pending registration                    |
| 3.4.3       | Check-in for Auction         | Check-in before auction starts                   |
| 3.4.4       | Submit Deposit Payment       | Submit deposit payment for registration          |
| 3.4.5       | Verify Deposit Payment       | Verify the deposit payment transaction           |
| 3.4.6       | View Own Registrations       | View all registrations made by the bidder        |
| 3.4.7       | Get Registration for Auction | Get specific registration for an auction         |

### Admin Actions

| Use Case ID | Use Case Name          | Description                                  |
| :---------- | :--------------------- | :------------------------------------------- |
| 3.4.8       | List All Registrations | View all registrations in the system         |
| 3.4.9       | Approve Registration   | Approve a bidder's registration (Legacy)     |
| 3.4.10      | Reject Registration    | Reject a bidder's registration               |
| 3.4.11      | Verify Documents       | Verify submitted documents (Tier 1 approval) |
| 3.4.12      | Reject Documents       | Reject submitted documents                   |
| 3.4.13      | Final Approval         | Grant final approval after deposit (Tier 2)  |
