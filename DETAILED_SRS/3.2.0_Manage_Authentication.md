# Use Case 3.2.0: Manage Authentication

## 1. Use Case Description

| Field              | Content                                                                                                                                              |
| :----------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Name**           | Manage Authentication                                                                                                                                |
| **Description**    | This use case allows the **Guest/User** to choose one of the corresponding functions of CRUD to adjust **Authentication** information in the system. |
| **Actor**          | **Guest**, **All Users**                                                                                                                             |
| **Trigger**        | When the **Guest/User** clicks on the "**Authentication**" button on the navigation sidebar or accesses authentication-related pages.                |
| **Pre-condition**  | 1. **Guest/User**'s device must be connected to the internet.<br>2. For certain functions, the **User** may need to be signed in with their account. |
| **Post-condition** | The **Authentication** information is updated to the corresponding function that the **Guest/User** executes.                                        |

---

## 2. Sequence Flow

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "Guest/User" as User
boundary "AuthenticationPage" as View
control "AuthController" as Controller
entity "UserRepository" as Repo

User -> View: Access Authentication page
View -> Controller: Request authentication options
activate Controller
Controller -> Repo: Query available functions
activate Repo
Repo --> Controller: Return available options
deactivate Repo
Controller --> View: Return options
deactivate Controller
View --> User: Display Authentication options

User -> View: Choose function

opt Register Account
    ref over View, Controller, Repo: Sequence Register Account (3.2.1)
end

opt Login
    ref over View, Controller, Repo: Sequence Login (3.2.2)
end

opt Forgot Password
    ref over View, Controller, Repo: Sequence Forgot Password (3.2.3)
end

opt Resend Verification Email
    ref over View, Controller, Repo: Sequence Resend Verification Email (3.2.4)
end

opt Verify Email (POST)
    ref over View, Controller, Repo: Sequence Verify Email POST (3.2.5)
end

opt Verify Email (Link Click)
    ref over View, Controller, Repo: Sequence Verify Email Link Click (3.2.6)
end
@enduml
```

---

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|Guest/User|
start
:(1) Access Authentication Page;
:(2) View Authentication Options;

|AuthController|
:(3) Load Available Options;
note right: BR-01

|Guest/User|
:(4) Display Options;
:(5) Choose Function;

if (Which Function?) then (Register)
    :(6.1) Go to Register Account;
    note right: Ref: 3.2.1
    stop
elseif (Login) then
    :(6.2) Go to Login;
    note right: Ref: 3.2.2
    stop
elseif (Forgot Password) then
    :(6.3) Go to Forgot Password;
    note right: Ref: 3.2.3
    stop
elseif (Resend Email) then
    :(6.4) Go to Resend Verification Email;
    note right: Ref: 3.2.4
    stop
elseif (Verify POST) then
    :(6.5) Go to Verify Email (POST);
    note right: Ref: 3.2.5
    stop
else (Verify Link)
    :(6.6) Go to Verify Email (Link Click);
    note right: Ref: 3.2.6
    stop
endif
@enduml
```

---

## 4. Business Rules

| Activity | BR Code   | Description                                                                                                                                  |
| :------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------- |
| **(4)**  | **BR-01** | **Displaying Rule:**<br>The system displays an "**Authentication**" screen. (Refer to "**Authentication**" view in "View Description" file). |
| **(5)**  | **BR-02** | **Choosing Rule:**<br>**Guest/User** can only choose one feature at a time to use.                                                           |

---

## 5. Related Child Use Cases

| Use Case ID | Use Case Name             | Description                                |
| :---------- | :------------------------ | :----------------------------------------- |
| 3.2.1       | Register Account          | Create a new user account                  |
| 3.2.2       | Login                     | Authenticate user credentials              |
| 3.2.3       | Forgot Password           | Request password reset                     |
| 3.2.4       | Resend Verification Email | Resend email verification link             |
| 3.2.5       | Verify Email (POST)       | Verify email using POST request with token |
| 3.2.6       | Verify Email (Link Click) | Verify email by clicking verification link |
