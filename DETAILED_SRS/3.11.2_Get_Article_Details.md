# 3.11.2 Get Article Details

## 1. Use Case Description

| Field              | Description                                                                   |
| ------------------ | ----------------------------------------------------------------------------- |
| **Name**           | Get Article Details                                                           |
| **Description**    | This use case allows any user to view the full details of a specific article. |
| **Actor**          | All (Public - Guest, Bidder, Auctioneer, Admin)                               |
| **Trigger**        | When the user clicks on an article or requests `GET /articles/:id`.           |
| **Pre-condition**  | â€¢ User's device must be connected to the internet.                            |
| **Post-condition** | The article details are retrieved and displayed to the user.                  |

## 2. Sequence Flow (MVC)

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "User" as User
boundary "ArticleDetailPage" as View
control "ArticleController" as Controller
control "ArticleService" as Service
entity "ArticleRepository" as Repo

User -> View: Click Article Link
View -> Controller: GET /articles/:id
activate Controller

Controller -> Service: findOne(id)
activate Service

Service -> Repo: findById(id)
activate Repo
Repo --> Service: ArticleEntity (or null)
deactivate Repo

alt Article Found
    Service --> Controller: ArticleDetailDto
    Controller --> View: 200 OK (Article)
    View --> User: Display Full Article
else Article Not Found
    Service --> Controller: Throw NotFoundException
    Controller --> View: 404 Not Found
    View --> User: Display Error Message
end

deactivate Service
deactivate Controller
@enduml
```

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|User|
start
:(1) Click Article Link;

|ArticleController|
:(2) Receive Request with ID;

|ArticleService|
:(3) Query Article by ID;

|ArticleRepository|
:(4) Fetch Article from Database;
note right: BR-01

|ArticleService|
if (Article Found?) then (No)
    :(5.1) Return 404 Not Found;
    |User|
    :(5.2) View Error Message;
    stop
endif

:(6) Load Related Articles;
note right: BR-02

:(7) Return Article Details;

|User|
:(8) View Full Article Content;
:(9) View Related Articles;
stop
@enduml
```

## 4. Business Rules

| Activity | BR Code   | Description                                                                                                                                                                                                   |
| :------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **(1)**  | **BR-01** | **Displaying Rule (Article Detail Page):**<br>System displays `ArticleDetailPage` with full content.<br>Shows: title, full content, author, date, type, image.<br>Shows loading state while fetching.         |
| **(4)**  | **BR-02** | **Querying Rule:**<br>System retrieves data from the 'ARTICLE' table by ID.<br>Includes: all fields including full `content`.<br>If not found:<br>$\rightarrow$ System displays MSG 20 ("Article not found"). |
| **(6)**  | **BR-03** | **Processing Rule (Related Articles):**<br>System loads related articles via `ARTICLE_RELATION` table.<br>Returns up to 5 related articles.<br>Allows user navigation to related content.                     |
| **(8)**  | **BR-04** | **Displaying Rule (Content Display):**<br>System renders full article content.<br>Supports rich text/HTML content.<br>Displays header image if available.                                                     |
| **(9)**  | **BR-05** | **Displaying Rule (Related Articles):**<br>System displays related articles sidebar/section.<br>Shows thumbnail, title, date for each related article.<br>Clickable links to navigate.                        |
