# 3.11.2 Get Article Details

## 1. Use Case Description

| Field              | Description                                                                   |
| ------------------ | ----------------------------------------------------------------------------- |
| **Name**           | Get Article Details                                                           |
| **Description**    | This use case allows any user to view the full details of a specific article. |
| **Actor**          | All (Public - Guest, Bidder, Auctioneer, Admin)                               |
| **Trigger**        | When the user clicks on an article or requests `GET /articles/:id`.           |
| **Pre-condition**  | • User's device must be connected to the internet.                            |
| **Post-condition** | The article details are retrieved and displayed to the user.                  |

## 2. Sequence Flow (MVC)

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "User" as User
boundary "ArticleDetailPage" as View
control "ArticleController" as Controller
control "ArticleService" as Service
entity "ArticleRepository" as Repo

User -> View: Click Article Link
View -> Controller: GET /articles/:id
activate Controller

Controller -> Service: findOne(id)
activate Service

Service -> Repo: findById(id)
activate Repo
Repo --> Service: ArticleEntity (or null)
deactivate Repo

alt Article Found
    Service --> Controller: ArticleDetailDto
    Controller --> View: 200 OK (Article)
    View --> User: Display Full Article
else Article Not Found
    Service --> Controller: Throw NotFoundException
    Controller --> View: 404 Not Found
    View --> User: Display Error Message
end

deactivate Service
deactivate Controller
@enduml
```

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|User|
start
:(1) Click Article Link;

|ArticleController|
:(2) Receive Request with ID;

|ArticleService|
:(3) Query Article by ID;

|ArticleRepository|
:(4) Fetch Article from Database;
note right: BR-01

|ArticleService|
if (Article Found?) then (No)
    :(5.1) Return 404 Not Found;
    |User|
    :(5.2) View Error Message;
    stop
endif

:(6) Load Related Articles;
note right: BR-02

:(7) Return Article Details;

|User|
:(8) View Full Article Content;
:(9) View Related Articles;
stop
@enduml
```

## 4. Business Rules



| Activity | BR Code   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

| :------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

| **(1)**  | **BR-01** | **Displaying Rules (Article Detail Page):**<br>❖ The system displays the “ArticleDetailPage” via `Display_View(article)` for the selected article.<br>❖ The page presents the article's [Title], [Author], [Date], and [Type] as a badge.<br>❖ The system renders the full [Content] (which can be HTML/Markdown) and displays the header [Image].                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

| **(4)**  | **BR-02** | **Querying Rules:**<br>❖ The system retrieves the article's details by calling `ArticleService.findOne(id)`.<br>❖ It queries the “ARTICLE” table by [ID], including any related articles.<br>❖ If the article is not found, the system returns a 404 Not Found error and displays **MSG 20** (Article not found).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

| **(6)**  | **BR-03** | **Processing Rules (Related Articles):**<br>❖ The system loads related articles by joining the “ARTICLE_RELATION” table with the main article.<br>❖ It limits the retrieval to a maximum of 5 related articles.<br>❖ The selection includes [id], [title], [image], and [createdAt] for each related article.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

| **(8)**  | **BR-04** | **Displaying Rules (Content Display):**<br>❖ The system renders the full article content by calling `Render_HTML_Content(content)`.<br>❖ It sanitizes any HTML content to prevent XSS vulnerabilities.<br>❖ It applies predefined styles for headers, paragraphs, lists, and images to ensure consistent formatting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

| **(9)**  | **BR-05** | **Displaying Rules (Related Articles):**<br>❖ The system displays a sidebar widget or section dedicated to related articles via `Display_List('RelatedArticles', articles)`.<br>❖ It lists each related article with a thumbnail, title, and date.<br>❖ These entries are clickable, allowing the user to navigate directly to the related content.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |


