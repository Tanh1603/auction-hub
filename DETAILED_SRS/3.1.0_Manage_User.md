# Use Case 3.1.0: Manage User

## 1. Use Case Description

| Field              | Content                                                                                                                               |
| :----------------- | :------------------------------------------------------------------------------------------------------------------------------------ |
| **Name**           | Manage User                                                                                                                           |
| **Description**    | This use case allows the **Admin** to choose one of the corresponding functions of CRUD to adjust **User** information in the system. |
| **Actor**          | **Admin**, **Super Admin**                                                                                                            |
| **Trigger**        | When the **Admin** clicks on the "**User**" button on the navigation sidebar.                                                         |
| **Pre-condition**  | 1. **Admin**'s device must be connected to the internet.<br>2. **Admin** is signed in with their account.                             |
| **Post-condition** | The **User** information is updated to the corresponding function that the **Admin** executes.                                        |

---

## 2. Sequence Flow

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "Admin" as User
boundary "UserManagementPage" as View
control "UserController" as Controller
entity "UserRepository" as Repo

User -> View: Access User Management
View -> Controller: GET /users
activate Controller
Controller -> Repo: findAll()
activate Repo
Repo --> Controller: UserList
deactivate Repo
Controller --> View: Return list data
deactivate Controller
View --> User: Display list of Users

User -> View: Choose function

opt Register User in System
    ref over View, Controller, Repo: Sequence Register User in System (3.1.1)
end

opt Get Current User Info
    ref over View, Controller, Repo: Sequence Get Current User Info (3.1.2)
end

opt Promote User Role
    ref over View, Controller, Repo: Sequence Promote User Role (3.1.3)
end

opt Ban User
    ref over View, Controller, Repo: Sequence Ban User (3.1.4)
end

opt Verify User Identity (KYC)
    ref over View, Controller, Repo: Sequence Verify User Identity KYC (3.1.5)
end
@enduml
```

---

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|Admin|
start
:(1) Access User Management;
:(2) View User List;

|UserController|
:(3) Retrieve User List;
note right: BR-01

|UserRepository|
:(4) Query All Users;

|Admin|
:(5) Display User List;
:(6) Choose Function;

if (Which Function?) then (Register User)
    :(7.1) Go to Register User in System;
    note right: Ref: 3.1.1
    stop
elseif (Get User Info) then
    :(7.2) Go to Get Current User Info;
    note right: Ref: 3.1.2
    stop
elseif (Promote Role) then
    :(7.3) Go to Promote User Role;
    note right: Ref: 3.1.3
    stop
elseif (Ban User) then
    :(7.4) Go to Ban User;
    note right: Ref: 3.1.4
    stop
else (Verify KYC)
    :(7.5) Go to Verify User Identity;
    note right: Ref: 3.1.5
    stop
endif
@enduml
```

---

## 4. Business Rules

| Activity | BR Code   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **(5)**  | **BR-01** | **Displaying Rules:**<br>❖ The system displays a “UserManagementPage” screen. (Refer to “User Management” view in “View Description” file).<br>❖ The system calls `UserController.findAll()` to retrieve the list of users.<br>❖ The datagrid is rendered with columns: [ID], [Email], [FullName], [Role], [Status], and [Type], populated with data from the API response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **(6)**  | **BR-02** | **Choosing Rules:**<br>❖ The Admin chooses a specific function to execute. The system uses `Frontend_Navigation()` to handle the redirection.<br>❖ If the Admin selects “Register User”, the system redirects to the registration flow (Ref: `3.1.1`).<br>❖ If “Promote User” is selected, the system redirects to the role promotion flow (Ref: `3.1.3`).<br>❖ If “Ban User” is selected, the system initiates the ban workflow (Ref: `3.1.4`).<br>❖ If “Verify KYC” is selected, the system redirects to the identity verification flow (Ref: `3.1.5`).<br>❖ The Admin can only choose one feature at a time.                                                                                                                                                                                                                                                           |

---

## 5. Related Child Use Cases

| Use Case ID | Use Case Name              | Description                                     |
| :---------- | :------------------------- | :---------------------------------------------- |
| 3.1.1       | Register User in System    | Register a new user into the system             |
| 3.1.2       | Get Current User Info      | Retrieve current authenticated user information |
| 3.1.3       | Promote User Role          | Upgrade a user's role in the system             |
| 3.1.4       | Ban User                   | Ban/suspend a user from the platform            |
| 3.1.5       | Verify User Identity (KYC) | Verify user's identity documents                |
