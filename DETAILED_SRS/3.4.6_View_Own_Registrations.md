# 3.4.6 View Own Registrations

## 1. Use Case Description

| Field              | Description                                                                                               |
| ------------------ | --------------------------------------------------------------------------------------------------------- |
| **Name**           | View Own Registrations                                                                                    |
| **Description**    | This use case allows the Bidder to search Registration information in the system based on input keywords. |
| **Actor**          | Bidder                                                                                                    |
| **Trigger**        | When Bidder clicks on the 'View Registration' button on the MyRegistrationsPage screen.                   |
| **Pre-condition**  | • Bidder's device must be connected to the internet.<br>• Bidder is signed in with their account.         |
| **Post-condition** | The Registration information will be displayed on the MyRegistrationsPage screen.                         |

## 2. Sequence Flow (MVC)

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "Bidder" as User
boundary "MyRegistrationsPage" as View
control "RegistrationController" as Controller
control "RegistrationService" as Service
entity "ParticipantRepository" as ParticipantRepo

User -> View: Request Registration Status
View -> Controller: GET /register-to-bid/auctions/:auctionId/registration
activate Controller

Controller -> Service: getRegistration(auctionId, userId)
activate Service

Service -> ParticipantRepo: findParticipant(auctionId, userId)
activate ParticipantRepo
ParticipantRepo --> Service: ParticipantEntity (or null)
deactivate ParticipantRepo

alt Registration Found
    Service --> Controller: ParticipantDto
    Controller --> View: 200 OK (ParticipantDto)
    View --> User: Display Status
else Registration Not Found
    Service --> Controller: null / throw NotFound
    Controller --> View: 404 Not Found (or 200 with null)
    View --> User: Display "Not Registered"
end

deactivate Service
deactivate Controller
@enduml
```

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|Bidder|
start
:(1) View Auction Page;
:(2) System Checks Registration Status;

|RegistrationService|
:(3) Receive Request (auctionId, userId);

|ParticipantRepository|
:(4) Query Database for Participant Record;

|RegistrationService|
if (Record Found?) then (No)
    :(5.1) Return "Not Registered" / Null;
    note right: BR-02
    |Bidder|
    :(5.2) View "Not Registered" Status;
    stop
else (Yes)
    :(6) Filter/Map Participant Data;
    note right: BR-01
    :(7) Return Registration Details;
endif

|Bidder|
:(8) Display Status (e.g., "Pending Docs", "Approved");
stop
@enduml
```

## 4. Business Rules

| Activity | BR Code   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
