# Use Case 3.9.0: Manage System Configuration

## 1. Use Case Description

| Field              | Content                                                                                                                                               |
| :----------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Name**           | Manage System Configuration                                                                                                                           |
| **Description**    | This use case allows the **Admin** to choose one of the corresponding functions of CRUD to adjust **System Configuration** information in the system. |
| **Actor**          | **Admin**, **Super Admin**                                                                                                                            |
| **Trigger**        | When the **Admin** clicks on the "**System Configuration**" button on the navigation sidebar.                                                         |
| **Pre-condition**  | 1. **Admin**'s device must be connected to the internet.<br>2. **Admin** is signed in with their account.                                             |
| **Post-condition** | The **System Configuration** information is updated to the corresponding function that the **Admin** executes.                                        |

---

## 2. Sequence Flow

```plantuml
@startuml
autonumber
skinparam sequenceMessageAlign center

actor "Admin" as User
boundary "SystemConfigurationPage" as View
control "SystemVariableController" as Controller
control "CacheService" as Cache
entity "SystemVariableRepository" as Repo

User -> View: Access System Configuration
View -> Controller: GET /system-variables
activate Controller
Controller -> Repo: findAll()
activate Repo
Repo --> Controller: SystemVariableList
deactivate Repo
Controller --> View: Return list data
deactivate Controller
View --> User: Display list of System Variables

User -> View: Choose function

opt Get All System Variables
    ref over View, Controller, Repo: Sequence Get All System Variables (3.9.1)
end

opt Get System Variable
    ref over View, Controller, Repo: Sequence Get System Variable (3.9.2)
end

opt Update System Variable
    ref over View, Controller, Repo: Sequence Update System Variable (3.9.3)
end

opt Create System Variable
    ref over View, Controller, Repo: Sequence Create System Variable (3.9.4)
end

opt Clear Cache
    ref over View, Controller, Cache: Sequence Clear Cache (3.9.5)
end

opt Get Cache Statistics
    ref over View, Controller, Cache: Sequence Get Cache Statistics (3.9.6)
end
@enduml
```

---

## 3. Activities Flow (Swimlanes)

```plantuml
@startuml
|Admin|
start
:(1) Access System Configuration;
:(2) View System Variable List;

|SystemVariableController|
:(3) Retrieve System Variable List;
note right: BR-01

|SystemVariableRepository|
:(4) Query All System Variables;

|Admin|
:(5) Display System Variable List;
:(6) Choose Function;

if (Which Function?) then (Get All)
    :(7.1) Go to Get All System Variables;
    note right: Ref: 3.9.1
    stop
elseif (Get One) then
    :(7.2) Go to Get System Variable;
    note right: Ref: 3.9.2
    stop
elseif (Update) then
    :(7.3) Go to Update System Variable;
    note right: Ref: 3.9.3
    stop
elseif (Create) then
    :(7.4) Go to Create System Variable;
    note right: Ref: 3.9.4
    stop
elseif (Clear Cache) then
    :(7.5) Go to Clear Cache;
    note right: Ref: 3.9.5
    stop
else (Cache Stats)
    :(7.6) Go to Get Cache Statistics;
    note right: Ref: 3.9.6
    stop
endif
@enduml
```

---

## 4. Business Rules

| Activity | BR Code   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :------- | :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **(5)**  | **BR-01** | **Displaying Rules:**<br>❖ The system displays a “SystemConfigurationPage” screen via `Display_View()`. (Refer to “System Configuration Management” view in “View Description” file).<br>❖ The system calls `SystemVariableController.findAll()` to retrieve configuration data.<br>❖ It renders a data table listing variables with columns: [Category], [Key], [Value], and [DataType].                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **(6)**  | **BR-02** | **Choosing Rules:**<br>❖ The Admin selects a configuration function. The system uses `Frontend_Navigation()` to handle redirection.<br>❖ If “Get All” is selected, the system redirects to `3.9.1`.<br>❖ If “Get One” is selected, it redirects to the detail view `3.9.2`.<br>❖ If “Update” is selected, the system initiates the update process `3.9.3`.<br>❖ If “Create” is selected, it opens the creation form `3.9.4`.<br>❖ If “Clear Cache” is selected, it triggers the cache clearing action `3.9.5`.<br>❖ If “Cache Stats” is selected, it redirects to the statistics page `3.9.6`.<br>❖ Only one feature can be selected at a time.                                                                                                                                                                                                                                 |
---

## 5. Related Child Use Cases

| Use Case ID | Use Case Name            | Description                                 |
| :---------- | :----------------------- | :------------------------------------------ |
| 3.9.1       | Get All System Variables | Retrieve all system configuration variables |
| 3.9.2       | Get System Variable      | Retrieve a specific system variable by key  |
| 3.9.3       | Update System Variable   | Modify an existing system variable          |
| 3.9.4       | Create System Variable   | Create a new system variable                |
| 3.9.5       | Clear Cache              | Clear the system configuration cache        |
| 3.9.6       | Get Cache Statistics     | View cache usage statistics                 |
