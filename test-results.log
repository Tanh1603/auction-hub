
> @auction-hub/source@0.0.0 test:integration
> jest --config test/integration/jest.config.js --runInBand


≡ƒöº Global Setup: Loading environment variables...

  Γ£à Loaded environment from C:\Sem1_Year3_Projects\auction-hub\server\.env
  NODE_ENV: test
  AUTH_MODE: jwt
  SUPABASE_JWT_SECRET: [SET]

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bcfbb869-8685-42fc-9008-115cb3c17e65: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bcfbb869-8685-42fc-9008-115cb3c17e65: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 82a733a6-7e29-4405-8fb8-7350f88d205d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 82a733a6-7e29-4405-8fb8-7350f88d205d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b7ca5184-ad45-49ea-a50e-cd73bbd5667d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b7ca5184-ad45-49ea-a50e-cd73bbd5667d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 04519cef-d38c-4ac9-8ecc-a49c166c6a2e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 04519cef-d38c-4ac9-8ecc-a49c166c6a2e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bdad665f-7bfb-4a47-a2b0-aba85f6c2098: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bdad665f-7bfb-4a47-a2b0-aba85f6c2098: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0b3a1c62-3e2a-4f91-990b-faec566c909f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0b3a1c62-3e2a-4f91-990b-faec566c909f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e9e5934f-ba18-462b-a4fd-0804aee45a35: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e9e5934f-ba18-462b-a4fd-0804aee45a35: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e43f97b0-a24f-42cf-aa70-a6cd8aa41680: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e43f97b0-a24f-42cf-aa70-a6cd8aa41680: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 620bf888-c6af-453e-8e3e-7ffd831665c6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 620bf888-c6af-453e-8e3e-7ffd831665c6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 32a7584b-ef98-4374-9645-1f16d5829cc0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 32a7584b-ef98-4374-9645-1f16d5829cc0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fc98a91e-e31a-49ef-896b-e8967fd03c7c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fc98a91e-e31a-49ef-896b-e8967fd03c7c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ea628e4f-35a8-4b01-81ed-319d92262a3c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ea628e4f-35a8-4b01-81ed-319d92262a3c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 247a0de9-b79f-49f3-b189-0f684a5f4859: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 247a0de9-b79f-49f3-b189-0f684a5f4859: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9cba4b34-1c09-4d5d-be39-8994da7a4bd2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9cba4b34-1c09-4d5d-be39-8994da7a4bd2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/2.7-payment/2.7.1-create-payment.spec.ts (28.213 s)
  2.7.1 Create Payment (Mocked Stripe)
    Successful Payment Creation
      ΓêÜ TC-2.7.1-01: Verify create payment for deposit type (1577 ms)
      ΓêÜ TC-2.7.1-02: Verify create payment for participation_fee (1396 ms)
      ΓêÜ TC-2.7.1-03: Verify create payment for winning_payment (1175 ms)
      ΓêÜ TC-2.7.1-12: Verify payment with bank_transfer method (1837 ms)
      ΓêÜ TC-2.7.1-13: Verify payment with e_wallet method (1646 ms)
    Validation Failures
      ΓêÜ TC-2.7.1-04: Fail payment with invalid paymentType enum (105 ms)
      ΓêÜ TC-2.7.1-05: Fail payment with invalid paymentMethod enum (89 ms)
      ΓêÜ TC-2.7.1-06: Fail payment with missing auctionId (88 ms)
      ΓêÜ TC-2.7.1-07: Fail payment with missing registrationId (91 ms)
      ΓêÜ TC-2.7.1-08: Fail payment with missing amount (97 ms)
      ΓêÜ TC-2.7.1-09: Fail payment with zero amount (90 ms)
      ΓêÜ TC-2.7.1-10: Fail payment with negative amount (81 ms)
      ΓêÜ TC-2.7.1-11: Fail payment without authentication (75 ms)
      ├ù TC-2.7.1-15: Fail payment with non-existent auctionId (1390 ms)
      ├ù TC-2.7.1-16: Fail payment with non-existent registrationId (1041 ms)

  ΓùÅ 2.7.1 Create Payment (Mocked Stripe) ΓÇ║ Validation Failures ΓÇ║ TC-2.7.1-15: Fail payment with non-existent auctionId

    expect(received).toContain(expected) // indexOf

    Expected value: 201
    Received array: [404, 400]

      337 |
      338 |       // May return 404 or 400 (foreign key) depending on implementation
    > 339 |       expect([404, 400]).toContain(response.status);
          |                          ^
      340 |     });
      341 |
      342 |     it('TC-2.7.1-16: Fail payment with non-existent registrationId', async () => {

      at Object.<anonymous> (test/integration/2.7-payment/2.7.1-create-payment.spec.ts:339:26)

  ΓùÅ 2.7.1 Create Payment (Mocked Stripe) ΓÇ║ Validation Failures ΓÇ║ TC-2.7.1-16: Fail payment with non-existent registrationId

    expect(received).toContain(expected) // indexOf

    Expected value: 201
    Received array: [404, 400]

      353 |
      354 |       // May return 404 or 400 (foreign key) depending on implementation
    > 355 |       expect([404, 400]).toContain(response.status);
          |                          ^
      356 |     });
      357 |   });
      358 | });

      at Object.<anonymous> (test/integration/2.7-payment/2.7.1-create-payment.spec.ts:355:26)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fcffaf01-fc16-471e-9669-d2057e33c308: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 40b94bab-fce9-490a-9daa-65dc8c1c94c5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c1393534-35cb-4019-9195-02bcafd0426a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 62acecc6-f14c-4b04-a22f-d63f92e28353: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fb2a510b-114e-4e45-82b3-42edcd760c0b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2017e355-d8bc-4dcf-a562-be06afb056a7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 13589a64-7614-4636-94cd-dfbb4a98c377: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user beadff34-b54a-42c0-89e3-0e8df309a5e3: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/5.2-integration/5.2.3-state-transitions.spec.ts (5.957 s)
  5.2.3 Auction State Transitions
    Scheduled to Live Transition
      ΓêÜ TC-5.2.3-01a: Bidding blocked on scheduled auction (129 ms)
      ΓêÜ TC-5.2.3-01b: Bidding allowed on live auction (120 ms)
      ΓêÜ TC-5.2.3-01c: Admin can manually trigger status update (82 ms)
    Live to Ended Transition
      ΓêÜ TC-5.2.3-02a: Bidding blocked on ended auction (70 ms)
      ΓêÜ TC-5.2.3-02b: Finalization allowed on awaiting_result auction (183 ms)
      ΓêÜ TC-5.2.3-02c: Finalization blocked on live auction (54 ms)
    State Transition Validation
      ├ù TC-5.2.3-03: Cannot transition backwards (success ΓåÆ live) (55 ms)
      ├ù TC-5.2.3-04: Cancelled is terminal state (54 ms)

  ΓùÅ 5.2.3 Auction State Transitions ΓÇ║ State Transition Validation ΓÇ║ TC-5.2.3-03: Cannot transition backwards (success ΓåÆ live)

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [400, 403]

      446 |
      447 |       // Should fail (invalid transition)
    > 448 |       expect([400, 403]).toContain(response.status);
          |                          ^
      449 |     });
      450 |
      451 |     it('TC-5.2.3-04: Cancelled is terminal state', async () => {

      at Object.<anonymous> (test/integration/5.2-integration/5.2.3-state-transitions.spec.ts:448:26)

  ΓùÅ 5.2.3 Auction State Transitions ΓÇ║ State Transition Validation ΓÇ║ TC-5.2.3-04: Cancelled is terminal state

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [400, 403]

      484 |
      485 |       // Should fail
    > 486 |       expect([400, 403]).toContain(response.status);
          |                          ^
      487 |     });
      488 |   });
      489 | });

      at Object.<anonymous> (test/integration/5.2-integration/5.2.3-state-transitions.spec.ts:486:26)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f3c8b6cb-058e-48b8-b8e0-348bdcefa383: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 125df5f0-ec04-4c6a-a877-383e41997888: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fca88f29-cba8-4742-ab7f-7f6a6f53ecbf: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 686ac502-7989-4b4b-869f-9828d9983f3c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e642850d-9a98-44fb-9081-eead842e3fe9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user eab0ba99-7adb-48db-93aa-e7c2c8b91475: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 78b20274-dc52-416d-b3ab-dde8ea0b94bf: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/2.6-auction-finalization/2.6.2-finalize.spec.ts
  2.6.2 Finalize Auction
    Successful Finalization
      ΓêÜ TC-2.6.2-01: Verify Admin finalizes auction with bids (202 ms)
      ΓêÜ TC-2.6.2-02: Verify finalization creates contract (122 ms)
      ΓêÜ TC-2.6.1-03: Verify finalization without bids marks as failed (81 ms)
      ΓêÜ TC-2.6.2-02: Verify finalization creates audit log (105 ms)
    Finalization Failures
      ΓêÜ TC-2.6.2-09: Fail Bidder finalizes auction (52 ms)
      ΓêÜ TC-2.6.2-07: Fail finalize already finalized (67 ms)
      ├ù TC-2.6.2-08: Fail finalize live auction (102 ms)

  ΓùÅ 2.6.2 Finalize Auction ΓÇ║ Finalization Failures ΓÇ║ TC-2.6.2-08: Fail finalize live auction

    expected 400 "Bad Request", got 200 "OK"

      228 |         .set('Authorization', `Bearer ${adminToken}`)
      229 |         .send({ auctionId: endedAuction.id })
    > 230 |         .expect(400);
          |          ^
      231 |     });
      232 |   });
      233 | });

      at Object.<anonymous> (test/integration/2.6-auction-finalization/2.6.2-finalize.spec.ts:230:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 6c1dd186-b63a-43e6-8a6d-20aeb7b32144: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b70e3f71-57fe-4d99-9391-ef0280966248: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/4.1-security/4.1.2-mass-assignment.spec.ts
  4.1.2 Mass Assignment
    Registration Mass Assignment
      ΓêÜ TC-4.1.2-01: Cannot set role=admin during registration (81 ms)
      ΓêÜ TC-4.1.2-02: Cannot set isVerified=true during registration (27 ms)
      ΓêÜ TC-5.3.4-01: Cannot set id during registration (31 ms)
    Auction Update Mass Assignment
      ├ù TC-4.1.2-03: Cannot set status directly on auction update (73 ms)
      ΓêÜ TC-4.1.2-05: Forbid non-whitelisted fields returns 400 (54 ms)

  ΓùÅ 4.1.2 Mass Assignment ΓÇ║ Auction Update Mass Assignment ΓÇ║ TC-4.1.2-03: Cannot set status directly on auction update

    expect(received).toBe(expected) // Object.is equality

    Expected: "scheduled"
    Received: "success"

      170 |         where: { id: auction.id },
      171 |       });
    > 172 |       expect(updated?.status).toBe(AuctionStatus.scheduled); // Unchanged
          |                               ^
      173 |     });
      174 |
      175 |     it('TC-4.1.2-05: Forbid non-whitelisted fields returns 400', async () => {

      at Object.<anonymous> (test/integration/4.1-security/4.1.2-mass-assignment.spec.ts:172:31)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 44eb986e-88f4-4091-b543-764929245d9c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 972b2d3b-2d21-4eaa-b2dc-e45b09480be7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 09aea406-fbe2-4a63-9ab3-b653a64fb22e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5a24f0c4-2a20-48ff-9d41-9cfb51c433d9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e33f6b52-8120-4010-be1a-71c34b45589f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/2.3-auction-management/2.3.5-delete-auction.spec.ts
  2.3.5 Delete Auction
    Successful Deletion
      ΓêÜ TC-2.3.5-01: Verify delete scheduled auction (104 ms)
    Deletion Failures
      ΓêÜ TC-2.3.5-02: Fail delete auction with bids (59 ms)
      ├ù TC-2.3.5-03: Fail delete auction with participants (71 ms)
      ΓêÜ TC-2.3.5-04: Fail delete live auction (55 ms)
      ΓêÜ TC-2.3.5-05: Fail delete non-existent auction (68 ms)

  ΓùÅ 2.3.5 Delete Auction ΓÇ║ Deletion Failures ΓÇ║ TC-2.3.5-03: Fail delete auction with participants

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [400, 409]

      162 |         .set('Authorization', `Bearer ${adminToken}`);
      163 |
    > 164 |       expect([400, 409]).toContain(response.status);
          |                          ^
      165 |     });
      166 |
      167 |     it('TC-2.3.5-04: Fail delete live auction', async () => {

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.5-delete-auction.spec.ts:164:26)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b68f3686-d59a-483d-8baf-b3371cabf326: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 6bbe1aff-4fb4-4b19-a779-51e4282921e8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 84039adb-d708-4e53-99d3-e3c6251779d5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 597264ba-1571-4c9f-8e1c-6091090a8231: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1f67c056-4598-436e-910b-8df0a73e821a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c029361f-0164-46b6-8f2d-ac10c381d6e3: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 513c14c4-a85f-4e71-aa97-940397d461e5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/2.5-bidding-system/2.5.2-bid-denial.spec.ts
  2.5.2 Bid Denial
    Successful Denial
      ├ù TC-2.5.2-02: Verify Admin denies bid with reason (140 ms)
      ΓêÜ TC-2.5.2-01: Verify Auctioneer denies bid (94 ms)
    Denial Failures
      ΓêÜ TC-2.8.4-03: Fail Bidder denies bid (73 ms)
      ΓêÜ TC-2.5.2-06: Fail deny non-existent bid (66 ms)
      ΓêÜ TC-2.5.2-07: Fail deny already denied bid (77 ms)
      ΓêÜ TC-2.5.1-18: Fail deny with missing reason (80 ms)
    Winner Promotion
      ├ù TC-2.5.2-08: Verify next highest bid promoted when winning denied (102 ms)
    Authentication
      ΓêÜ TC-2.5.1-14: Fail denial without authentication (68 ms)

  ΓùÅ 2.5.2 Bid Denial ΓÇ║ Successful Denial ΓÇ║ TC-2.5.2-02: Verify Admin denies bid with reason

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

      162 |       expect(bid!.isDenied).toBe(true);
      163 |       expect(bid!.deniedAt).toBeTruthy();
    > 164 |       expect(bid!.isWinningBid).toBe(false);
          |                                 ^
      165 |     });
      166 |
      167 |     it('TC-2.5.2-01: Verify Auctioneer denies bid', async () => {

      at Object.<anonymous> (test/integration/2.5-bidding-system/2.5.2-bid-denial.spec.ts:164:33)

  ΓùÅ 2.5.2 Bid Denial ΓÇ║ Winner Promotion ΓÇ║ TC-2.5.2-08: Verify next highest bid promoted when winning denied

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      266 |         where: { id: lowerBid.id },
      267 |       });
    > 268 |       expect(updatedLowerBid!.isWinningBid).toBe(true);
          |                                             ^
      269 |     });
      270 |   });
      271 |

      at Object.<anonymous> (test/integration/2.5-bidding-system/2.5.2-bid-denial.spec.ts:268:45)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user dca5e7ba-29fe-4ce0-bf39-227d67875321: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 88bfeff2-d672-4799-a451-3c3c0d8a17d9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f1db5448-28e3-442e-ac43-0c9d3435cf72: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 44f08c41-b85e-4fc7-9681-6a7614c7da20: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c1fccb88-6c1a-451b-aedb-dad6677dbd64: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c1fccb88-6c1a-451b-aedb-dad6677dbd64: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d00e3b18-49eb-4a60-ac2b-129b92109c92: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 6c924c1a-d73c-4fc5-b32e-971189577dd3: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

FAIL integration test/integration/2.3-auction-management/2.3.3-create-auction.spec.ts
  2.3.3 Create Auction
    Successful Creation
      ΓêÜ TC-2.6.1-01: Verify Admin creates auction (152 ms)
      ΓêÜ TC-2.3.2-05: Verify Auctioneer creates auction (104 ms)
    Authorization Failures
      ├ù TC-2.6.2-09: Fail Bidder creates auction (88 ms)
      ΓêÜ TC-2.8.1-07: Fail create without auth (54 ms)
    Validation Failures
      ΓêÜ TC-2.2.4-06: Fail with missing required fields (60 ms)
      ΓêÜ TC-2.3.3-10: Fail with duplicate code (125 ms)
      ├ù TC-2.3.3-05: Fail with negative starting price (78 ms)
      ΓêÜ TC-2.3.3-06: Fail with auction end before start (71 ms)

  ΓùÅ 2.3.3 Create Auction ΓÇ║ Authorization Failures ΓÇ║ TC-2.6.2-09: Fail Bidder creates auction

    expected 403 "Forbidden", got 201 "Created"

      134 |         .set('Authorization', `Bearer ${bidderToken}`)
      135 |         .send(payload)
    > 136 |         .expect(403);
          |          ^
      137 |     });
      138 |
      139 |     it('TC-2.8.1-07: Fail create without auth', async () => {

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.3-create-auction.spec.ts:136:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  ΓùÅ 2.3.3 Create Auction ΓÇ║ Validation Failures ΓÇ║ TC-2.3.3-05: Fail with negative starting price

    expected 400 "Bad Request", got 201 "Created"

      182 |         .set('Authorization', `Bearer ${adminToken}`)
      183 |         .send(payload)
    > 184 |         .expect(400);
          |          ^
      185 |     });
      186 |
      187 |     it('TC-2.3.3-06: Fail with auction end before start', async () => {

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.3-create-auction.spec.ts:184:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/2.1-user-management/2.1.1-user-registration.spec.ts (29.575 s)
  2.1.1 User Registration
    Successful Registration
      ΓêÜ TC-2.1.1-02: Verify successful individual user registration (4884 ms)
      ΓêÜ TC-2.1.1-02: Verify successful business user registration (2952 ms)
      ΓêÜ TC-2.1.1-16: Verify registration with minimal required fields (2842 ms)
      ΓêÜ TC-2.1.1-19: Verify default role is BIDDER (2899 ms)
    Email Validation
      ΓêÜ TC-2.2.4-06: Fail with missing email (19 ms)
      ΓêÜ TC-2.2.1-06: Fail with invalid email format (16 ms)
      ΓêÜ TC-2.3.3-10: Fail with duplicate email (2895 ms)
      ΓêÜ TC-2.1.1-26: Verify case-insensitive email uniqueness (3012 ms)
    Password Validation
      ΓêÜ TC-2.2.4-06: Fail with missing password (25 ms)
      ΓêÜ TC-2.1.1-06: Fail with weak password (no uppercase) (22 ms)
      ΓêÜ TC-2.1.1-08: Fail with weak password (no number) (26 ms)
      ΓêÜ TC-2.2.1-02: Fail with short password (<8 chars) (26 ms)
    Phone Validation
      ΓêÜ TC-2.1.1-09: Fail with invalid phone format (29 ms)
      ΓêÜ TC-2.1.1-13: Fail with duplicate phone (2822 ms)
    Identity Number Validation
      ΓêÜ TC-2.1.1-14: Fail with duplicate identity number (2911 ms)
      ΓêÜ TC-2.1.1-10: Fail with invalid identity number format (23 ms)
    User Type Validation
      ΓêÜ TC-2.2.4-06: Fail with missing user_type (72 ms)
      ΓêÜ TC-2.1.1-15: Fail with invalid user_type enum (24 ms)
    Security
      ΓêÜ TC-4.1.5-01: SQL Injection prevention in email (20 ms)
      ΓêÜ TC-4.1.6-02: XSS prevention in full_name (2838 ms)
      ΓêÜ TC-4.1.2-01: Mass assignment prevention (role elevation) (19 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4680a00f-972b-4199-9ef2-ece6e80395a2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 86ce62c2-1482-415d-9f6b-9a8f8db7ea78: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4dee078c-6d8f-4a19-93f4-6a8443dd6a85: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user cdbb92e5-8b62-48ea-9ed8-05129a74ca29: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user a0643fef-efc9-4d5d-86c0-09a275da5735: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user fe961b9e-b611-4c1c-8b4c-a2ccbfd61d9f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user 3886df7b-0384-47d6-ae5a-81121f9899d0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/5.1-reliability/5.1.4-data-integrity.spec.ts (10.211 s)
  5.1.6-8 Data Integrity and Edge Cases
    5.1.6 Transaction Isolation
      ΓêÜ TC-2.5.1-15: Failed transaction rollback (106 ms)
      ΓêÜ TC-2.5.1-15: Bid transaction atomicity (122 ms)
    5.1.7 Large Data Handling
      ΓêÜ TC-5.2.2-02: Handle many concurrent bidders (148 ms)
      ΓêÜ TC-2.3.5-04: Paginate large auction list (82 ms)
    5.1.8 Edge Cases
      ΓêÜ TC-5.1.8-01: Handle max integer bid amount (2925 ms)
      ΓêÜ TC-5.1.8-02: Handle Unicode in names (3108 ms)
      ΓêÜ TC-5.3.5-01: Handle empty optional fields (2795 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    Note: timeUpdate event not received within 5 seconds - server may use different interval

      at Timeout._onTimeout (test/integration/2.5-bidding-system/2.5.4-bid-history.spec.ts:348:19)

PASS integration test/integration/2.5-bidding-system/2.5.4-bid-history.spec.ts (7.221 s)
  2.5.4-5 Bid History and WebSocket Stream
    2.5.4 Bid History via WebSocket
      ΓêÜ TC-2.4.1-01: Verify get bid history for auction via WebSocket (151 ms)
      ΓêÜ TC-2.2.1-08: Verify bid history sorted by amount (highest first) (90 ms)
      ΓêÜ TC-2.4.1-01: Verify get current winning bid via WebSocket (82 ms)
      ΓêÜ TC-2.6.4-02: Verify bid history includes bidder names (73 ms)
    2.5.5 WebSocket Bid Stream
      ΓêÜ TC-2.5.3-01: Verify WebSocket connection to bidding namespace (64 ms)
      ΓêÜ TC-2.1.2-05: Verify auction state includes all required fields (76 ms)
      ΓêÜ TC-2.8.2-02: Verify next minimum bid calculation (64 ms)
      ΓêÜ TC-2.5.3-04: Verify leave auction works correctly (174 ms)
      ΓêÜ TC-2.5.5-01: Verify time update events are received (5110 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    Test auction TEST-GET-001 not found in 10 search results

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.2-get-auction.spec.ts:149:19)

  console.log
    Found 10 auctions matching "TEST-GET"

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.2-get-auction.spec.ts:169:17)

PASS integration test/integration/2.3-auction-management/2.3.2-get-auction.spec.ts
  2.3.2 Get Auction by ID and Search
    Get by UUID
      ΓêÜ TC-2.10.1-01: Verify get auction by ID (public) (112 ms)
      ΓêÜ TC-2.7.1-17: Verify response includes all fields (40 ms)
      ΓêÜ TC-2.11.2-03: Return 404 for non-existent ID (38 ms)
      ΓêÜ TC-2.2.2-02: Return 400 for invalid ID format (35 ms)
    Find by Code via Search
      ΓêÜ TC-2.2.1-09: Verify find auction by code via search (53 ms)
      ΓêÜ TC-2.11.2-01: Verify search by partial code (60 ms)
      ΓêÜ TC-2.11.5-03: Verify search by name returns auction (37 ms)
      ΓêÜ TC-2.11.5-03: Verify search with non-existent code returns valid response (34 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/2.3-auction-management/2.3.1-list-auctions.spec.ts
  2.3.1 List Auctions
    Public Listing
      ΓêÜ TC-2.3.1-01: Verify public list auctions (no auth) (224 ms)
      ΓêÜ TC-2.3.1-04: Verify pagination (147 ms)
      ΓêÜ TC-2.4.15-02: Verify filter by status (97 ms)
      ΓêÜ TC-2.11.4-03: Verify filter by assetType (107 ms)
      ΓêÜ TC-2.11.2-01: Verify search by name (103 ms)
      ΓêÜ TC-2.5.1-01: Verify sort by startingPrice (102 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 75a47f5e-c300-4aa4-a8d6-c56411078d85: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e57f284-7f2f-411b-a8c7-0714ab98a408: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4610ff19-9842-4a58-8c85-a7d5cae45981: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 6da3096a-ccf7-4ae7-93f2-1b815bf96007: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7daf3a94-c075-495d-a517-9e39a681d56e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 35b56f9a-a381-48cf-92b3-2f92f8e6d59d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7aea0b8a-d053-420f-b4f6-798c50f75e98: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e7f87076-0101-4d8e-8bce-568145fb1cb0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 85b5bf57-10af-43e7-868c-4776e977d827: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 964129a1-5515-4630-a86b-914c415a9ad7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f88987ca-7dfd-4aa4-bf0c-3bd79eaf5c7f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8a4422f5-63e2-49c9-9ef0-a304f417111f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 86bda484-97c8-4372-b0b5-e9ea75ed7ad0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 52578d70-d672-4219-8c0c-1eb6c6b50a6c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a7c109f6-166a-4b1b-907e-ec998603d3ad: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8b49f7a8-998d-47ae-8080-9e11d33ec1c0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0114d699-ad8f-44fa-97ed-a72ab94c76f7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

[Nest] 30224  - 12/29/2025, 10:06:34 PM   ERROR [AuthGuard] JWT verification failed: jwt malformed
PASS integration test/integration/2.5-bidding-system/2.5.1-manual-bidding.spec.ts
  2.5.1 Manual Bidding
    Successful Bids
      ΓêÜ TC-2.5.1-01: Verify first bid at starting price (180 ms)
      ΓêÜ TC-2.5.1-02: Verify bid at minimum increment (150 ms)
      ΓêÜ TC-2.5.1-03: Verify bid higher than minimum increment (127 ms)
      ΓêÜ TC-2.5.1-24: Verify self-outbidding (outbid own highest bid) (123 ms)
    Bid Validation Failures
      ΓêÜ TC-2.5.1-04: Fail with insufficient increment (98 ms)
      ΓêÜ TC-2.5.1-06: Fail with bid below current highest (110 ms)
      ΓêÜ TC-2.5.1-05: Fail with bid below starting price (91 ms)
      ΓêÜ TC-2.5.1-20: Fail with zero amount (81 ms)
      ΓêÜ TC-2.5.1-19: Fail with negative amount (74 ms)
      ΓêÜ TC-2.7.1-06: Fail with missing auctionId (111 ms)
      ΓêÜ TC-2.7.1-08: Fail with missing amount (102 ms)
    Participant Status Checks
      ΓêÜ TC-2.5.1-27: Fail bid from non-checked-in participant (91 ms)
      ΓêÜ TC-2.1.3-08: Fail bid from non-registered user (78 ms)
      ΓêÜ TC-2.5.1-26: Fail bid from withdrawn participant (92 ms)
      ΓêÜ TC-2.5.1-28: Fail bid from banned user (104 ms)
    Auction Status Checks
      ΓêÜ TC-2.5.1-08: Fail bid on scheduled auction (101 ms)
      ΓêÜ TC-2.5.1-09: Fail bid on completed auction (109 ms)
    Authentication
      ΓêÜ TC-2.4.7-03: Fail bid without authentication (83 ms)
      ΓêÜ TC-2.2.4-02: Fail bid with invalid token (104 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 64a31334-a773-4086-8a49-b0cde0f97745: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:36 PM   ERROR [PaymentProcessingService] Failed to process deposit payment for registration 3813a986-92af-4dd2-8819-a88181d046e9
[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [PaymentProcessingService] BadRequestException: Payment amount mismatch. Expected (Deposit + Fee): 1500000, Received: 50000000
    at PaymentProcessingService.processDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment-processing.service.ts:77:15)
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:78:9)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  response: {
    message: 'Payment amount mismatch. Expected (Deposit + Fee): 1500000, Received: 50000000',
    error: 'Bad Request',
    statusCode: 400
  },
  status: 400,
  options: {}
}
[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [RegistrationPaymentService] Failed to submit deposit for registration 3813a986-92af-4dd2-8819-a88181d046e9
BadRequestException: Payment amount mismatch. Expected (Deposit + Fee): 1500000, Received: 50000000
    at PaymentProcessingService.processDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment-processing.service.ts:77:15)
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:78:9)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 688f3168-9a13-4233-8639-bde51b885d18: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [RegistrationPaymentService] Failed to submit deposit for registration 822020a8-1a69-49c6-b89d-d5bbb0d52ed5
BadRequestException: Documents must be verified before submitting deposit
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:61:15)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0a5f2b04-ff32-4f16-8e88-264c035ecee4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [PaymentProcessingService] Failed to process deposit payment for registration fe3a14f3-e670-45b8-9bf7-54bec4d8dfe4
[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [PaymentProcessingService] BadRequestException: Payment amount mismatch. Expected (Deposit + Fee): 1500000, Received: 1000
    at PaymentProcessingService.processDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment-processing.service.ts:77:15)
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:78:9)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  response: {
    message: 'Payment amount mismatch. Expected (Deposit + Fee): 1500000, Received: 1000',
    error: 'Bad Request',
    statusCode: 400
  },
  status: 400,
  options: {}
}
[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [RegistrationPaymentService] Failed to submit deposit for registration fe3a14f3-e670-45b8-9bf7-54bec4d8dfe4
BadRequestException: Payment amount mismatch. Expected (Deposit + Fee): 1500000, Received: 1000
    at PaymentProcessingService.processDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment-processing.service.ts:77:15)
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:78:9)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 72c0f8de-8f76-4716-a6d6-794638be885b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [RegistrationPaymentService] Failed to submit deposit for registration b32feb8c-5304-4d04-95e3-c368cba1c38d
ConflictException: Deposit already submitted
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:67:15)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user cdd80f20-7cab-45d8-8677-6920e0705978: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2986541c-5026-43c7-8838-3187d7728b54: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:37 PM   ERROR [RegistrationPaymentService] Failed to verify deposit payment for registration 55ed48eb-4131-4511-8731-9e2945ad354d
BadRequestException: Failed to verify payment: No such checkout.session: cs_test_valid_session
    at PaymentService.verifyPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment.service.ts:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at RegistrationPaymentService.verifyDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:131:28)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 160a69aa-cea7-47d5-b391-96c92241b979: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:38 PM   ERROR [RegistrationPaymentService] Failed to verify deposit payment for registration 73bac512-d27c-4cbd-b899-089b48bdfb5d
BadRequestException: Failed to verify payment: No such checkout.session: cs_test_incomplete_session
    at PaymentService.verifyPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment.service.ts:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at RegistrationPaymentService.verifyDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:131:28)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 02a8e48b-cf97-4239-bb08-9ec7c7e9b6ef: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:38 PM   ERROR [RegistrationPaymentService] Failed to verify deposit payment for registration c6aec7b9-06be-4075-9ebb-b6b1959e8d15
BadRequestException: Failed to verify payment: No such checkout.session: invalid_session
    at PaymentService.verifyPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\payment\payment.service.ts:148:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at RegistrationPaymentService.verifyDepositPayment (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:131:28)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
PASS integration test/integration/2.4-registration-to-bid/2.4.4-deposit.spec.ts
  2.4.4-5 Deposit Operations
    2.4.4 Submit Deposit
      ΓêÜ TC-2.4.4-01: Verify submit deposit after document verification (258 ms)
      ΓêÜ TC-2.4.4-02: Fail submit deposit without document verification (86 ms)
      ΓêÜ TC-2.4.4-03: Fail submit deposit with wrong amount (80 ms)
      ΓêÜ TC-2.4.4-04: Fail submit deposit for already paid (81 ms)
      ΓêÜ TC-2.4.4-05: Fail submit deposit with negative amount (63 ms)
    2.4.5 Verify Deposit Payment
      ΓêÜ TC-2.4.5-01: Verify deposit payment verification (558 ms)
      ΓêÜ TC-2.4.5-02: Fail verify incomplete payment (364 ms)
      ΓêÜ TC-2.4.5-03: Fail verify with invalid sessionId (352 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b84c0c07-cfa7-469b-9b37-c09805ac87f7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fa1a408f-7753-45d7-af99-9b7e3ae0df98: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:41 PM   ERROR [AdminApprovalService] Failed to approve registration 90426f8e-7464-4b64-bf60-fbf3e0767ccb
ConflictException: Registration already confirmed
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:71:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.approveRegistration (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:52:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 958c5c11-0c26-484f-a774-9a0383cc320a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:41 PM   ERROR [AdminApprovalService] Failed to approve registration 118cd1ee-8a94-4aee-aa46-8c1e9c12e7c6
BadRequestException: Cannot confirm a withdrawn registration
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:75:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.approveRegistration (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:52:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fa8d774b-6449-4d56-960c-19cdfac70591: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:42 PM   ERROR [AdminApprovalService] Failed to approve registration 550e8400-e29b-41d4-a716-446655440000
NotFoundException: Registration not found
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:60:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.approveRegistration (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:52:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 626589fc-4ec4-41bd-8e6b-faf85f3d10a0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5e5a0a4c-1292-422b-a332-36c2ad20ff0a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a4bfb2f0-c6f4-4313-bf8d-76b3b70aed97: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:42 PM   ERROR [AdminApprovalService] Failed to reject registration c7304f56-11c8-43c2-8a73-3d8a37534485
ConflictException: Cannot reject an already confirmed registration
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:132:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.rejectRegistration (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:113:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 31fd3d73-47c0-4070-8c45-3f2a6d7d68f4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 85dcd405-1ed3-4913-af09-233fcfd7d7a2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3058d1fb-7415-4901-897b-a57a3a5ba5f1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:42 PM   ERROR [AdminApprovalService] Failed to verify documents for registration 0e717565-37d6-4a99-8ffd-af331719a0af
ConflictException: Documents already verified
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:288:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.verifyDocuments (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:268:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3d57aa5c-66cf-48a9-82e6-7cccb20624c9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 62828a60-b2b7-4081-8941-9a27a05cc0fb: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 50930bf7-aa13-4266-9049-b06de455fcbd: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user af857060-a33b-415f-8ab0-5ca9efd48050: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:43 PM   ERROR [AdminApprovalService] [FINAL APPROVAL FAILED] Registration deb533e7-bdf4-40f2-8a15-875d19eeb454: documentsVerifiedAt is NULL! Full state logged above. This means Tier 1 document verification was not completed.
[Nest] 30224  - 12/29/2025, 10:06:43 PM   ERROR [AdminApprovalService] Failed to give final approval for registration deb533e7-bdf4-40f2-8a15-875d19eeb454
BadRequestException: Documents must be verified first
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:460:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.approveRegistrationFinal (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:422:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 38d89355-6ec3-4200-9efb-5543bc5b4a68: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:43 PM   ERROR [AdminApprovalService] Failed to give final approval for registration 8a65eaa9-16de-465f-9618-298d8c70f861
BadRequestException: Deposit must be paid before final approval
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:467:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.approveRegistrationFinal (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:422:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 430698fc-8724-441c-9dca-3a7815231751: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:43 PM   ERROR [AdminApprovalService] Failed to give final approval for registration ba40b5de-3f37-4310-abcd-9f4381f8d625
ConflictException: Registration already confirmed
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:473:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at AdminApprovalService.approveRegistrationFinal (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\admin-approval.service.ts:422:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
PASS integration test/integration/2.4-registration-to-bid/2.4.6-admin-operations.spec.ts (7.132 s)
  2.4.9-13 Admin Registration Operations
    2.4.9 Approve Registration
      ΓêÜ TC-2.4.9-01: Verify Admin approves registration (229 ms)
      ΓêÜ TC-2.4.9-02: Fail approve already approved (227 ms)
      ΓêÜ TC-2.4.9-03: Fail approve withdrawn registration (146 ms)
      ΓêÜ TC-2.4.9-05: Fail approve non-existent registration (125 ms)
    2.4.10 Reject Registration
      ΓêÜ TC-2.4.10-01: Verify Admin rejects registration with reason (139 ms)
      ΓêÜ TC-2.4.10-02: Verify reject without reason (optional) (127 ms)
      ΓêÜ TC-2.4.10-03: Fail reject already confirmed registration (125 ms)
    2.4.11 Verify Documents
      ΓêÜ TC-2.4.11-01: Verify Admin verifies documents (121 ms)
      ΓêÜ TC-2.4.11-02: Fail verify documents without submission (126 ms)
      ΓêÜ TC-2.4.11-03: Fail verify already verified (151 ms)
    2.4.12 Reject Documents
      ΓêÜ TC-2.4.12-01: Verify Admin rejects documents with reason (115 ms)
      ΓêÜ TC-2.4.12-02: Fail reject documents without reason (89 ms)
    2.4.13 Final Approval
      ΓêÜ TC-2.4.13-01: Verify Admin final approval (103 ms)
      ΓêÜ TC-2.4.13-02: Fail final approval without document verification (109 ms)
      ΓêÜ TC-2.4.13-02: Fail final approval without deposit payment (103 ms)
      ΓêÜ TC-2.4.13-04: Fail final approval already confirmed (111 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    Rate limit statuses: [ 400 ]

      at Object.<anonymous> (test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts:75:15)

  console.log
    Rate limiting active: false

      at Object.<anonymous> (test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts:84:15)

  console.log
    TODO: Rate limiting test - implementation dependent

      at Object.<anonymous> (test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts:89:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e353bc06-7d37-4801-8877-5531e12745de: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    TODO: Implement executable file rejection test

      at Object.<anonymous> (test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts:149:15)

  console.log
    TODO: Implement file size limit test

      at Object.<anonymous> (test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts:155:15)

  console.log
    TODO: Implement valid file upload test

      at Object.<anonymous> (test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts:161:15)

PASS integration test/integration/4.1-security/4.1.6-rate-limit-xss.spec.ts (5.087 s)
  4.1.7-9 Rate Limiting, XSS, File Upload
    4.1.7 Rate Limiting
      ΓêÜ TC-4.1.7-01: Rate limiting on login endpoint (placeholder) (127 ms)
      ΓêÜ TC-4.1.7-02: Rate limiting on registration (placeholder) (45 ms)
    4.1.8 XSS Prevention
      ΓêÜ TC-4.1.6-03: XSS in auction name is sanitized (61 ms)
      ΓêÜ TC-4.1.8-02: XSS in user input is escaped (3191 ms)
    4.1.9 File Upload Security
      ΓêÜ TC-4.1.9-01: Reject executable file upload (placeholder) (19 ms)
      ΓêÜ TC-4.1.9-02: Reject oversized file upload (placeholder) (19 ms)
      ΓêÜ TC-4.1.9-03: Accept valid image file (placeholder) (18 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 06eb36b5-72cd-419e-bf83-8fa398237bfb: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:06:53 PM   ERROR [RegistrationPaymentService] Failed to submit deposit for registration 8d4be31d-eb5a-457c-a748-5e8ed4e4eb19
ConflictException: Deposit already submitted
    at RegistrationPaymentService.submitDeposit (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\registration-payment.service.ts:67:15)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    TODO: Concurrent deposit test requires Stripe session mocking

      at Object.<anonymous> (test/integration/5.1-reliability/5.1.3-concurrency.spec.ts:158:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bc200f5e-c036-4598-b6f1-b7de8d6f401a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9c475f62-3e4a-4125-b151-9dca635c7afd: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3557cc55-a86f-4d97-88f0-b887cbacd6dc: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user 3557cc55-a86f-4d97-88f0-b887cbacd6dc: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ff0cb509-d29a-48ef-8fdc-2c230b1f6728: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user ff0cb509-d29a-48ef-8fdc-2c230b1f6728: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/5.1-reliability/5.1.3-concurrency.spec.ts
  5.1.3-5 Concurrency and Timing
    5.1.3 Double Spend Prevention
      ΓêÜ TC-2.4.13-03: Prevent double deposit payment (172 ms)
      ΓêÜ TC-5.1.3-02: Concurrent deposit attempts - only one succeeds (90 ms)
    5.1.4 Auction End Edge Cases
      ΓêÜ TC-5.1.3-01: Bid at exact end time (109 ms)
      ΓêÜ TC-2.5.1-12: Bid after auction ends (102 ms)
    5.1.5 Concurrent Operations
      ΓêÜ TC-2.3.4-03: Concurrent auction updates (129 ms)
      ΓêÜ TC-2.3.4-03: Concurrent status transitions (191 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4fa468cb-1f3d-47f7-af6a-ea689ece97da: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f09e386f-03ff-4c58-a936-fae2eff25b62: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user cac9d4fe-8181-42f4-88c6-12e8debfac2f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ae0072f2-17de-4476-8c28-29328be16181: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1df88c99-16ec-4392-99c6-0810f5180df4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 42665593-dbce-48e6-8e07-ce4440f54e76: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ffb631e0-a8fb-43c5-b1a7-22901ac58667: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4de8e46a-f999-4cb3-8a24-5c5fa6e861eb: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user cfbab39e-1d1d-41c7-baef-5a3cbb983d8f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0a7f0e5a-a20d-4338-bad9-a1aef2dd5ecb: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c3f55efe-be1d-4b62-a427-d82a84c03708: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8947ce12-3c77-437f-8e00-b35bad6fff50: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.4-registration-to-bid/2.4.7-refunds.spec.ts (5.484 s)
  2.4.14-15 Refund Processing
    2.4.14 Request Refund
      ΓêÜ TC-2.4.14-01: Verify eligible bidder requests refund after withdrawal (152 ms)
      ΓêÜ TC-2.4.14-02: Fail request refund for disqualified participant (104 ms)
      ΓêÜ TC-2.4.14-03: Fail request refund for auction winner (106 ms)
      ΓêÜ TC-2.4.14-05: Fail request refund without deposit paid (104 ms)
      ΓêÜ TC-2.4.14-06: Fail request refund already requested (87 ms)
      ΓêÜ TC-2.4.14-09: Fail request refund without authentication (63 ms)
    2.4.15 Admin Refund Management
      ΓêÜ TC-2.4.15-01: Verify Admin lists refund requests with pagination (109 ms)
      ΓêÜ TC-2.4.15-02: Verify filter by status (101 ms)
      ΓêÜ TC-2.4.15-05: Verify Admin approves pending refund (91 ms)
      ΓêÜ TC-2.4.15-06: Fail approve non-pending refund (81 ms)
      ΓêÜ TC-2.4.15-08: Fail reject refund without reason (69 ms)
      ΓêÜ TC-2.4.15-11: Fail process refund for disqualified participant (88 ms)
      ΓêÜ TC-2.4.15-14: Fail Bidder accessing admin refunds (73 ms)
      ΓêÜ TC-2.4.15-16: Verify disqualify participant sets forfeited status (73 ms)
      ΓêÜ TC-2.4.15-17: Fail disqualify already disqualified (75 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b4dabb15-9f40-42f4-8705-57b8e4251814: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:07:02 PM   ERROR [UserRegistrationService] Withdrawal failed for user b4dabb15-9f40-42f4-8705-57b8e4251814, auction 229d5a2a-78b9-4a91-982a-521f44480b05
NotFoundException: No registration found for this auction
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:350:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.withdraw (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:316:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 239888db-7984-463c-96eb-3d2ff6b08ea5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 239888db-7984-463c-96eb-3d2ff6b08ea5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/4.1-security/4.1.1-idor.spec.ts (7.311 s)
  4.1.1 IDOR Vulnerabilities
    User Data IDOR
      ΓêÜ TC-4.1.1-01: User cannot access another user data via ID manipulation (88 ms)
      ΓêÜ TC-4.1.1-02: User cannot modify another user profile (59 ms)
    Registration IDOR
      ΓêÜ TC-4.1.1-03: User cannot withdraw another users registration (132 ms)
    Contract IDOR
      ΓêÜ TC-2.12.1-03: Non-party cannot access contract (190 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e535fd9e-0b42-4aef-8339-4ba037103ee4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:07:10 PM   ERROR [UserRegistrationService] Registration failed for user e535fd9e-0b42-4aef-8339-4ba037103ee4, auction 0f0f0a6c-f4a4-4848-9670-e6d45215dbea
ForbiddenException: User already banned
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:96:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ee86377e-5fd8-4cba-9cd3-0fdf16717ac6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/4.1-security/4.1.5-bola-banned.spec.ts
  4.1.5-6 BOLA and Banned Access
    4.1.5 BOLA Prevention
      ΓêÜ TC-4.1.1-02: Cannot access other users profile details (169 ms)
      ΓêÜ TC-4.1.1-02: Cannot access other users payment history (99 ms)
      ΓêÜ TC-4.1.1-02: Cannot modify other users notification settings (94 ms)
    4.1.6 Banned User Access
      ΓêÜ TC-2.5.1-25: Banned user cannot register for auction (140 ms)
      ΓêÜ TC-4.1.8-01: Banned user cannot place bids (135 ms)
      ΓêÜ TC-2.4.15-15: Banned user can still access public endpoints (143 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 87e7f39b-0a4a-4ada-8422-869fd14bb41e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 87e7f39b-0a4a-4ada-8422-869fd14bb41e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a3f099a5-ede9-450a-80a0-1352506cd626: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a3f099a5-ede9-450a-80a0-1352506cd626: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5f81b092-14e8-4564-bf3b-7047ce8fb2e9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5f81b092-14e8-4564-bf3b-7047ce8fb2e9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 037e0fd4-a344-4250-b8d0-7c35c4111261: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 037e0fd4-a344-4250-b8d0-7c35c4111261: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 528d6ed8-6495-4b7b-94d2-d43cf270e7a1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 528d6ed8-6495-4b7b-94d2-d43cf270e7a1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bbe353f4-5a15-4030-a7d5-3124c94f93f6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bbe353f4-5a15-4030-a7d5-3124c94f93f6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:07:14 PM   ERROR [AuctionCostService] Failed to upsert auction costs for 550e8400-e29b-41d4-a716-446655440000
[Nest] 30224  - 12/29/2025, 10:07:14 PM   ERROR [AuctionCostService] NotFoundException: Auction with ID 550e8400-e29b-41d4-a716-446655440000 not found
    at AuctionCostService.upsert (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\auction-policy\auction-cost.service.ts:37:15)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  response: {
    message: 'Auction with ID 550e8400-e29b-41d4-a716-446655440000 not found',
    error: 'Not Found',
    statusCode: 404
  },
  status: 404,
  options: {}
}
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 95ef1fa1-312f-4864-8458-e685b00826d6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 95ef1fa1-312f-4864-8458-e685b00826d6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9f6dada2-0d98-41b3-8f89-f04d995cab6f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9f6dada2-0d98-41b3-8f89-f04d995cab6f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7030d922-041a-4ee4-aca7-450976ab29f2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7030d922-041a-4ee4-aca7-450976ab29f2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0fd700d2-18c7-48dc-8c8a-76b3855ceb76: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0fd700d2-18c7-48dc-8c8a-76b3855ceb76: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2bfcd311-9df9-4b4e-829a-bd35b883db7a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2bfcd311-9df9-4b4e-829a-bd35b883db7a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.8-auction-costs/2.8.1-create-get.spec.ts
  2.8.1-2 Create and Get Auction Costs
    2.8.1 Create Auction Costs
      ΓêÜ TC-2.8.1-01: Verify create auction costs with all fields (199 ms)
      ΓêÜ TC-2.8.1-02: Verify upsert updates existing (101 ms)
      ΓêÜ TC-2.8.1-03: Verify create with otherCosts array (98 ms)
      ΓêÜ TC-2.8.1-04: Verify create with empty optional fields (92 ms)
      ΓêÜ TC-2.8.1-05: Fail create with negative cost (82 ms)
      ΓêÜ TC-2.8.1-06: Fail create for non-existent auction (121 ms)
      ΓêÜ TC-2.8.1-07: Fail create without authentication (61 ms)
      ΓêÜ TC-2.8.1-08: Fail Bidder creating costs (69 ms)
    2.8.2 Get Auction Costs
      ΓêÜ TC-2.8.2-01: Verify get auction costs (77 ms)
      ΓêÜ TC-2.8.2-02: Verify get includes totalCost calculation (80 ms)
      ΓêÜ TC-2.8.2-03: Return 404 for auction without costs (78 ms)
      ΓêÜ TC-2.8.2-04: Fail get for non-existent auction (80 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

[Nest] 30224  - 12/29/2025, 10:07:17 PM   ERROR [AuthGuard] JWT verification failed: invalid signature
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

[Nest] 30224  - 12/29/2025, 10:07:17 PM   ERROR [AuthGuard] JWT verification failed: jwt malformed
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0bf6d037-985d-4594-996d-61caa2b7173b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

[Nest] 30224  - 12/29/2025, 10:07:17 PM   ERROR [AuthGuard] JWT verification failed: invalid signature
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

[Nest] 30224  - 12/29/2025, 10:07:17 PM   ERROR [AuthGuard] JWT verification failed: jwt signature is required
PASS integration test/integration/4.1-security/4.1.3-jwt-security.spec.ts
  4.1.3 JWT Security
    Token Validation
      ΓêÜ TC-4.1.4-01: Reject expired JWT token (78 ms)
      ΓêÜ TC-4.1.4-02: Reject JWT with invalid signature (44 ms)
      ΓêÜ TC-4.1.4-01: Reject malformed JWT (39 ms)
      ΓêÜ TC-4.1.3-04: Reject missing Bearer prefix (36 ms)
      ΓêÜ TC-2.2.1-09: Accept valid JWT token (52 ms)
    Token Tampering
      ΓêÜ TC-4.1.4-02: Reject JWT with modified payload (45 ms)
      ΓêÜ TC-4.1.4-01: Reject none algorithm token (41 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/5.1-reliability/5.1.5-websocket-resilience.spec.ts
  5.1.5 WebSocket Resilience
    WebSocket State via REST API
      ΓêÜ TC-5.1.4-01a: Verify auction state endpoint returns current bid (200 ms)
      ΓêÜ TC-5.1.4-02a: Verify bid history returns all bids (153 ms)
    WebSocket Connection Tests
      ΓêÜ TC-5.1.4-01: Reconnecting client receives current state (140 ms)
      ΓêÜ TC-5.1.4-02: Multiple connections same user receive updates (125 ms)
      ΓêÜ TC-5.1.4-03: Leave room stops events (1090 ms)
    WebSocket Gateway Existence
      ΓêÜ TC-5.1.4-04: Verify WebSocket gateway is configured (104 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c1fd04d9-8837-4051-89f5-3d0b573f3f12: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c1fd04d9-8837-4051-89f5-3d0b573f3f12: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user dd404d2b-37bc-435e-88fe-5b8b65f44608: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user dd404d2b-37bc-435e-88fe-5b8b65f44608: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e9a191af-c67d-4200-bdfa-fbc9e32102e4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e9a191af-c67d-4200-bdfa-fbc9e32102e4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.12-contracts/2.12.2-export-pdf.spec.ts (5.4 s)
  2.12.2 Export Contract PDF
    PDF Export
      ΓêÜ TC-2.12.2-01: Verify export contract PDF Vietnamese (1242 ms)
      ΓêÜ TC-2.12.2-02: Verify export contract PDF English (1046 ms)
      ΓêÜ TC-2.12.2-03: Fail PDF export non-party user (197 ms)
      ΓêÜ TC-2.12.2-04: Fail PDF export invalid language (180 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    NOTE: TC-2.2.5-04 - Requires email service mock

      at Object.<anonymous> (test/integration/2.2-authentication/2.2.3-email-verification.spec.ts:173:15)

PASS integration test/integration/2.2-authentication/2.2.3-email-verification.spec.ts
  2.2.3-2.2.5 Email Verification
    2.2.3 Resend Verification Email
      ΓêÜ TC-2.2.3-02: Verify resend for unverified user (674 ms)
      ΓêÜ TC-2.2.3-02: Skip resend for already verified user (134 ms)
      ΓêÜ TC-2.2.3-03: Fail resend with missing email (59 ms)
    2.2.4 Verify Email (POST Token)
      ΓêÜ TC-2.2.4-01: Verify with valid token (72 ms)
      ΓêÜ TC-2.1.2-03: Fail with invalid token (62 ms)
      ΓêÜ TC-2.2.4-03: Fail with expired token (79 ms)
      ΓêÜ TC-2.2.4-05: Fail with missing token (75 ms)
    2.2.5 Verify Email (GET Link)
      ΓêÜ TC-2.2.5-02: Verify via GET link with token (160 ms)
      ΓêÜ TC-2.2.4-05: Fail GET with missing token (50 ms)
      ΓêÜ TC-2.1.2-03: Fail GET with invalid token (128 ms)
      ΓêÜ TC-2.1.1-20: Verify updates isVerified in database (37 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/2.2-authentication/2.2.2-forgot-password.spec.ts
  2.2.2 Forgot Password
    Request Password Reset
      ΓêÜ TC-2.12.2-02: Verify request password reset for existing email (226 ms)
      ΓêÜ TC-2.2.2-02: Return success even for non-existent email (security) (132 ms)
      ΓêÜ TC-2.2.4-06: Fail with missing email (50 ms)
      ΓêÜ TC-2.2.1-06: Fail with invalid email format (51 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 00b24033-664a-47ad-b51a-b84499a4322b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d72a0374-ca51-4ad6-bad4-4dc5a528f47f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d0199d09-e8c6-4f5d-97b8-f8de25ae45bc: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b89c2a1b-5c31-44ec-a2aa-f97b200eae8a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 52fe2847-f929-494d-8c31-7c2c32c7d9c4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b6bbee23-48c3-4099-8d54-613fe8aac670: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b6bbee23-48c3-4099-8d54-613fe8aac670: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a1da3b1f-dea6-4f33-98ea-8765ef7523a8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a1da3b1f-dea6-4f33-98ea-8765ef7523a8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3bdcdc7c-45e1-4c5b-962a-386d31e4d90c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3bdcdc7c-45e1-4c5b-962a-386d31e4d90c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 51f0f56c-2a54-44dd-983e-c7130f7ba6f8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 51f0f56c-2a54-44dd-983e-c7130f7ba6f8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1f276bf6-754d-45e5-8bef-c2639c75c082: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1f276bf6-754d-45e5-8bef-c2639c75c082: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8e088c5a-3813-4cf1-946c-61dd4facbe8a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8e088c5a-3813-4cf1-946c-61dd4facbe8a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 70d4a824-34e2-4fb5-b5e3-061fcb243aa0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 70d4a824-34e2-4fb5-b5e3-061fcb243aa0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/4.1-security/4.1.7-bola-admin.spec.ts (5.36 s)
  4.1.7 BOLA - Admin Endpoint Authorization
    Admin Registration Endpoints
      ΓêÜ TC-4.1.3-01: BOLA - Bidder cannot access admin registrations (161 ms)
      ΓêÜ TC-4.1.3-01b: Admin CAN access admin registrations (140 ms)
    Auction Finalization Endpoints
      ΓêÜ TC-4.1.3-02: BOLA - Bidder cannot evaluate auction (180 ms)
      ΓêÜ TC-4.1.3-03: BOLA - Auctioneer cannot override auction (168 ms)
      ΓêÜ TC-4.1.3-03b: Admin CAN override auction (142 ms)
    System Variables Endpoints
      ΓêÜ TC-4.1.3-05: BOLA - Auctioneer cannot view system variables (141 ms)
      ΓêÜ TC-4.1.3-05b: BOLA - Bidder cannot view system variables (116 ms)
      ΓêÜ TC-4.1.3-05c: Admin CAN view system variables (182 ms)
    Auction Costs Endpoints
      ΓêÜ TC-4.1.3-04: BOLA - Auctioneer cannot delete auction costs (199 ms)
      ΓêÜ TC-4.1.3-04b: Admin CAN delete auction costs (199 ms)
    User Promotion Endpoints
      ΓêÜ TC-4.1.3-06: BOLA - Bidder cannot promote users (188 ms)
      ΓêÜ TC-4.1.3-06b: BOLA - Auctioneer cannot promote users (155 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0a9c21d7-d518-490a-8417-6f7bc8a35a2d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 154dfe75-8aed-4f04-92b0-d7254e42133c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ce109ff2-21ba-4512-b166-e18738142097: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d34afb52-4f2d-4ecb-9a7b-c29d30ed8ca4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 40070681-a103-4249-9f59-f027795d2f90: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 50f40e6e-cd89-4536-a1a3-854452b83674: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 219546d9-572b-43e0-a83d-5658db748ebe: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7c2038d3-7473-4dbe-b1f6-ecbe49c93f74: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e0a823c1-4c9e-405a-b2d4-349053890958: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9ac96dff-ed3e-4553-adc6-2440bb8cad25: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.4-registration-to-bid/2.4.5-view-registrations.spec.ts
  2.4.6-8 Registration Viewing
    2.4.6 View Own Registrations
      ΓêÜ TC-2.4.6-01: Verify bidder views own registrations (178 ms)
      ΓêÜ TC-2.4.6-02: Fail view other users registrations as bidder (128 ms)
      ΓêÜ TC-2.4.6-03: Verify Admin can view any users registrations (116 ms)
      ΓêÜ TC-2.4.6-05: Verify empty list for user with no registrations (108 ms)
    2.4.7 Get Registration for Auction
      ΓêÜ TC-2.4.7-01: Verify get registration for specific auction (123 ms)
      ΓêÜ TC-2.4.7-02: Return 404 for non-registered auction (108 ms)
      ΓêÜ TC-2.4.7-03: Fail without authentication (83 ms)
    2.4.8 Admin List Registrations
      ΓêÜ TC-2.4.8-01: Verify Admin lists all registrations (97 ms)
      ΓêÜ TC-2.4.15-02: Verify filter by status (95 ms)
      ΓêÜ TC-2.4.15-03: Verify filter by auctionId (99 ms)
      ΓêÜ TC-2.4.8-04: Fail Bidder accessing admin registrations (75 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fed8be37-7072-4b67-8777-d1814a1a0586: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fed8be37-7072-4b67-8777-d1814a1a0586: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 476b1983-e6d5-47f1-8369-4e1135d0b0b1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 476b1983-e6d5-47f1-8369-4e1135d0b0b1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ee196eff-d740-4967-aac2-03ce4387f82b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ee196eff-d740-4967-aac2-03ce4387f82b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a9cbf213-9081-47ea-92e7-aaddbd2659ef: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a9cbf213-9081-47ea-92e7-aaddbd2659ef: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bc351dbc-4dab-49a2-856a-61b2214bca7d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bc351dbc-4dab-49a2-856a-61b2214bca7d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9f7ae0c9-40f4-45c5-856a-80d7927e5e69: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9f7ae0c9-40f4-45c5-856a-80d7927e5e69: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.12-contracts/2.12.3-list-update.spec.ts
  2.12.3-4 List and Update Contracts
    2.12.3 List Contracts
      ΓêÜ TC-2.12.3-01: Verify list user contracts (291 ms)
      ΓêÜ TC-2.12.3-02: Verify empty list when no contracts (231 ms)
    2.12.4 Update Contract
      ΓêÜ TC-2.12.4-01: Verify update contract status (192 ms)
      ΓêÜ TC-2.12.4-02: Fail Bidder updating contract (155 ms)
    Contract Digital Signatures
      ΓêÜ Verify buyer can sign contract (162 ms)
      ΓêÜ Fail unsigned user signing contract (163 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 561d6c29-43bc-4945-9c20-b2e318807523: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b2a7db4c-0ce6-4f77-a31d-3bf172ac3364: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user efef2699-a9eb-4282-9405-e3ffa4dfb82c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user df0eec65-ebbf-445c-8917-9ab134476af8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7b4b8282-8e35-4f90-9615-600a6441bd3a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user beee97b3-687c-49b5-81eb-91c095ecf8a7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 30e339fe-35dc-47b6-85b6-3077f20598eb: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.6-auction-finalization/2.6.3-results-audit.spec.ts
  2.6.3-5 Auction Results and Audit
    2.6.3 Get Auction Results
      ΓêÜ TC-2.6.4-04: Verify get results for completed auction (228 ms)
      ΓêÜ TC-2.6.4-05: Winner can view their result (147 ms)
      ΓêÜ TC-2.6.4-04: Fail get results for live auction (131 ms)
    2.6.4 Audit Logs
      ΓêÜ TC-2.6.5-01: Verify Admin views audit logs (111 ms)
      ΓêÜ TC-2.6.5-02: Fail Bidder views audit logs (102 ms)
      ΓêÜ TC-2.6.4-02: Verify audit log includes action details (127 ms)
    2.6.5 Status Override
      ΓêÜ TC-2.8.4-01: Verify Admin overrides auction status (117 ms)
      ΓêÜ TC-2.8.4-03: Fail Bidder overrides status (89 ms)
      ΓêÜ TC-2.6.3-06: Verify override creates audit log (107 ms)
      ΓêÜ TC-2.6.3-04: Fail override without reason (132 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e1bb797f-de7d-43fa-a72e-e862a0319f9c: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 901823de-99ae-48cf-bb7a-dbf858949046: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 41ce0c24-dca3-4c2c-86b0-b9f55918a7ec: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 41ce0c24-dca3-4c2c-86b0-b9f55918a7ec: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:00 PM   ERROR [UserRegistrationService] Registration failed for user 41ce0c24-dca3-4c2c-86b0-b9f55918a7ec, auction 6d72180a-5797-43a6-851b-e4e791d6f29f
ConflictException: Your registration is under review. Please wait for decision
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:274:19
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 80af048f-16ca-439f-9457-a4438163e15d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:00 PM   ERROR [UserRegistrationService] Registration failed for user 80af048f-16ca-439f-9457-a4438163e15d, auction 550e8400-e29b-41d4-a716-446655440000
NotFoundException: Auction not found
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:108:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 36501017-4e69-4310-9717-ed7735a397e1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:00 PM   ERROR [UserRegistrationService] Registration failed for user 36501017-4e69-4310-9717-ed7735a397e1, auction 2d1f5236-7d26-4567-84ec-b3265b05a245
ForbiddenException: Auction registration period has ended
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:113:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4d3da8d3-d633-4bea-a794-71df84fb0aa1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:00 PM   ERROR [UserRegistrationService] Registration failed for user 4d3da8d3-d633-4bea-a794-71df84fb0aa1, auction 273febb5-d21e-46e2-b853-431d4d305f48
ForbiddenException: User already banned
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:96:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
PASS integration test/integration/2.4-registration-to-bid/2.4.1-register.spec.ts
  2.4.1 Register for Auction
    Successful Registration
      ΓêÜ TC-2.4.2-01: Verify bidder registers for auction (215 ms)
      ΓêÜ TC-2.4.8-02: Verify registration creates pending status (126 ms)
    Registration Failures
      ΓêÜ TC-2.4.9-04: Fail duplicate registration (159 ms)
      ΓêÜ TC-2.4.1-07: Fail registration without auth (59 ms)
      ΓêÜ TC-2.4.1-06: Fail registration for non-existent auction (79 ms)
      ΓêÜ TC-2.4.1-10: Fail registration for closed auction (106 ms)
      ΓêÜ TC-4.1.8-02: Fail banned user registers (79 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 76a69e5f-3bc6-4c38-aaf6-0b8be0ae3933: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user f29beb64-85a7-445f-82b7-55c4e8a402ed: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user 586fe511-8600-4e61-8123-cd1762d7928f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5d6b5a80-b53c-4c0b-b0e6-8a854274f9ea: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user c2f75376-562b-48f3-a605-cea554b32709: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 6b8d360e-4816-4d62-9610-7a050b31c648: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] Looking for user 6b8d360e-4816-4d62-9610-7a050b31c648: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:03 PM   ERROR [UserRegistrationService] Registration failed for user 6b8d360e-4816-4d62-9610-7a050b31c648, auction 5636f002-5da4-4438-b6cf-09725f4af6c0
PrismaClientKnownRequestError: 
Invalid `tx.auctionParticipant.create()` invocation in
C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:287:53

  284 this.logger.log(
  285   `Creating new registration for user ${currentUser.id} in auction ${dto.auctionId}`
  286 );
ΓåÆ 287 const created = await tx.auctionParticipant.create(
Unique constraint failed on the fields: (`auction_id`,`user_id`)
    at ei.handleRequestError (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:7268)
    at ei.handleAndLogRequestError (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6593)
    at ei.request (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6300)
    at a (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:9551)
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:287:25
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
[Nest] 30224  - 12/29/2025, 10:08:03 PM   ERROR [ExceptionsHandler] PrismaClientKnownRequestError: 
Invalid `tx.auctionParticipant.create()` invocation in
C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:287:53

  284 this.logger.log(
  285   `Creating new registration for user ${currentUser.id} in auction ${dto.auctionId}`
  286 );
ΓåÆ 287 const created = await tx.auctionParticipant.create(
Unique constraint failed on the fields: (`auction_id`,`user_id`)
    at ei.handleRequestError (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:7268)
    at ei.handleAndLogRequestError (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6593)
    at ei.request (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6300)
    at a (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:9551)
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:287:25
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22) {
  code: 'P2002',
  meta: {
    modelName: 'AuctionParticipant',
    target: [
      'auction_id',
      'user_id'
    ]
  },
  clientVersion: '6.17.1'
}
PASS integration test/integration/5.1-reliability/5.1.1-race-conditions.spec.ts
  5.1.1 Race Conditions
    Concurrent Bidding
      ΓêÜ TC-5.1.1-01: Concurrent bids at same price - only one wins (220 ms)
      ΓêÜ TC-5.1.1-02: Concurrent incremental bids preserve order (195 ms)
    Concurrent Registration
      ΓêÜ TC-2.4.1-05: Duplicate registration prevented under race (148 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 37e5b5fb-8b5b-4fbf-b10d-8236dfc09a7d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 37e5b5fb-8b5b-4fbf-b10d-8236dfc09a7d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 847e5688-b5a9-461d-ab2e-945d0aad5a8d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 847e5688-b5a9-461d-ab2e-945d0aad5a8d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 221e8037-fe32-4634-a37f-abfa500edd0d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 221e8037-fe32-4634-a37f-abfa500edd0d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:06 PM   ERROR [AuctionCostService] Failed to update auction costs for 3ddc4777-87d3-4fd3-b8cc-b7ecca5fab9d
[Nest] 30224  - 12/29/2025, 10:08:06 PM   ERROR [AuctionCostService] NotFoundException: No costs found for auction 3ddc4777-87d3-4fd3-b8cc-b7ecca5fab9d
    at AuctionCostService.update (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\auction-policy\auction-cost.service.ts:126:15)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  response: {
    message: 'No costs found for auction 3ddc4777-87d3-4fd3-b8cc-b7ecca5fab9d',
    error: 'Not Found',
    statusCode: 404
  },
  status: 404,
  options: {}
}
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3f5eb7ce-7ce6-4c3d-bbb8-8ea918c17640: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 3f5eb7ce-7ce6-4c3d-bbb8-8ea918c17640: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a5d02eca-3949-4d3e-974d-2f9d04a45823: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a5d02eca-3949-4d3e-974d-2f9d04a45823: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ed7a42af-a954-467c-9344-0a546a44cc81: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ed7a42af-a954-467c-9344-0a546a44cc81: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d494825a-019d-4e1a-bbfe-286c0323ec36: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d494825a-019d-4e1a-bbfe-286c0323ec36: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user db079dc5-f02e-49b3-be25-2401b3b1af43: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user db079dc5-f02e-49b3-be25-2401b3b1af43: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:06 PM   ERROR [AuctionCostService] Failed to delete auction costs for 03652cfb-bb79-4df3-a7c8-2ce72405384a
[Nest] 30224  - 12/29/2025, 10:08:06 PM   ERROR [AuctionCostService] NotFoundException: No costs found for auction 03652cfb-bb79-4df3-a7c8-2ce72405384a
    at AuctionCostService.remove (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\auction-policy\auction-cost.service.ts:191:15)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  response: {
    message: 'No costs found for auction 03652cfb-bb79-4df3-a7c8-2ce72405384a',
    error: 'Not Found',
    statusCode: 404
  },
  status: 404,
  options: {}
}
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e2effee-8ac2-43b1-8590-99246e5668f8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e2effee-8ac2-43b1-8590-99246e5668f8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 946fd92b-7915-4d0d-970f-69a5d507a507: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 946fd92b-7915-4d0d-970f-69a5d507a507: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 946fd92b-7915-4d0d-970f-69a5d507a507: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 946fd92b-7915-4d0d-970f-69a5d507a507: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2474c8ed-3947-4b20-bfd1-bb54aac47ca7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2474c8ed-3947-4b20-bfd1-bb54aac47ca7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ecb35337-2391-42b9-924d-bc3c9ee26c42: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ecb35337-2391-42b9-924d-bc3c9ee26c42: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.8-auction-costs/2.8.2-update-delete.spec.ts
  2.8.3-5 Update, Delete, and Other Costs
    2.8.3 Update Auction Costs
      ΓêÜ TC-2.8.3-01: Verify partial update single field (176 ms)
      ΓêÜ TC-2.8.3-02: Verify partial update multiple fields (130 ms)
      ΓêÜ TC-2.8.3-03: Fail update non-existent costs (119 ms)
      ΓêÜ TC-2.8.3-04: Fail update with negative value (103 ms)
    2.8.4 Delete Auction Costs
      ΓêÜ TC-2.8.4-01: Verify Admin deletes auction costs (120 ms)
      ΓêÜ TC-2.8.4-02: Fail Auctioneer deletes costs (112 ms)
      ΓêÜ TC-2.8.4-03: Fail Bidder deletes costs (122 ms)
      ΓêÜ TC-2.8.4-04: Fail delete non-existent costs (115 ms)
    2.8.5 Add Other Costs
      ΓêÜ TC-2.8.5-01: Verify add other cost item (118 ms)
      ΓêÜ TC-2.8.5-02: Verify add multiple other costs (166 ms)
      ΓêÜ TC-2.8.5-03: Fail add other cost without description (122 ms)
      ΓêÜ TC-2.8.5-04: Fail add other cost with negative amount (86 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a581d3ef-8787-4893-b512-9af2c33098b4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 28210f8f-464d-4e65-859f-b2801e309351: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0b386a41-1943-4046-a6e6-f173bcad2cc7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user adc15abf-8022-446b-9098-27924a299c11: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

[Nest] 30224  - 12/29/2025, 10:08:09 PM   ERROR [AuthGuard] JWT verification failed: jwt malformed
PASS integration test/integration/2.1-user-management/2.1.2-get-user-info.spec.ts
  2.1.2 Get Current User Info
    Successful Retrieval
      ΓêÜ TC-2.1.2-01: Verify authenticated user gets own info (90 ms)
      ΓêÜ TC-2.1.2-05: Verify response includes required fields (55 ms)
      ΓêÜ TC-2.1.2-06: Verify password NOT included in response (54 ms)
      ΓêÜ TC-2.4.10-01: Verify Admin user gets admin role in response (44 ms)
    Authentication Failures
      ΓêÜ TC-2.4.7-03: Fail without authentication (31 ms)
      ΓêÜ TC-2.2.4-03: Fail with expired token (41 ms)
      ΓêÜ TC-2.5.1-17: Fail with invalid token format (42 ms)
      ΓêÜ TC-2.1.2-07: Fail with malformed Authorization header (37 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    NOTE: TC-2.2.1-01 - Login requires Supabase Auth setup

      at Object.<anonymous> (test/integration/2.2-authentication/2.2.1-login.spec.ts:79:17)

PASS integration test/integration/2.2-authentication/2.2.1-login.spec.ts
  2.2.1 Login
    Successful Login
      ΓêÜ TC-2.2.1-01: Verify successful login with valid credentials (375 ms)
      ΓêÜ TC-2.2.1-10: Verify login returns JWT token (110 ms)
    Login Failures
      ΓêÜ TC-2.1.1-08: Fail with wrong password (112 ms)
      ΓêÜ TC-2.2.1-03: Fail with non-existent email (37 ms)
      ΓêÜ TC-2.2.4-06: Fail with missing email (30 ms)
      ΓêÜ TC-2.2.4-06: Fail with missing password (33 ms)
      ΓêÜ TC-2.2.1-06: Fail with invalid email format (30 ms)
      ΓêÜ TC-2.2.1-07: Fail with empty body (27 ms)
    Banned/Unverified Users
      ΓêÜ TC-2.2.1-05: Fail login for banned user (124 ms)
      ΓêÜ TC-2.2.1-04: Warn login for unverified user (111 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 803dfdfc-3965-4b30-8ab1-e49abe4f00f6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d2ec1dae-1534-4345-a1ad-8ab20c786991: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7a1429f8-e7dd-4318-94ee-ab5f5e3928e9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1ba53b03-c6b8-4dbb-bb7e-6d37ea6f4ca1: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fe88ad7a-27d2-4d21-aba0-be49c2eddaa2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.3-auction-management/2.3.6-auction-relations.spec.ts
  2.3.6 Auction Relations
    Create Relations
      ΓêÜ TC-2.3.6-01: Verify update auction relations (212 ms)
      ΓêÜ TC-2.3.6-02: Verify replace auction relations (133 ms)
      ΓêÜ TC-2.3.6-03: Verify clear all auction relations (133 ms)
    Relation Failures
      ΓêÜ TC-2.3.6-04: Fail relation with self (111 ms)
      ΓêÜ TC-2.3.6-05: Fail relation with non-existent auction (119 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fc2bad12-6218-47f9-a60e-653c02a37399: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fc2bad12-6218-47f9-a60e-653c02a37399: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 872e3319-dbf9-4b59-bd77-bce38a25923b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 872e3319-dbf9-4b59-bd77-bce38a25923b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2dc2b536-23f1-4bc9-a407-fcfe618451f9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2dc2b536-23f1-4bc9-a407-fcfe618451f9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f65fb57e-b6f7-44b4-8656-02546e172ad8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f65fb57e-b6f7-44b4-8656-02546e172ad8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 73207f28-8947-47d0-8ef4-4a8c268e8db4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 73207f28-8947-47d0-8ef4-4a8c268e8db4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e870b13-0b0a-44bd-a6ea-c399414e7b82: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e870b13-0b0a-44bd-a6ea-c399414e7b82: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9282e988-7da9-4cc1-9ef7-b7b33afab9ab: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9282e988-7da9-4cc1-9ef7-b7b33afab9ab: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2984ccd5-125f-4d00-8ea8-205548de962d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2984ccd5-125f-4d00-8ea8-205548de962d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8af08cec-485d-4961-ab20-8d150b8a2a92: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8af08cec-485d-4961-ab20-8d150b8a2a92: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2663097e-e722-4119-b6fa-3969f59f1445: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2663097e-e722-4119-b6fa-3969f59f1445: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2531236b-be0a-4d0b-b8d1-c2805e6933d7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2531236b-be0a-4d0b-b8d1-c2805e6933d7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 01ec1c17-3a9d-49f6-bdb8-e3ef6134c18f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 01ec1c17-3a9d-49f6-bdb8-e3ef6134c18f: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b5e36c41-02bb-44be-8053-fb34956e9cbc: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b5e36c41-02bb-44be-8053-fb34956e9cbc: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f6337ca1-84a8-4233-814f-2952f6247852: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f6337ca1-84a8-4233-814f-2952f6247852: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f6337ca1-84a8-4233-814f-2952f6247852: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f6337ca1-84a8-4233-814f-2952f6247852: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f6337ca1-84a8-4233-814f-2952f6247852: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f6337ca1-84a8-4233-814f-2952f6247852: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c3ef884f-4ce3-4399-ad4f-6b2fb448c478: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c3ef884f-4ce3-4399-ad4f-6b2fb448c478: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:22 PM   ERROR [ExceptionsHandler] PrismaClientValidationError: 
Invalid `this.prisma.systemVariable.create()` invocation in
C:\Sem1_Year3_Projects\auction-hub\server\src\common\services\system-variables.service.ts:172:56

  169 const fullKey = `${category}.${key}`;
  170 
  171 try {
ΓåÆ 172   const created = await this.prisma.systemVariable.create({
          data: {
            key: "undefined.missing_category",
            value: "test",
            dataType: undefined,
            description: undefined,
        +   category: String
          }
        })

Argument `category` is missing.
    at Nn (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:32:1363)
    at ei.handleRequestError (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6911)
    at ei.handleAndLogRequestError (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6593)
    at ei.request (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:124:6300)
    at a (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:9551)
    at SystemVariablesService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\common\services\system-variables.service.ts:172:23)
    at SystemVariablesController.createVariable (C:\Sem1_Year3_Projects\auction-hub\server\src\common\controllers\system-variables.controller.ts:138:21)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17 {
  clientVersion: '6.17.1'
}
PASS integration test/integration/2.9-system-config/2.9.1-system-variables.spec.ts
  2.9.1-4 System Variables CRUD
    2.9.1 List System Variables
      ΓêÜ TC-2.9.1-01: Verify Admin gets all system variables (124 ms)
      ΓêÜ TC-2.9.1-02: Verify get variables filtered by category (92 ms)
      ΓêÜ TC-2.9.1-03: Fail Bidder accessing system variables (93 ms)
      ΓêÜ TC-2.9.1-04: Fail Auctioneer accessing system variables (81 ms)
      ΓêÜ TC-2.9.1-02: Verify empty variables when category has none (77 ms)
    2.9.2 Get Specific Variable
      ΓêÜ TC-2.9.2-01: Verify get specific system variable (65 ms)
      ΓêÜ TC-2.9.2-02: Return 404 for non-existent variable (58 ms)
      ΓêÜ TC-2.9.2-03: Verify different dataType values (63 ms)
    2.9.3 Update System Variable
      ΓêÜ TC-2.9.3-01: Verify update system variable value (127 ms)
      ΓêÜ TC-2.9.3-03: Fail update non-existent variable (129 ms)
      ΓêÜ TC-2.9.3-04: Fail Bidder updating variable (103 ms)
    2.9.4 Create System Variable
      ΓêÜ TC-2.9.4-01: Verify create new system variable (104 ms)
      ΓêÜ TC-2.9.4-02: Fail create duplicate variable (170 ms)
      ΓêÜ TC-2.9.4-03: Verify create with all dataTypes (151 ms)
      ΓêÜ TC-2.9.4-04: Fail create without required fields (106 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e9b90969-d888-49b0-9239-1f9e0fcdef18: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c516d1b5-f7c3-422a-966f-7476f7122485: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 237653a4-e21c-446d-9cb4-44a12b7dea4a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0dedc30a-42ce-47bd-b3b2-86b7625a1fde: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 02322382-8cbd-4055-a8a2-c8bbbdced1d2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user e6658399-afa0-4aaf-b7de-99ce83295dc8: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fcf1cddc-a698-486a-b1b0-d7f1663caf37: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c6778762-2aa3-46fc-b7dc-11adc0069b91: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ea12ca31-ad91-4a0d-881a-a257af8cdd9d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user b0c3886f-dd5b-481e-82ad-3805421a621e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user cd172eb7-12f3-4561-bfd3-ceb8c651f130: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.11-articles/2.11.2-update-delete.spec.ts
  2.11.4-6 Articles Update, Relations, Delete
    2.11.4 Update Article
      ΓêÜ TC-2.11.4-01: Verify update article title (230 ms)
      ΓêÜ TC-2.11.4-02: Verify update article content (163 ms)
      ΓêÜ TC-2.11.4-01: Verify update article type (108 ms)
      ΓêÜ TC-2.11.4-04: Fail update non-existent article (97 ms)
    2.11.5 Article Relations
      ΓêÜ TC-2.11.5-01: Verify update article relations (119 ms)
      ΓêÜ TC-2.11.5-02: Verify replace article relations (134 ms)
      ΓêÜ TC-2.11.5-03: Verify clear all relations (119 ms)
      ΓêÜ TC-2.11.5-04: Fail relation with self (80 ms)
    2.11.6 Delete Article
      ΓêÜ TC-2.11.6-01: Verify delete article (108 ms)
      ΓêÜ TC-2.11.6-02: Fail delete non-existent article (100 ms)
      ΓêÜ TC-2.11.6-03: Verify delete removes related records (113 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 665d40af-aabf-4077-9ea3-5e77de126fe3: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f9fe204f-ab29-47ae-bae2-458cd52ceec5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user dec03041-3706-4cb7-99d6-6f587fd292e5: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user debcb84c-da4b-467b-afd2-4a09d6be6c1e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d8c9ced3-eacf-4305-a77c-146c6f411eae: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e1ff8a0-b7d0-42e7-abb9-7d430267507e: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8b088b11-5891-4e9b-b18c-b22129ec4e15: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.11-articles/2.11.1-list-get-create.spec.ts
  2.11.1-3 Articles List, Get, Create
    2.11.1 List Articles
      ΓêÜ TC-2.11.1-01: Verify list all articles publicly (123 ms)
      ΓêÜ TC-2.11.1-02: Verify list articles with type filter (74 ms)
      ΓêÜ TC-2.11.1-03: Verify list articles with auction_notice type (62 ms)
      ΓêÜ TC-2.11.1-06: Verify list articles with pagination (50 ms)
      ΓêÜ TC-2.11.1-07: Verify empty list when no articles match (58 ms)
    2.11.2 Get Article by ID
      ΓêÜ TC-2.11.6-01: Verify get article by ID (70 ms)
      ΓêÜ TC-2.11.2-02: Fail get article with invalid UUID (58 ms)
      ΓêÜ TC-2.9.2-02: Return 404 for non-existent article (53 ms)
      ΓêÜ TC-2.11.2-04: Verify article includes image JsonB (60 ms)
    2.11.3 Create Article
      ΓêÜ TC-2.11.3-01: Verify create article with all fields (81 ms)
      ΓêÜ TC-2.11.3-02: Fail create article without title (68 ms)
      ΓêÜ TC-2.11.3-03: Fail create article without author (64 ms)
      ΓêÜ TC-2.11.3-04: Fail create article without content (71 ms)
      ΓêÜ TC-2.11.3-05: Fail create article without type (67 ms)
      ΓêÜ TC-2.11.3-06: Fail create article with invalid type enum (60 ms)
      ΓêÜ TC-2.11.3-07: Verify create article with type news (77 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 88a7c1e5-8500-4685-837c-6a71e3c62d10: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 88a7c1e5-8500-4685-837c-6a71e3c62d10: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9d722bdb-73c8-46cf-a353-d5fcd427ae46: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9d722bdb-73c8-46cf-a353-d5fcd427ae46: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 01bc90fe-6df6-4c6a-a148-1aa4e89a4fa7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 01bc90fe-6df6-4c6a-a148-1aa4e89a4fa7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f9587a5f-68fa-4563-8fba-3cb7fc1e1053: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f9587a5f-68fa-4563-8fba-3cb7fc1e1053: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user adec77de-6fcf-4595-a35c-9f50daf8a394: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user adec77de-6fcf-4595-a35c-9f50daf8a394: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ddd414aa-9b96-4e5b-bb3f-af99a64a2db7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user ddd414aa-9b96-4e5b-bb3f-af99a64a2db7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 87cc3896-d07a-4cca-9f81-b066604d5a41: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 87cc3896-d07a-4cca-9f81-b066604d5a41: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d3530e3a-3ee7-43cf-9101-1e9478951b3b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d3530e3a-3ee7-43cf-9101-1e9478951b3b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a4e10c0e-d369-40d4-a504-34f85f8993da: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a4e10c0e-d369-40d4-a504-34f85f8993da: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 81d10693-e120-448a-a7a9-18721474bd05: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 81d10693-e120-448a-a7a9-18721474bd05: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 996b8fff-bf4d-4a7b-84fe-8ca050eb0d66: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 996b8fff-bf4d-4a7b-84fe-8ca050eb0d66: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.1-user-management/2.1.3-user-promotion.spec.ts
  2.1.3 User Promotion
    Admin Promotion
      ΓêÜ TC-2.1.3-03: Verify Admin promotes Bidder to Auctioneer (192 ms)
      ΓêÜ TC-2.1.3-04: Fail Admin promotes to Admin (80 ms)
      ΓêÜ TC-2.1.3-05: Fail Admin promotes to Super Admin (80 ms)
    Super Admin Promotion
      ΓêÜ TC-2.1.3-01: Verify Super Admin promotes to Admin (73 ms)
      ΓêÜ TC-2.5.2-03: Verify Super Admin demotes Admin to Bidder (82 ms)
    Role-Based Access Control
      ΓêÜ TC-2.1.3-07: Fail Auctioneer promotes users (66 ms)
      ΓêÜ TC-2.1.3-06: Fail Bidder promotes users (63 ms)
      ΓêÜ TC-2.1.3-11: Fail promotion without authentication (60 ms)
    Validation
      ΓêÜ TC-2.1.3-09: Fail with invalid role enum (85 ms)
      ΓêÜ TC-2.8.3-03: Fail promote non-existent user (63 ms)
      ΓêÜ TC-2.1.3-06: Fail promote self (70 ms)
      ΓêÜ TC-2.2.4-06: Fail with missing role field (62 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    Wards found in hierarchy: false

      at Object.<anonymous> (test/integration/2.10-locations/2.10.1-locations.spec.ts:127:17)

  console.log
    Found 34 provinces in nested structure

      at Object.<anonymous> (test/integration/2.10-locations/2.10.1-locations.spec.ts:176:15)

  console.log
    No provinces with districts found (may be empty database)

      at Object.<anonymous> (test/integration/2.10-locations/2.10.1-locations.spec.ts:200:17)

  console.log
    No districts with wards found (may be empty database)

      at Object.<anonymous> (test/integration/2.10-locations/2.10.1-locations.spec.ts:232:17)

PASS integration test/integration/2.10-locations/2.10.1-locations.spec.ts
  2.10.1 Locations
    Public Location Endpoints
      ΓêÜ TC-2.10.1-01: Verify get all locations publicly (103 ms)
      ΓêÜ TC-2.10.1-02: Verify include provinces (top-level locations) (70 ms)
      ΓêÜ TC-2.10.1-03: Verify nested structure includes districts (79 ms)
      ΓêÜ TC-2.10.1-04: Verify nested structure includes wards (77 ms)
      ΓêÜ TC-2.8.1-03: Verify response structure with data array (67 ms)
      ΓêÜ TC-2.10.1-06: Verify location fields (id, name) (63 ms)
      ΓêÜ TC-2.10.1-07: Verify no authentication required (56 ms)
    Location Hierarchy via Nested Structure
      ΓêÜ TC-2.10.1-08: Verify provinces can be extracted from nested data (60 ms)
      ΓêÜ TC-2.10.1-09: Verify districts can be extracted by province (55 ms)
      ΓêÜ TC-2.10.1-10: Verify wards can be extracted by district (54 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a15a76f6-1cb0-4ed8-ab69-c5ef0b9444e6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a15a76f6-1cb0-4ed8-ab69-c5ef0b9444e6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    DEBUG contract.propertyOwnerUserId: null

      at ContractService.log [as findOne] (server/src/contracts/contract.service.ts:121:13)

  console.log
    DEBUG contract.propertyOwner (User relation): null

      at ContractService.log [as findOne] (server/src/contracts/contract.service.ts:125:13)

  console.log
    DEBUG contract.auction.propertyOwner (JSON): { name: 'Test User 1767020920293' }

      at ContractService.log [as findOne] (server/src/contracts/contract.service.ts:129:13)

  console.log
    DEBUG ownerSnapshot (parsed): null

      at ContractService.log [as findOne] (server/src/contracts/contract.service.ts:137:13)

  console.log
    DEBUG sellerName: Unknown

      at ContractService.log [as findOne] (server/src/contracts/contract.service.ts:144:13)

  console.log
    DEBUG sellerIdentityNumber: undefined

      at ContractService.log [as findOne] (server/src/contracts/contract.service.ts:145:13)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d1557bb8-fd90-40f1-bff2-f22023fc5856: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user d1557bb8-fd90-40f1-bff2-f22023fc5856: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0ac1827b-4160-41e7-8907-f480d90be35d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0ac1827b-4160-41e7-8907-f480d90be35d: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a6adb40b-9713-4fae-94c8-4c99bb8e6411: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a6adb40b-9713-4fae-94c8-4c99bb8e6411: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.12-contracts/2.12.1-get-contract.spec.ts
  2.12.1 Get Contract
    Contract Access
      ΓêÜ TC-2.12.1-01: Verify get contract by ID (buyer) (234 ms)
      ΓêÜ TC-2.12.1-02: Verify seller can access contract (98 ms)
      ΓêÜ TC-2.12.1-03: Fail non-party accessing contract (93 ms)
      ΓêÜ TC-2.12.1-04: Fail access non-existent contract (111 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 752a3003-046c-41c1-a98f-d0e27b646b16: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 9b258c96-1024-41de-918f-57b4495149cf: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:43 PM   ERROR [UserRegistrationService] Failed to check in user 9b258c96-1024-41de-918f-57b4495149cf for auction 044b87e7-1b87-4aaa-9a37-eb4dd26290a8
ForbiddenException: Your registration must be confirmed before check-in
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:457:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.checkIn (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:429:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8bffe12d-a55a-46cb-8e54-e6170611dddd: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:43 PM   ERROR [UserRegistrationService] Failed to check in user 8bffe12d-a55a-46cb-8e54-e6170611dddd for auction 0b3dc510-6421-446d-870c-9c99f9d7e139
NotFoundException: You are not registered for this auction
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:450:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.checkIn (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:429:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2f3bd976-02e4-452d-b084-08db757cb984: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:43 PM   ERROR [UserRegistrationService] Failed to check in user 2f3bd976-02e4-452d-b084-08db757cb984 for auction b3bd851d-aea7-4601-8e0e-ee5be65c9a8c
ConflictException: You have already checked in
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:475:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.checkIn (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:429:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 69b551d0-6658-46cb-85c8-97fc1cdad4a9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:43 PM   ERROR [UserRegistrationService] Failed to check in user 69b551d0-6658-46cb-85c8-97fc1cdad4a9 for auction 2da119f0-1d94-42b6-aa42-353a522357a5
ForbiddenException: Check-in window has not opened yet. You can check in starting 24 hours before the auction.
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:485:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.checkIn (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:429:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
PASS integration test/integration/2.4-registration-to-bid/2.4.3-check-in.spec.ts
  2.4.3 Check-in
    Successful Check-in
      ΓêÜ TC-2.5.1-30: Verify confirmed participant checks in (137 ms)
    Check-in Failures
      ΓêÜ TC-2.4.3-04: Fail check-in for non-confirmed participant (100 ms)
      ΓêÜ TC-2.4.3-08: Fail check-in for non-registered user (81 ms)
      ΓêÜ TC-2.4.3-05: Fail duplicate check-in (105 ms)
      ΓêÜ TC-2.5.1-08: Fail check-in for scheduled auction (101 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 65abf9d8-c550-4d03-9fd4-64bfbe69e49b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 2acf265a-623d-4c87-ac6c-77d2ec92c2bb: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:46 PM   ERROR [UserRegistrationService] Withdrawal failed for user 2acf265a-623d-4c87-ac6c-77d2ec92c2bb, auction 83d6f2bf-f0ea-46b3-9f37-9f5f1047e312
NotFoundException: No registration found for this auction
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:350:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.withdraw (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:316:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user f4cc7a7e-18b3-4cc7-b13d-9b7a4fcfbf50: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:46 PM   ERROR [UserRegistrationService] Withdrawal failed for user f4cc7a7e-18b3-4cc7-b13d-9b7a4fcfbf50, auction 41bfc870-c76d-4fb7-b1f9-02c8f28398cc
ConflictException: Registration already withdrawn
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:355:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.withdraw (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:316:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 8b9a39f8-9086-4635-b53a-54720cab5a63: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.4-registration-to-bid/2.4.2-withdraw.spec.ts
  2.4.2 Withdraw Registration
    Successful Withdrawal
      ΓêÜ TC-2.4.6-01: Verify bidder withdraws registration (131 ms)
    Withdrawal Failures
      ΓêÜ TC-2.4.2-06: Fail withdraw non-existent registration (97 ms)
      ΓêÜ TC-2.4.2-05: Fail withdraw already withdrawn (75 ms)
      ΓêÜ TC-2.4.2-04: Fail withdraw during live auction (89 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a888e331-af67-4543-b45e-4b79cc8865db: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user a888e331-af67-4543-b45e-4b79cc8865db: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fe4c4bd0-629c-41c5-ab53-7fa854091be7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user fe4c4bd0-629c-41c5-ab53-7fa854091be7: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 30510edf-f4c4-4413-be28-fee1c67063ed: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 30510edf-f4c4-4413-be28-fee1c67063ed: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 505b5578-1dcd-4eb6-9364-2028120f6b96: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 505b5578-1dcd-4eb6-9364-2028120f6b96: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.9-system-config/2.9.2-cache.spec.ts
  2.9.5-6 Cache Operations
    2.9.5 Clear Cache
      ΓêÜ TC-2.9.5-01: Verify clear cache (71 ms)
      ΓêÜ TC-2.9.5-02: Fail Bidder clearing cache (54 ms)
    2.9.6 Cache Stats
      ΓêÜ TC-2.9.6-01: Verify get cache stats (57 ms)
      ΓêÜ TC-2.9.6-02: Fail Bidder accessing cache stats (51 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4f0709d9-3c72-43ba-a405-7493167c7864: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4f0709d9-3c72-43ba-a405-7493167c7864: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [PAYMENT VERIFICATION] {
      sessionId: 'cs_test_valid_session',
      payment_status: 'paid',
      amount_total_smallest_unit: 50000000,
      amount_converted: 500000,
      currency: 'vnd',
      metadata: { auctionId: 'test-auction-id' }
    }

      at PaymentService.log [as verifyPayment] (server/src/payment/payment.service.ts:128:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 683fb18c-5afe-4a52-8f09-563e11a8a52b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 683fb18c-5afe-4a52-8f09-563e11a8a52b: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0918c89a-6370-4dcd-9ab4-3ac0576be7b0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 0918c89a-6370-4dcd-9ab4-3ac0576be7b0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 52eab0de-e86e-422c-8e69-182d15c47cca: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 52eab0de-e86e-422c-8e69-182d15c47cca: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [PAYMENT VERIFICATION] {
      sessionId: 'cs_test_example',
      payment_status: 'paid',
      amount_total_smallest_unit: 50000000,
      amount_converted: 500000,
      currency: 'vnd',
      metadata: { auctionId: 'test-auction-id' }
    }

      at PaymentService.log [as verifyPayment] (server/src/payment/payment.service.ts:128:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 333a2864-028b-4bba-9440-1b17a8678ff4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 333a2864-028b-4bba-9440-1b17a8678ff4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [PAYMENT VERIFICATION] {
      sessionId: 'cs_test_incomplete',
      payment_status: 'unpaid',
      amount_total_smallest_unit: 50000000,
      amount_converted: 500000,
      currency: 'vnd',
      metadata: { auctionId: 'test-auction-id' }
    }

      at PaymentService.log [as verifyPayment] (server/src/payment/payment.service.ts:128:15)

PASS integration test/integration/2.7-payment/2.7.2-verify-payment.spec.ts
  2.7.2 Verify Payment (Mocked Stripe)
    Payment Verification
      ΓêÜ TC-2.7.2-01: Verify payment verification via query param (105 ms)
      ΓêÜ TC-2.7.2-02: Fail verify with missing session_id (70 ms)
      ΓêÜ TC-2.7.2-03: Fail verify with invalid session_id (131 ms)
      ΓêÜ TC-2.7.2-04: Verify response includes payment status (137 ms)
      ΓêÜ TC-2.7.2-05: Verify incomplete payment returns unpaid (89 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 4bd3bf91-956f-40b7-9686-5539ac0f0c1a: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 569153f4-e853-4b3e-9e72-d68e3653c550: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bab42409-b8c1-4c33-aa1b-5c7624c25d04: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1c7721d0-0790-4ef1-9869-3b3062c45193: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user bcf810bd-49ef-4d63-be60-b3a06a43f043: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.6-auction-finalization/2.6.1-evaluate.spec.ts
  2.6.1 Evaluate Auction
    Successful Evaluation
      ΓêÜ TC-2.6.1-01: Verify Admin evaluates auction (138 ms)
      ΓêÜ TC-2.6.1-02: Verify evaluation includes winner data (101 ms)
    Evaluation Failures
      ΓêÜ TC-2.6.2-09: Fail Bidder evaluates auction (100 ms)
      ΓêÜ TC-2.6.1-06: Fail evaluate non-existent auction (94 ms)
      ΓêÜ TC-2.2.5-04: Fail evaluate live auction (125 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c422b7b1-cc91-4223-bb7f-087b3a5ae4f9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user c422b7b1-cc91-4223-bb7f-087b3a5ae4f9: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:57 PM   ERROR [UserRegistrationService] Registration failed for user c422b7b1-cc91-4223-bb7f-087b3a5ae4f9, auction 2034e2d5-3225-4662-a9bb-0fd8f7a931a9
ConflictException: Your registration is under review. Please wait for decision
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:274:19
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.create (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:85:22)
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1664bda6-103f-47ab-a86d-d33e994019e4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1664bda6-103f-47ab-a86d-d33e994019e4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

[Nest] 30224  - 12/29/2025, 10:08:57 PM   ERROR [UserRegistrationService] Failed to check in user 1664bda6-103f-47ab-a86d-d33e994019e4 for auction 9bc65b71-bd4e-456c-bc1c-376162146112
ConflictException: You have already checked in
    at C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:475:17
    at Proxy._transactionWithCallback (C:\Sem1_Year3_Projects\auction-hub\server\generated\runtime\library.js:133:8120)
    at UserRegistrationService.checkIn (C:\Sem1_Year3_Projects\auction-hub\server\src\feature\bidding\register-to-bid\services\user-registration.service.ts:429:22)
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-execution-context.js:46:28
    at C:\Sem1_Year3_Projects\auction-hub\node_modules\@nestjs\core\router\router-proxy.js:9:17
  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 22b2d347-015c-4fd6-9564-f23405d688d4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 22b2d347-015c-4fd6-9564-f23405d688d4: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/5.1-reliability/5.1.2-idempotency.spec.ts
  5.1.2 Idempotency
    Registration Idempotency
      ΓêÜ TC-2.4.1-05: Duplicate registration returns conflict (151 ms)
    Check-in Idempotency
      ΓêÜ TC-2.4.3-05: Duplicate check-in returns conflict (102 ms)
    Finalization Idempotency
      ΓêÜ TC-2.4.1-05: Duplicate finalization returns error (122 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1ac0d91c-4bf3-4e64-9c23-56e1c54b7a02: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5453b9d3-74b5-4292-83fe-acec8bf6c3b0: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 7e3f461e-96fb-426e-93bf-4f93bc6827e6: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 5144a73f-3bbc-4368-ace5-8f1a91978228: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 88d35b2f-c08b-46a5-a7af-b6d52b0595c2: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

  console.log
    [AuthGuard] JWT secret starts with: 0qvsYzg5Iv...

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:141:15)

  console.log
    [AuthGuard] Looking for user 1fd25072-9418-47fb-882a-361aa799fc01: FOUND

      at AuthGuard.log [as canActivate] (server/src/common/guards/auth.guard.ts:155:15)

PASS integration test/integration/2.3-auction-management/2.3.4-update-auction.spec.ts
  2.3.4 Update Auction
    Successful Updates
      ΓêÜ TC-2.3.4-01: Verify update auction name (141 ms)
      ΓêÜ TC-2.3.4-02: Verify update auction startingPrice (95 ms)
      ΓêÜ TC-2.3.4-03: Verify update auction dates (74 ms)
    Update Failures
      ΓêÜ TC-2.3.4-04: Fail update live auction critical fields (78 ms)
      ΓêÜ TC-2.3.4-05: Fail update completed auction (83 ms)
      ΓêÜ TC-2.3.4-06: Fail update non-existent auction (71 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/4.1-security/4.1.4-sql-injection.spec.ts
  4.1.4 SQL Injection Prevention
    Search Parameter Injection
      ΓêÜ TC-4.1.5-02: SQL injection in search parameter is safe (56 ms)
      ΓêÜ TC-4.1.5-02: SQL injection in path parameter is safe (7 ms)
      ΓêÜ TC-4.1.5-03: SQL injection in filter parameter is safe (14 ms)
    Body Payload Injection
      ΓêÜ TC-4.1.5-01: SQL injection in registration email is safe (18 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/2.5-bidding-system/2.5.3-auto-bid.spec.ts
  2.5.3 Auto-Bid
    Configure Auto-Bid
      ΓêÜ TC-2.2.4-01: Verify set auto-bid max amount (114 ms)
      ΓêÜ TC-2.2.4-01: Verify update auto-bid max amount (77 ms)
      ΓêÜ TC-2.2.2-01: Verify disable auto-bid (121 ms)
    Auto-Bid Failures
      ΓêÜ TC-2.5.1-06: Fail auto-bid max below current price (97 ms)
      ΓêÜ TC-2.5.1-07: Fail auto-bid without check-in (91 ms)
      ΓêÜ TC-2.5.1-11: Fail auto-bid on closed auction (136 ms)

  console.log
    
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:108:9)

  console.log
    Integration Test Environment:

      at Object.<anonymous> (test/integration/jest.setup.ts:109:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:110:9)

  console.log
      NODE_ENV: test

      at Object.<anonymous> (test/integration/jest.setup.ts:111:9)

  console.log
      AUTH_MODE: jwt

      at Object.<anonymous> (test/integration/jest.setup.ts:112:9)

  console.log
      JWT_SECRET: [SET - 0qvsYzg5Iv...]

      at Object.<anonymous> (test/integration/jest.setup.ts:113:9)

  console.log
      Timeout: 60s

      at Object.<anonymous> (test/integration/jest.setup.ts:120:9)

  console.log
      Mocks: Cleared after each test

      at Object.<anonymous> (test/integration/jest.setup.ts:121:9)

  console.log
      Error Logging: Suppressing expected patterns

      at Object.<anonymous> (test/integration/jest.setup.ts:122:9)

  console.log
    ========================================

      at Object.<anonymous> (test/integration/jest.setup.ts:123:9)

PASS integration test/integration/2.6-auction-finalization/2.6.4-winner-default.spec.ts
  2.6.9 Winner Payment Default Handling
    Winner Payment Default
      ΓêÜ TC-2.6.9-01: Verify Admin disqualifies winner on payment default (158 ms)
      ΓêÜ TC-2.6.9-02: Verify second highest bidder becomes winner (109 ms)
      ΓêÜ TC-2.6.9-03: Verify deposit forfeiture on winner default (138 ms)
    Winner Default Edge Cases
      ΓêÜ TC-2.6.9-04: Fail handle default for auction without winner (131 ms)
      ΓêÜ TC-2.6.9-05: Fail Bidder handling winner default (128 ms)
      ΓêÜ TC-2.6.9-06: Handle default when no second bidder exists (117 ms)


≡ƒôè Test Results CSV: C:\Sem1_Year3_Projects\auction-hub\TEST_RESULTS_OUTPUT.csv
≡ƒôï Defect Registry CSV: C:\Sem1_Year3_Projects\auction-hub\DEFECT_REGISTRY.csv
≡ƒÉ¢ Bug Report TXT: C:\Sem1_Year3_Projects\auction-hub\BUG_REPORT_GENERATED.txt

============================================================
JEST CUSTOM REPORTER SUMMARY
============================================================
Total Tests:     432
Γ£à Passed:       421
Γ¥î Failed:       11
ΓÅ¡∩╕Å  Skipped:      0
≡ƒÉ¢ Defects:      11
============================================================
Generated Files:
  1. TEST_RESULTS_OUTPUT.csv  ΓåÆ Actual Results (Evidence)
  2. DEFECT_REGISTRY.csv      ΓåÆ Defect ID Γåö Test Case ID mapping
  3. BUG_REPORT_GENERATED.txt ΓåÆ Detailed Bug Reports
============================================================

---------------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------
File                                         | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                
---------------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------
All files                                    |   63.25 |    42.72 |    65.5 |   62.52 |                                                                                                                                  
 app                                         |   76.47 |      100 |      20 |   69.23 |                                                                                                                                  
  app.controller.ts                          |   81.81 |      100 |   33.33 |   77.77 | 12,18                                                                                                                            
  app.service.ts                             |   66.66 |      100 |       0 |      50 | 6-10                                                                                                                             
 article                                     |   87.91 |    67.39 |   95.83 |   86.74 |                                                                                                                                  
  article.controller.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  article.service.ts                         |   83.58 |    67.39 |   94.11 |   81.96 | 33,130-135,175,184-190,233,256,263                                                                                               
 article/dto                                 |   96.87 |      100 |     100 |   96.87 |                                                                                                                                  
  article-query.dto.ts                       |     100 |      100 |     100 |     100 |                                                                                                                                  
  article.dto.ts                             |       0 |      100 |     100 |       0 | 3                                                                                                                                
  create-article.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  update-article.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
 auctions                                    |   83.94 |    61.76 |   69.23 |   82.53 |                                                                                                                                  
  auction.controller.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  auction.processor.ts                       |   52.94 |        0 |      25 |   46.66 | 14-47                                                                                                                            
  auction.queue.ts                           |     100 |      100 |     100 |     100 |                                                                                                                                  
  auction.service.ts                         |   84.78 |    62.24 |   66.66 |   83.52 | 51,128,132,260-263,281,288,311-319,340-343,358                                                                                   
 auctions/dto                                |    82.6 |    57.14 |   88.23 |    82.6 |                                                                                                                                  
  auction-detail.dto.ts                      |       0 |      100 |     100 |       0 | 4-11                                                                                                                             
  auction-query.dto.ts                       |   88.23 |      100 |   33.33 |   88.23 | 41,49                                                                                                                            
  auction-summary.dto.ts                     |       0 |      100 |     100 |       0 | 1-32                                                                                                                             
  create-auction.dto.ts                      |     100 |       50 |     100 |     100 | 145-180                                                                                                                          
  file-upload.dto.ts                         |       0 |      100 |     100 |       0 | 2-19                                                                                                                             
  update-auction.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
 auth                                        |   67.68 |    33.33 |   70.37 |   66.45 |                                                                                                                                  
  auth.controller.ts                         |   93.33 |       75 |   88.88 |   93.02 | 85-87,115                                                                                                                        
  auth.service.ts                            |   85.71 |    76.08 |     100 |   85.18 | 51,80-84,93,151,170,192                                                                                                          
  user.service.ts                            |   33.33 |     9.37 |   36.36 |   31.14 | 33-69,121-134,146,154-234                                                                                                        
 auth/dto                                    |   76.74 |      100 |     100 |   76.74 |                                                                                                                                  
  forgot-password.dto.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
  login.dto.ts                               |     100 |      100 |     100 |     100 |                                                                                                                                  
  promote-user.dto.ts                        |     100 |      100 |     100 |     100 |                                                                                                                                  
  register-user.dto.ts                       |       0 |      100 |     100 |       0 | 1-45                                                                                                                             
  register.dto.ts                            |     100 |      100 |     100 |     100 |                                                                                                                                  
  resend-verification-email.dto.ts           |     100 |      100 |     100 |     100 |                                                                                                                                  
  verify-email.dto.ts                        |     100 |      100 |     100 |     100 |                                                                                                                                  
 cloudinary                                  |   61.36 |    16.66 |      25 |   61.11 |                                                                                                                                  
  cloudinary-response.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
  cloudinary.controller.ts                   |   91.66 |      100 |      50 |      90 | 37                                                                                                                               
  cloudinary.provider.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
  cloudinary.service.ts                      |   33.33 |    16.66 |   11.11 |   27.77 | 11-31,36-46                                                                                                                      
 common/controllers                          |   68.75 |     37.5 |   61.53 |   66.66 |                                                                                                                                  
  email-test.controller.ts                   |   41.93 |        0 |   16.66 |   37.93 | 39-41,59-61,79-102,123-131,140-256                                                                                               
  system-variables.controller.ts             |   93.93 |       75 |     100 |   93.54 | 58-59                                                                                                                            
 common/decorators                           |   91.66 |    66.66 |     100 |      90 |                                                                                                                                  
  current-user.decorator.ts                  |   85.71 |    66.66 |     100 |   85.71 | 29                                                                                                                               
  optional-current-user.decorator.ts         |   85.71 |    66.66 |     100 |   85.71 | 28                                                                                                                               
  public.decorator.ts                        |     100 |      100 |     100 |     100 |                                                                                                                                  
  roles.decorator.ts                         |     100 |      100 |     100 |     100 |                                                                                                                                  
 common/dto                                  |     100 |      100 |     100 |     100 |                                                                                                                                  
  file-upload.dto.ts                         |     100 |      100 |     100 |     100 |                                                                                                                                  
  pagination-query.dto.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                  
  reponse.dto.ts                             |     100 |      100 |     100 |     100 |                                                                                                                                  
 common/email                                |   64.31 |    36.66 |   53.57 |   64.05 |                                                                                                                                  
  email-queue.service.ts                     |   67.74 |      100 |   47.36 |   65.51 | 111-153,196-239,286-308,391-410                                                                                                  
  email-template.service.ts                  |   64.51 |    39.47 |   52.94 |   65.25 | 53,99-100,109,120-121,133,148-149,185-197,211-215,219-228,234-238,243-244,254-278                                                
  email.processor.ts                         |   49.05 |       25 |     100 |   47.05 | 56-78,88-103,114-123,139-157,164-168                                                                                             
  email.queue.ts                             |     100 |      100 |     100 |     100 |                                                                                                                                  
 common/enums                                |     100 |      100 |     100 |     100 |                                                                                                                                  
  roles.enum.ts                              |     100 |      100 |     100 |     100 |                                                                                                                                  
 common/filters                              |       0 |        0 |       0 |       0 |                                                                                                                                  
  exception.filter.ts                        |       0 |        0 |       0 |       0 | 1-117                                                                                                                            
 common/guards                               |    70.9 |    39.02 |     100 |   71.28 |                                                                                                                                  
  auth.guard.ts                              |   68.08 |    36.84 |     100 |   69.31 | 62-74,79-105,126,136-137,162,186,205-224,264                                                                                     
  roles.guard.ts                             |    87.5 |    66.66 |     100 |   84.61 | 17,24                                                                                                                            
 common/interceptors                         |       0 |        0 |       0 |       0 |                                                                                                                                  
  response.interceptor.ts                    |       0 |        0 |       0 |       0 | 1-54                                                                                                                             
 common/services                             |   39.05 |     30.3 |   48.71 |   38.32 |                                                                                                                                  
  email.service.ts                           |    24.5 |    13.88 |   34.48 |    23.9 | 235,240-255,282,290,310,324-533,546-550,580,606,624-756,776,794-1066,1090,1108-1232,1252,1270-1274                               
  system-variables.service.ts                |   82.35 |    74.07 |      90 |   81.92 | 55,210,216-220,237-249,261-264                                                                                                   
 common/types                                |   92.85 |    92.85 |     100 |   92.85 |                                                                                                                                  
  property-owner-snapshot.interface.ts       |   92.85 |    92.85 |     100 |   92.85 | 34                                                                                                                               
 common/utils                                |   32.65 |    10.25 |   31.25 |   32.65 |                                                                                                                                  
  decimal.utils.ts                           |   26.66 |        0 |   18.18 |   26.66 | 29-53,72-121                                                                                                                     
  json.utils.ts                              |   29.03 |    14.28 |      50 |   29.03 | 35-86,105-108,126-139                                                                                                            
  pagination.util.ts                         |     100 |        0 |     100 |     100 | 5-8                                                                                                                              
 contracts                                   |   83.84 |    55.06 |   85.71 |   83.45 |                                                                                                                                  
  contract.controller.ts                     |      95 |      100 |   77.77 |   94.73 | 67,105                                                                                                                           
  contract.service.ts                        |   62.37 |    48.81 |   83.33 |   61.22 | 48,52,56,60,115,170-229,257,266,304,310,342-371,395,420,453                                                                      
  pdf-generator.service.ts                   |   95.33 |    61.66 |     100 |   95.27 | 195,202,404,411,525-528,549                                                                                                      
 contracts/dto                               |   92.85 |      100 |     100 |   92.85 |                                                                                                                                  
  cancel-contract.dto.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
  contract-detail.dto.ts                     |       0 |      100 |     100 |       0 | 3-24                                                                                                                             
  contract-query.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  create-contract.dto.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
  sign-contract.dto.ts                       |     100 |      100 |     100 |     100 |                                                                                                                                  
  update-contract.dto.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
 contracts/guards                            |   91.66 |    86.66 |     100 |    90.9 |                                                                                                                                  
  contract-access.guard.ts                   |   91.66 |    86.66 |     100 |    90.9 | 20,25                                                                                                                            
 feature/auction-finalization                |    80.7 |    66.66 |   47.61 |   79.24 |                                                                                                                                  
  auction-finalization.controller.ts         |   85.29 |    66.66 |      50 |   84.37 | 77,129,143,162,182                                                                                                               
  auction-finalization.service.ts            |   73.91 |      100 |   45.45 |   71.42 | 55,86-139                                                                                                                        
 feature/auction-finalization/dto            |   88.46 |      100 |     100 |   88.46 |                                                                                                                                  
  auction-result.dto.ts                      |       0 |      100 |     100 |       0 | 3-69                                                                                                                             
  evaluation-result.dto.ts                   |       0 |      100 |     100 |       0 | 3                                                                                                                                
  finalize-auction.dto.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                  
  initiate-winner-payment.dto.ts             |     100 |      100 |     100 |     100 |                                                                                                                                  
  override-auction-status.dto.ts             |     100 |      100 |     100 |     100 |                                                                                                                                  
  verify-winner-payment.dto.ts               |     100 |      100 |     100 |     100 |                                                                                                                                  
 feature/auction-finalization/services       |   41.87 |    30.73 |   37.25 |   41.54 |                                                                                                                                  
  auction-evaluation.service.ts              |   72.88 |    76.92 |     100 |   73.21 | 69,94,102-116,131,146-147                                                                                                        
  auction-owner.service.ts                   |   40.48 |    35.71 |   26.08 |    40.6 | 52-99,133,143,154,195-201,208-215,320-322,382,406-658,681,691,701,747-900                                                        
  auction-results.service.ts                 |   72.22 |    23.93 |     100 |   71.01 | 88,102,127,139-152,194-229,270,334,343-376                                                                                       
  index.ts                                   |       0 |      100 |       0 |       0 | 2-5                                                                                                                              
  winner-payment.service.ts                  |   21.55 |    11.92 |   21.42 |    20.6 | 54,58,79,135-190,230-989                                                                                                         
 feature/auction-policy                      |   63.91 |    50.42 |      88 |   62.94 |                                                                                                                                  
  auction-cost.controller.ts                 |     100 |      100 |     100 |     100 |                                                                                                                                  
  auction-cost.service.ts                    |   94.73 |    90.54 |     100 |   94.54 | 220,254-255                                                                                                                      
  policy-calculation.service.ts              |    46.3 |    32.31 |      75 |   45.57 | 50-70,105-178,231,371-375,391-449,480,486,490-497,507,512-517,534-563,576,580,584,590                                            
 feature/auction-policy/dto                  |     100 |      100 |     100 |     100 |                                                                                                                                  
  add-other-cost.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  create-auction-cost.dto.ts                 |     100 |      100 |     100 |     100 |                                                                                                                                  
  update-auction-cost.dto.ts                 |     100 |      100 |     100 |     100 |                                                                                                                                  
 feature/bidding                             |   74.22 |    61.53 |   88.23 |   73.68 |                                                                                                                                  
  bidding.gateway.ts                         |   74.22 |    61.53 |   88.23 |   73.68 | 60,68,89-90,106-107,218-219,229,252-298,339                                                                                      
 feature/bidding/manual-bid                  |   89.32 |    81.94 |     100 |   88.88 |                                                                                                                                  
  manual-bid.controller.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                  
  manual-bid.service.ts                      |   87.35 |    81.94 |     100 |   87.05 | 46,68,75,99,162,167,175,184,257,268,280                                                                                          
 feature/bidding/manual-bid/dto              |    90.9 |      100 |     100 |    90.9 |                                                                                                                                  
  create-manual-bid.dto.ts                   |     100 |      100 |     100 |     100 |                                                                                                                                  
  deny-bid.dto.ts                            |     100 |      100 |     100 |     100 |                                                                                                                                  
  manual-bid-response.dto.ts                 |       0 |      100 |     100 |       0 | 3                                                                                                                                
 feature/bidding/register-to-bid             |   95.55 |      100 |   89.47 |   95.12 |                                                                                                                                  
  register-to-bid.controller.ts              |     100 |      100 |     100 |     100 |                                                                                                                                  
  register-to-bid.service.ts                 |    92.3 |      100 |    87.5 |   91.66 | 185-199                                                                                                                          
 feature/bidding/register-to-bid/controllers |   96.07 |    71.42 |   91.66 |   95.55 |                                                                                                                                  
  admin-approval.controller.ts               |     100 |      100 |     100 |     100 |                                                                                                                                  
  index.ts                                   |     100 |      100 |     100 |     100 |                                                                                                                                  
  refund.controller.ts                       |   86.66 |    66.66 |   66.66 |   85.71 | 101,130,140,171                                                                                                                  
  registration-payment.controller.ts         |     100 |      100 |     100 |     100 |                                                                                                                                  
  user-registration.controller.ts            |     100 |       75 |     100 |     100 | 88                                                                                                                               
 feature/bidding/register-to-bid/dto         |   97.61 |    66.66 |   66.66 |   97.52 |                                                                                                                                  
  approve-registration.dto.ts                |     100 |      100 |     100 |     100 |                                                                                                                                  
  auction-participant-response.dto.ts        |     100 |      100 |     100 |     100 |                                                                                                                                  
  check-in.dto.ts                            |     100 |      100 |     100 |     100 |                                                                                                                                  
  create-register-to-bid.dto.ts              |     100 |      100 |     100 |     100 |                                                                                                                                  
  final-approval.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  list-refunds-query.dto.ts                  |     100 |      100 |     100 |     100 |                                                                                                                                  
  list-registrations-query.dto.ts            |   89.47 |      100 |      50 |    87.5 | 21,33                                                                                                                            
  paginated-registrations-response.dto.ts    |     100 |      100 |     100 |     100 |                                                                                                                                  
  reject-documents.dto.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                  
  reject-registration.dto.ts                 |     100 |      100 |     100 |     100 |                                                                                                                                  
  request-refund.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  submit-deposit.dto.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  update-refund.dto.ts                       |     100 |      100 |     100 |     100 |                                                                                                                                  
  verify-deposit-payment.dto.ts              |     100 |      100 |     100 |     100 |                                                                                                                                  
  verify-documents.dto.ts                    |     100 |      100 |     100 |     100 |                                                                                                                                  
  withdraw-registration.dto.ts               |   85.71 |        0 |       0 |   85.71 | 24                                                                                                                               
 feature/bidding/register-to-bid/services    |   54.77 |     46.4 |   71.23 |   54.73 |                                                                                                                                  
  admin-approval.service.ts                  |   78.34 |    66.66 |     100 |      80 | 65,121,126,138,189-193,198-202,257-258,278,282,292,367,371,377,383,407-411,432,477,535-537                                       
  auto-refund.service.ts                     |   16.17 |        0 |      20 |   13.63 | 24-38,47-231                                                                                                                     
  index.ts                                   |     100 |      100 |     100 |     100 |                                                                                                                                  
  refund.service.ts                          |   59.03 |    47.61 |   69.56 |   58.64 | 104,136,149,194,203,258,291-317,330,341-449,473,516-551,568,625-635,674,697,719-742                                              
  registration-payment.service.ts            |    23.8 |    14.54 |   27.27 |   24.26 | 53,57,71,85-89,119,123,127,134-277,304-610                                                                                       
  user-registration.service.ts               |    68.9 |    54.76 |   83.33 |   70.19 | 48-56,62-81,91-92,99-100,116,143-144,150-206,211-224,229-242,251-260,280,322,325,328,336,359,365,372,436,463,469,491,532,536-537 
 feature/dashboard                           |   38.98 |        0 |      25 |   35.18 |                                                                                                                                  
  dashboard.controller.ts                    |   81.25 |      100 |   33.33 |   78.57 | 55,84-85                                                                                                                         
  dashboard.service.ts                       |   23.25 |        0 |      20 |      20 | 66-211,223-224                                                                                                                   
 feature/dashboard/dto                       |   94.11 |      100 |   33.33 |   96.96 |                                                                                                                                  
  dashboard-analytics-response.dto.ts        |     100 |      100 |     100 |     100 |                                                                                                                                  
  dashboard-filters.dto.ts                   |    87.5 |      100 |   33.33 |   93.33 | 50                                                                                                                               
  index.ts                                   |     100 |      100 |     100 |     100 |                                                                                                                                  
 location                                    |     100 |      100 |     100 |     100 |                                                                                                                                  
  location.controller.ts                     |     100 |      100 |     100 |     100 |                                                                                                                                  
  location.service.ts                        |     100 |      100 |     100 |     100 |                                                                                                                                  
 location/dto                                |       0 |      100 |     100 |       0 |                                                                                                                                  
  location.dto.ts                            |       0 |      100 |     100 |       0 | 1                                                                                                                                
 payment                                     |   34.93 |    12.17 |   41.66 |   32.87 |                                                                                                                                  
  payment-processing.service.ts              |   19.68 |    13.23 |   14.28 |   18.69 | 50,54,58,64,83-95,120-579                                                                                                        
  payment.controller.ts                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  payment.service.ts                         |   83.33 |    41.66 |      80 |   82.35 | 119-120,159-163                                                                                                                  
  payment.webhook.controller.ts              |   22.64 |        0 |      50 |    19.6 | 46-164                                                                                                                           
 payment/dto                                 |   34.04 |      100 |   66.66 |   34.04 |                                                                                                                                  
  Payment.dto.ts                             |       0 |      100 |       0 |       0 | 1-45                                                                                                                             
  PaymentCreateRequest.dto.ts                |     100 |      100 |     100 |     100 |                                                                                                                                  
  PaymentMethod.dto.ts                       |       0 |      100 |     100 |       0 | 1-17                                                                                                                             
  PaymentVerification.dto.ts                 |       0 |      100 |     100 |       0 | 1-17                                                                                                                             
 prisma                                      |     100 |      100 |     100 |     100 |                                                                                                                                  
  prisma.service.ts                          |     100 |      100 |     100 |     100 |                                                                                                                                  
 supabase                                    |   81.25 |    66.66 |   66.66 |   78.57 |                                                                                                                                  
  supabase.service.ts                        |   81.25 |    66.66 |   66.66 |   78.57 | 15,28,42                                                                                                                         
---------------------------------------------|---------|----------|---------|---------|----------------------------------------------------------------------------------------------------------------------------------
Summary of all failing tests
FAIL test/integration/2.7-payment/2.7.1-create-payment.spec.ts (28.213 s)
  ΓùÅ 2.7.1 Create Payment (Mocked Stripe) ΓÇ║ Validation Failures ΓÇ║ TC-2.7.1-15: Fail payment with non-existent auctionId

    expect(received).toContain(expected) // indexOf

    Expected value: 201
    Received array: [404, 400]

      337 |
      338 |       // May return 404 or 400 (foreign key) depending on implementation
    > 339 |       expect([404, 400]).toContain(response.status);
          |                          ^
      340 |     });
      341 |
      342 |     it('TC-2.7.1-16: Fail payment with non-existent registrationId', async () => {

      at Object.<anonymous> (test/integration/2.7-payment/2.7.1-create-payment.spec.ts:339:26)

  ΓùÅ 2.7.1 Create Payment (Mocked Stripe) ΓÇ║ Validation Failures ΓÇ║ TC-2.7.1-16: Fail payment with non-existent registrationId

    expect(received).toContain(expected) // indexOf

    Expected value: 201
    Received array: [404, 400]

      353 |
      354 |       // May return 404 or 400 (foreign key) depending on implementation
    > 355 |       expect([404, 400]).toContain(response.status);
          |                          ^
      356 |     });
      357 |   });
      358 | });

      at Object.<anonymous> (test/integration/2.7-payment/2.7.1-create-payment.spec.ts:355:26)

FAIL test/integration/5.2-integration/5.2.3-state-transitions.spec.ts (5.957 s)
  ΓùÅ 5.2.3 Auction State Transitions ΓÇ║ State Transition Validation ΓÇ║ TC-5.2.3-03: Cannot transition backwards (success ΓåÆ live)

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [400, 403]

      446 |
      447 |       // Should fail (invalid transition)
    > 448 |       expect([400, 403]).toContain(response.status);
          |                          ^
      449 |     });
      450 |
      451 |     it('TC-5.2.3-04: Cancelled is terminal state', async () => {

      at Object.<anonymous> (test/integration/5.2-integration/5.2.3-state-transitions.spec.ts:448:26)

  ΓùÅ 5.2.3 Auction State Transitions ΓÇ║ State Transition Validation ΓÇ║ TC-5.2.3-04: Cancelled is terminal state

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [400, 403]

      484 |
      485 |       // Should fail
    > 486 |       expect([400, 403]).toContain(response.status);
          |                          ^
      487 |     });
      488 |   });
      489 | });

      at Object.<anonymous> (test/integration/5.2-integration/5.2.3-state-transitions.spec.ts:486:26)

FAIL test/integration/2.6-auction-finalization/2.6.2-finalize.spec.ts
  ΓùÅ 2.6.2 Finalize Auction ΓÇ║ Finalization Failures ΓÇ║ TC-2.6.2-08: Fail finalize live auction

    expected 400 "Bad Request", got 200 "OK"

      228 |         .set('Authorization', `Bearer ${adminToken}`)
      229 |         .send({ auctionId: endedAuction.id })
    > 230 |         .expect(400);
          |          ^
      231 |     });
      232 |   });
      233 | });

      at Object.<anonymous> (test/integration/2.6-auction-finalization/2.6.2-finalize.spec.ts:230:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

FAIL test/integration/4.1-security/4.1.2-mass-assignment.spec.ts
  ΓùÅ 4.1.2 Mass Assignment ΓÇ║ Auction Update Mass Assignment ΓÇ║ TC-4.1.2-03: Cannot set status directly on auction update

    expect(received).toBe(expected) // Object.is equality

    Expected: "scheduled"
    Received: "success"

      170 |         where: { id: auction.id },
      171 |       });
    > 172 |       expect(updated?.status).toBe(AuctionStatus.scheduled); // Unchanged
          |                               ^
      173 |     });
      174 |
      175 |     it('TC-4.1.2-05: Forbid non-whitelisted fields returns 400', async () => {

      at Object.<anonymous> (test/integration/4.1-security/4.1.2-mass-assignment.spec.ts:172:31)

FAIL test/integration/2.3-auction-management/2.3.5-delete-auction.spec.ts
  ΓùÅ 2.3.5 Delete Auction ΓÇ║ Deletion Failures ΓÇ║ TC-2.3.5-03: Fail delete auction with participants

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [400, 409]

      162 |         .set('Authorization', `Bearer ${adminToken}`);
      163 |
    > 164 |       expect([400, 409]).toContain(response.status);
          |                          ^
      165 |     });
      166 |
      167 |     it('TC-2.3.5-04: Fail delete live auction', async () => {

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.5-delete-auction.spec.ts:164:26)

FAIL test/integration/2.5-bidding-system/2.5.2-bid-denial.spec.ts
  ΓùÅ 2.5.2 Bid Denial ΓÇ║ Successful Denial ΓÇ║ TC-2.5.2-02: Verify Admin denies bid with reason

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

      162 |       expect(bid!.isDenied).toBe(true);
      163 |       expect(bid!.deniedAt).toBeTruthy();
    > 164 |       expect(bid!.isWinningBid).toBe(false);
          |                                 ^
      165 |     });
      166 |
      167 |     it('TC-2.5.2-01: Verify Auctioneer denies bid', async () => {

      at Object.<anonymous> (test/integration/2.5-bidding-system/2.5.2-bid-denial.spec.ts:164:33)

  ΓùÅ 2.5.2 Bid Denial ΓÇ║ Winner Promotion ΓÇ║ TC-2.5.2-08: Verify next highest bid promoted when winning denied

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      266 |         where: { id: lowerBid.id },
      267 |       });
    > 268 |       expect(updatedLowerBid!.isWinningBid).toBe(true);
          |                                             ^
      269 |     });
      270 |   });
      271 |

      at Object.<anonymous> (test/integration/2.5-bidding-system/2.5.2-bid-denial.spec.ts:268:45)

FAIL test/integration/2.3-auction-management/2.3.3-create-auction.spec.ts
  ΓùÅ 2.3.3 Create Auction ΓÇ║ Authorization Failures ΓÇ║ TC-2.6.2-09: Fail Bidder creates auction

    expected 403 "Forbidden", got 201 "Created"

      134 |         .set('Authorization', `Bearer ${bidderToken}`)
      135 |         .send(payload)
    > 136 |         .expect(403);
          |          ^
      137 |     });
      138 |
      139 |     it('TC-2.8.1-07: Fail create without auth', async () => {

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.3-create-auction.spec.ts:136:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  ΓùÅ 2.3.3 Create Auction ΓÇ║ Validation Failures ΓÇ║ TC-2.3.3-05: Fail with negative starting price

    expected 400 "Bad Request", got 201 "Created"

      182 |         .set('Authorization', `Bearer ${adminToken}`)
      183 |         .send(payload)
    > 184 |         .expect(400);
          |          ^
      185 |     });
      186 |
      187 |     it('TC-2.3.3-06: Fail with auction end before start', async () => {

      at Object.<anonymous> (test/integration/2.3-auction-management/2.3.3-create-auction.spec.ts:184:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)


Test Suites: 7 failed, 45 passed, 52 total
Tests:       11 failed, 421 passed, 432 total
Snapshots:   0 total
Time:        271.536 s
Ran all test suites.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
