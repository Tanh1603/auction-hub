Category,Test Case ID,Test Case Description,PreRequisites,Steps to Perform,Step Expected Result,Test Case Expected Result,Actual Result,Status,Note
3.1 User Management,TC-3.1.1-01,Verify successful registration of Individual User,No existing User record with email 'newuser@test.com' in prisma.user,1. Send POST /auth/register 2. Body: {email: 'newuser@test.com'; password: 'SecurePass123!'; full_name: 'Test User'; user_type: 'individual'; phone_number: '0901234567'},Returns 201 Created with {user_id; email; verification_required: true},User created in prisma.user with role: UserRole.bidder. Verify: prisma.user.findUnique({where: {email}}) returns record with isVerified: false,,New,DTO: RegisterRequestDto
3.1 User Management,TC-3.1.1-02,Verify successful registration of Business User with Tax ID,No existing User record with email 'business@test.com' in prisma.user,1. Send POST /auth/register 2. Body: {email: 'business@test.com'; password: 'SecurePass123!'; full_name: 'Business Corp'; user_type: 'business'; tax_id: '0123456789'; phone_number: '0901234567'},Returns 201 Created with {user_id; email; verification_required: true},User created in prisma.user with userType: UserType.business and taxId stored,,New,
3.1 User Management,TC-3.1.1-03,Fail to register with existing email,User with email 'existing@test.com' exists in prisma.user,1. Send POST /auth/register 2. Body: {email: 'existing@test.com'; password: 'SecurePass123!'; full_name: 'Test'; user_type: 'individual'},Returns 409 Conflict,Error 'Email already exists'. No duplicate record created,,New,
3.1 User Management,TC-3.1.1-04,Fail to register with invalid email format,No preconditions,1. Send POST /auth/register 2. Body: {email: 'invalid-email'; password: 'SecurePass123!'; full_name: 'Test'; user_type: 'individual'},Returns 400 Bad Request,Validation error 'Invalid email format' from @IsEmail(),,New,
3.1 User Management,TC-3.1.1-05,Fail to register with password less than 8 characters,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Short1!'; full_name: 'Test'; user_type: 'individual'},Returns 400 Bad Request,Validation error 'Password must be at least 8 characters',,New,@MinLength(8)
3.1 User Management,TC-3.1.1-06,Fail to register with password missing uppercase,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'nouppercase123!'; full_name: 'Test'; user_type: 'individual'},Returns 400 Bad Request,Validation error about password requirements (uppercase; lowercase; number),,New,@Matches regex
3.1 User Management,TC-3.1.1-07,Fail to register with password missing lowercase,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'NOLOWERCASE123!'; full_name: 'Test'; user_type: 'individual'},Returns 400 Bad Request,Validation error about password requirements,,New,
3.1 User Management,TC-3.1.1-08,Fail to register with password missing number,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'NoNumbers!!'; full_name: 'Test'; user_type: 'individual'},Returns 400 Bad Request,Validation error about password requirements,,New,
3.1 User Management,TC-3.1.1-09,Fail to register with invalid phone format,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; phone_number: '123456'; user_type: 'individual'},Returns 400 Bad Request,Validation error 'Phone must be valid Vietnamese phone number',,New,@Matches Vietnamese phone regex
3.1 User Management,TC-3.1.1-10,Fail to register with invalid identity number,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; identity_number: '12345'; user_type: 'individual'},Returns 400 Bad Request,Validation error 'Invalid Vietnamese CCCD',,New,@Matches CCCD regex
3.1 User Management,TC-3.1.1-11,Verify registration with valid Vietnamese phone 0901234567,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; phone_number: '0901234567'; user_type: 'individual'},Returns 201 Created,User created with phoneNumber field populated,,New,
3.1 User Management,TC-3.1.1-12,Verify registration with valid CCCD 12 digits,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; identity_number: '001234567890'; user_type: 'individual'},Returns 201 Created,User created with identityNumber field populated,,New,
3.1 User Management,TC-3.1.1-13,Fail to register with duplicate phone number,User with phone '0901234567' exists,1. Send POST /auth/register 2. Body: {email: 'new@test.com'; password: 'Valid123!'; phone_number: '0901234567'; user_type: 'individual'},Returns 409 Conflict,Error indicating phone number already exists. @unique constraint,,New,
3.1 User Management,TC-3.1.1-14,Fail to register with duplicate identity number,User with identity_number exists,1. Send POST /auth/register 2. Body: {email: 'new@test.com'; password: 'Valid123!'; identity_number: '001234567890'; user_type: 'individual'},Returns 409 Conflict,Error indicating identity number already exists. @unique constraint,,New,
3.1 User Management,TC-3.1.1-15,Fail to register with invalid user_type enum,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; user_type: 'corporation'},Returns 400 Bad Request,Validation error 'User type must be either individual or business',,New,@IsEnum(UserType)
3.1 User Management,TC-3.1.1-16,Verify registration with minimal required fields,No preconditions,1. Send POST /auth/register 2. Body: {email: 'minimal@test.com'; password: 'Valid123!'},Returns 201 Created,User created with optional fields as null,,New,Optional fields: phone_number; full_name; identity_number; user_type; tax_id
3.1 User Management,TC-3.1.1-17,Verify registration with all optional fields,No preconditions,1. Send POST /auth/register 2. Body: {email: 'full@test.com'; password: 'Valid123!'; full_name: 'Full User'; phone_number: '0901234567'; identity_number: '001234567890'; user_type: 'individual'},Returns 201 Created,All fields populated in prisma.user,,New,
3.1 User Management,TC-3.1.1-18,Fail Business user without tax_id,No preconditions,1. Send POST /auth/register 2. Body: {email: 'biz@test.com'; password: 'Valid123!'; user_type: 'business'},Returns 400 Bad Request,Error indicating tax_id required for business users,,New,Business logic validation
3.1 User Management,TC-3.1.1-19,Verify registration sets default role as bidder,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'},Returns 201 Created,prisma.user record has role: UserRole.bidder (default),,New,@default(bidder) in schema
3.1 User Management,TC-3.1.1-20,Verify registration sets isVerified false,No preconditions,1. Send POST /auth/register 2. Body with valid data,Returns 201 Created,prisma.user record has isVerified: false,,New,@default(false) in schema
3.1 User Management,TC-3.1.1-21,Verify registration sets isBanned false,No preconditions,1. Send POST /auth/register 2. Body with valid data,Returns 201 Created,prisma.user record has isBanned: false,,New,@default(false) in schema
3.1 User Management,TC-3.1.1-22,Verify registration sets default ratingScore 5.00,No preconditions,1. Send POST /auth/register 2. Body with valid data,Returns 201 Created,prisma.user record has ratingScore: 5.00,,New,@default(5.00) in schema
3.1 User Management,TC-3.1.1-23,Fail registration with empty email,No preconditions,1. Send POST /auth/register 2. Body: {email: ''; password: 'Valid123!'},Returns 400 Bad Request,Validation error for email field,,New,
3.1 User Management,TC-3.1.1-24,Fail registration with empty password,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: ''},Returns 400 Bad Request,Validation error for password field,,New,
3.1 User Management,TC-3.1.1-25,Fail registration with null email,No preconditions,1. Send POST /auth/register 2. Body: {email: null; password: 'Valid123!'},Returns 400 Bad Request,Validation error for email field,,New,
3.1 User Management,TC-3.1.1-26,Verify email is case-insensitive for uniqueness,User with email 'Test@Email.com' exists,1. Send POST /auth/register 2. Body: {email: 'test@email.com'; password: 'Valid123!'},Returns 409 Conflict,Email uniqueness is case-insensitive,,New,
3.1 User Management,TC-3.1.1-27,Verify registration trims whitespace from email,No preconditions,1. Send POST /auth/register 2. Body: {email: '  test@test.com  '; password: 'Valid123!'},Returns 201 Created,Email stored without leading/trailing whitespace,,New,
3.1 User Management,TC-3.1.1-28,Fail registration with SQL injection in email,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com; DROP TABLE users;--'; password: 'Valid123!'},Returns 400 Bad Request,Invalid email format. No SQL executed,,New,Security test
3.1 User Management,TC-3.1.1-29,Fail registration with XSS in full_name,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; full_name: '<script>alert(1)</script>'},Returns 201 Created or sanitized,Name stored safely without XSS execution risk,,New,Security test
3.1 User Management,TC-3.1.1-30,Verify registration with Unicode characters in name,No preconditions,1. Send POST /auth/register 2. Body: {email: 'test@test.com'; password: 'Valid123!'; full_name: 'Nguyễn Văn A'},Returns 201 Created,Vietnamese name with diacritics stored correctly,,New,Unicode support
3.1 User Management,TC-3.1.2-01,Verify get current user info successfully,User exists with valid JWT,1. Send GET /auth/me 2. Authorization: Bearer <valid_token>,Returns 200 OK with User object,User profile returned from prisma.user,,New,
3.1 User Management,TC-3.1.2-02,Fail to get user info without authentication,No token provided,1. Send GET /auth/me 2. No Authorization header,Returns 401 Unauthorized,Error 'Authorization header is missing',,New,
3.1 User Management,TC-3.1.2-03,Fail to get user info with invalid token,Invalid JWT provided,1. Send GET /auth/me 2. Authorization: Bearer invalid_token,Returns 401 Unauthorized,Error 'Invalid token',,New,
3.1 User Management,TC-3.1.2-04,Fail to get user info with expired token,Expired JWT provided,1. Send GET /auth/me 2. Authorization: Bearer expired_token,Returns 401 Unauthorized,Error 'Token has expired',,New,
3.1 User Management,TC-3.1.2-05,Verify response includes all user fields,User with all fields populated,1. Send GET /auth/me with valid token,Returns 200 OK,Response contains: id; email; fullName; phoneNumber; role; userType; isVerified,,New,
3.1 User Management,TC-3.1.2-06,Verify password not returned in user info,User exists,1. Send GET /auth/me with valid token,Returns 200 OK,Response does NOT contain password field,,New,Security
3.1 User Management,TC-3.1.2-07,Fail with malformed Bearer token,Missing 'Bearer' prefix,1. Send GET /auth/me 2. Authorization: invalid_token (no Bearer),Returns 401 Unauthorized,Error 'Invalid authorization header format',,New,
3.1 User Management,TC-3.1.2-08,Fail with Bearer but no token,Only 'Bearer' without token,1. Send GET /auth/me 2. Authorization: Bearer,Returns 401 Unauthorized,Error 'No token provided',,New,
3.1 User Management,TC-3.1.3-01,Verify Super Admin can promote user to Admin,Super Admin authenticated; Target User exists,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'admin'},Returns 200 OK,Target user role updated to UserRole.admin in prisma.user,,New,
3.1 User Management,TC-3.1.3-02,Verify Super Admin can promote user to Auctioneer,Super Admin authenticated; Target User exists,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'auctioneer'},Returns 200 OK,Target user role updated to UserRole.auctioneer,,New,
3.1 User Management,TC-3.1.3-03,Verify Admin can promote Bidder to Auctioneer,Admin authenticated; Target User is Bidder,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'auctioneer'},Returns 200 OK,Bidder promoted to Auctioneer,,New,
3.1 User Management,TC-3.1.3-04,Fail Admin promoting user to Admin,Admin authenticated,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'admin'},Returns 403 Forbidden,Admin cannot promote to admin level,,New,
3.1 User Management,TC-3.1.3-05,Fail Admin promoting user to Super Admin,Admin authenticated,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'super_admin'},Returns 403 Forbidden,Admin cannot promote to super_admin,,New,
3.1 User Management,TC-3.1.3-06,Fail Bidder attempting to promote user,Bidder authenticated,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'auctioneer'},Returns 403 Forbidden,RolesGuard blocks access,,New,
3.1 User Management,TC-3.1.3-07,Fail Auctioneer attempting to promote user,Auctioneer authenticated,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'bidder'},Returns 403 Forbidden,RolesGuard blocks access,,New,
3.1 User Management,TC-3.1.3-08,Fail promote non-existent user,Admin authenticated; User ID doesn't exist,1. Send PUT /auth/admin/users/non-existent-uuid/promote 2. Body: {role: 'auctioneer'},Returns 404 Not Found,Error indicating user not found,,New,
3.1 User Management,TC-3.1.3-09,Fail promote with invalid role enum,Admin authenticated,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'invalid_role'},Returns 400 Bad Request,Validation error from @IsEnum(UserRole),,New,
3.1 User Management,TC-3.1.3-10,Verify promote includes optional reason,Super Admin authenticated,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'admin'; reason: 'Promoted for performance'},Returns 200 OK,Promotion recorded. Reason stored if audit log exists,,New,
3.1 User Management,TC-3.1.3-11,Fail promote without authentication,No token,1. Send PUT /auth/admin/users/:userId/promote 2. Body: {role: 'admin'},Returns 401 Unauthorized,AuthGuard blocks unauthenticated request,,New,
3.1 User Management,TC-3.1.3-12,Verify cannot demote super_admin,Super Admin authenticated; Target is super_admin,1. Send PUT /auth/admin/users/:superAdminId/promote 2. Body: {role: 'bidder'},Returns 400 Bad Request or 403,Cannot demote super_admin,,New,Business logic protection
3.2 Authentication,TC-3.2.1-01,Verify successful login with valid credentials,User exists with verified email,1. Send POST /auth/login 2. Body: {email: 'user@test.com'; password: 'ValidPass123!'},Returns 200 OK with tokens,Response: {access_token; refresh_token; expires_in; user},,New,
3.2 Authentication,TC-3.2.1-02,Fail login with incorrect password,User exists,1. Send POST /auth/login 2. Body: {email: 'user@test.com'; password: 'WrongPass123!'},Returns 401 Unauthorized,Error from Supabase Auth,,New,
3.2 Authentication,TC-3.2.1-03,Fail login with non-existent email,No user with email,1. Send POST /auth/login 2. Body: {email: 'nonexistent@test.com'; password: 'AnyPass123!'},Returns 401 Unauthorized,Error indicating invalid credentials,,New,
3.2 Authentication,TC-3.2.1-04,Fail login with unverified email,User exists with emailVerifiedAt: null,1. Send POST /auth/login 2. Body: {email: 'unverified@test.com'; password: 'ValidPass123!'},Returns 403 Forbidden,Error indicating email not verified,,New,
3.2 Authentication,TC-3.2.1-05,Fail login with banned user,User exists with isBanned: true,1. Send POST /auth/login 2. Body: {email: 'banned@test.com'; password: 'ValidPass123!'},Returns 403 Forbidden,Error indicating user is banned,,New,
3.2 Authentication,TC-3.2.1-06,Fail login with invalid email format,No preconditions,1. Send POST /auth/login 2. Body: {email: 'invalid-email'; password: 'ValidPass123!'},Returns 400 Bad Request,Validation error from @IsEmail(),,New,
3.2 Authentication,TC-3.2.1-07,Fail login with empty password,No preconditions,1. Send POST /auth/login 2. Body: {email: 'user@test.com'; password: ''},Returns 400 Bad Request,Validation error 'Password is required',,New,@IsNotEmpty()
3.2 Authentication,TC-3.2.1-08,Fail login with null email,No preconditions,1. Send POST /auth/login 2. Body: {email: null; password: 'ValidPass123!'},Returns 400 Bad Request,Validation error for email,,New,
3.2 Authentication,TC-3.2.1-09,Verify login returns valid JWT token,User exists and verified,1. Send POST /auth/login 2. Decode returned access_token,Returns 200 OK,Token contains: sub (userId); email; exp; iat,,New,
3.2 Authentication,TC-3.2.1-10,Verify login returns user object,User exists,1. Send POST /auth/login with valid credentials,Returns 200 OK,user object includes: id; email; fullName; role; isVerified,,New,
3.2 Authentication,TC-3.2.2-01,Verify forgot password sends reset email,User exists,1. Send POST /auth/forgot-password 2. Body: {email: 'user@test.com'},Returns 200 OK with success message,Message: 'Password reset code has been sent to your email',,New,
3.2 Authentication,TC-3.2.2-02,Verify forgot password for non-existent email (security),No user with email,1. Send POST /auth/forgot-password 2. Body: {email: 'nonexistent@test.com'},Returns 200 OK (same response),Same response for security - don't reveal email existence,,New,Security best practice
3.2 Authentication,TC-3.2.2-03,Fail forgot password with invalid email format,No preconditions,1. Send POST /auth/forgot-password 2. Body: {email: 'invalid'},Returns 400 Bad Request,Validation error 'Invalid email format',,New,
3.2 Authentication,TC-3.2.2-04,Fail forgot password with empty email,No preconditions,1. Send POST /auth/forgot-password 2. Body: {email: ''},Returns 400 Bad Request,Validation error for email field,,New,
3.2 Authentication,TC-3.2.3-01,Verify resend verification email,User with emailVerifiedAt: null,1. Send POST /auth/resend-verification-email 2. Body: {email: 'unverified@test.com'},Returns 200 OK,Message: 'Verification email sent successfully',,New,
3.2 Authentication,TC-3.2.3-02,Fail resend for already verified email,User with emailVerifiedAt: set,1. Send POST /auth/resend-verification-email 2. Body: {email: 'verified@test.com'},Returns 400 Bad Request,Error indicating email already verified,,New,
3.2 Authentication,TC-3.2.3-03,Fail resend with non-existent email,No user with email,1. Send POST /auth/resend-verification-email 2. Body: {email: 'nonexistent@test.com'},Returns 404 Not Found or 200 OK (security),Email not found. Response may be generic for security,,New,
3.2 Authentication,TC-3.2.4-01,Verify email with valid token (POST),User has valid verification token,1. Send POST /auth/verify-email 2. Body: {token: 'valid_token'; email: 'user@test.com'},Returns 200 OK,prisma.user.update sets emailVerifiedAt to now(),,New,
3.2 Authentication,TC-3.2.4-02,Fail verify email with invalid token,Token doesn't match,1. Send POST /auth/verify-email 2. Body: {token: 'wrong_token'; email: 'user@test.com'},Returns 400 Bad Request,Error indicating invalid token,,New,
3.2 Authentication,TC-3.2.4-03,Fail verify email with expired token,Token has expired,1. Send POST /auth/verify-email 2. Body: {token: 'expired_token'; email: 'user@test.com'},Returns 400 Bad Request,Error indicating token expired,,New,
3.2 Authentication,TC-3.2.4-04,Fail verify email with wrong email,Token valid but email mismatch,1. Send POST /auth/verify-email 2. Body: {token: 'valid_token'; email: 'other@test.com'},Returns 400 Bad Request,Error indicating token/email mismatch,,New,
3.2 Authentication,TC-3.2.4-05,Fail verify email with missing token,No token provided,1. Send POST /auth/verify-email 2. Body: {email: 'user@test.com'},Returns 400 Bad Request,Validation error 'Token is required',,New,@IsNotEmpty()
3.2 Authentication,TC-3.2.4-06,Fail verify email with missing email,No email provided,1. Send POST /auth/verify-email 2. Body: {token: 'valid_token'},Returns 400 Bad Request,Validation error for email field,,New,
3.2 Authentication,TC-3.2.5-01,Verify email via link (GET),User has valid verification link,1. Send GET /auth/verify?token=valid_token&email=user@test.com,Returns 302 Redirect,Redirects to ${FRONTEND_URL}/auth/verify-result?success=true,,New,
3.2 Authentication,TC-3.2.5-02,Fail verify via link with invalid token,Invalid token in query,1. Send GET /auth/verify?token=invalid&email=user@test.com,Returns 302 Redirect,Redirects to error page with success=false&error=...,,New,
3.2 Authentication,TC-3.2.5-03,Fail verify via link without token param,Missing token,1. Send GET /auth/verify?email=user@test.com,Returns 302 Redirect,Redirects with error 'Missing token or email',,New,
3.2 Authentication,TC-3.2.5-04,Fail verify via link without email param,Missing email,1. Send GET /auth/verify?token=valid_token,Returns 302 Redirect,Redirects with error 'Missing token or email',,New,
3.3 Auction Management,TC-3.3.1-01,Verify list all auctions publicly (no auth),Multiple auctions exist,1. Send GET /auctions,Returns 200 OK with auction array,List from prisma.auction.findMany. No auth required (@Public),,New,
3.3 Auction Management,TC-3.3.1-02,Verify list auctions with status filter,Auctions with various statuses,1. Send GET /auctions?status=live,Returns 200 OK,Only AuctionStatus.live auctions returned,,New,
3.3 Auction Management,TC-3.3.1-03,Verify list auctions with assetType filter,Auctions with various assetTypes,1. Send GET /auctions?assetType=land_use_rights,Returns 200 OK,Only matching assetType returned,,New,
3.3 Auction Management,TC-3.3.1-04,Verify list auctions with pagination,More than 10 auctions exist,1. Send GET /auctions?page=1&limit=10,Returns 200 OK with 10 items,Pagination metadata included,,New,
3.3 Auction Management,TC-3.3.1-05,Verify list auctions with page 2,More than 10 auctions exist,1. Send GET /auctions?page=2&limit=10,Returns 200 OK,Second page of results returned,,New,
3.3 Auction Management,TC-3.3.1-06,Verify list auctions with search query,Auctions with matching names,1. Send GET /auctions?search=apartment,Returns 200 OK,Auctions with 'apartment' in name returned,,New,
3.3 Auction Management,TC-3.3.1-07,Verify empty list when no auctions match filter,No auctions with status=cancelled,1. Send GET /auctions?status=cancelled,Returns 200 OK with empty array,Empty array returned; no error,,New,
3.3 Auction Management,TC-3.3.1-08,Verify list auctions sorted by auctionStartAt,Multiple auctions exist,1. Send GET /auctions?sortBy=auctionStartAt&order=asc,Returns 200 OK,Auctions sorted by start date ascending,,New,
3.3 Auction Management,TC-3.3.1-09,Verify list auctions by province,Auctions in different provinces,1. Send GET /auctions?provinceId=uuid,Returns 200 OK,Only auctions in specified province returned,,New,
3.3 Auction Management,TC-3.3.1-10,Verify list auctions with combined filters,Auctions with various attributes,1. Send GET /auctions?status=scheduled&assetType=secured_asset&page=1,Returns 200 OK,Filters applied together correctly,,New,
3.3 Auction Management,TC-3.3.2-01,Verify get auction by ID,Auction exists,1. Send GET /auctions/:id,Returns 200 OK,Full auction details with images; attachments; propertyOwner (JsonB),,New,
3.3 Auction Management,TC-3.3.2-02,Fail get auction with invalid UUID format,No preconditions,1. Send GET /auctions/not-a-uuid,Returns 400 Bad Request,Error indicating invalid UUID format,,New,
3.3 Auction Management,TC-3.3.2-03,Fail get auction with non-existent ID,UUID format valid but not exists,1. Send GET /auctions/550e8400-e29b-41d4-a716-446655440000,Returns 404 Not Found,Error 'Auction not found',,New,
3.3 Auction Management,TC-3.3.2-04,Verify auction detail includes location,Auction with assetWardId set,1. Send GET /auctions/:id,Returns 200 OK,Location data (province; district; ward) included via relations,,New,
3.3 Auction Management,TC-3.3.2-05,Verify auction detail includes related auctions,Auction with AuctionRelation records,1. Send GET /auctions/:id,Returns 200 OK,Related auctions array included,,New,
3.3 Auction Management,TC-3.3.2-06,Verify auction detail includes participant count,Auction with participants,1. Send GET /auctions/:id,Returns 200 OK,Participant count or _count included,,New,
3.3 Auction Management,TC-3.3.3-01,Verify create auction with required fields,Auctioneer authenticated; Location exists,1. Send POST /auctions 2. Body: {name; code; assetType; startingPrice; bidIncrement; auctionStartAt; auctionEndAt; ...},Returns 201 Created,Auction created with status: AuctionStatus.scheduled,,New,[SECURITY GAP] Missing RolesGuard
3.3 Auction Management,TC-3.3.3-02,Verify create auction with all fields,Auctioneer authenticated,1. Send POST /auctions 2. Body with all optional fields,Returns 201 Created,All fields populated in prisma.auction,,New,
3.3 Auction Management,TC-3.3.3-03,Fail create auction without name,Auctioneer authenticated,1. Send POST /auctions 2. Body missing name field,Returns 400 Bad Request,Validation error for name field,,New,
3.3 Auction Management,TC-3.3.3-04,Fail create auction without startingPrice,Auctioneer authenticated,1. Send POST /auctions 2. Body missing startingPrice,Returns 400 Bad Request,Validation error for startingPrice,,New,
3.3 Auction Management,TC-3.3.3-05,Fail create auction with negative startingPrice,Auctioneer authenticated,1. Send POST /auctions 2. Body: {startingPrice: -1000000},Returns 400 Bad Request,Validation error - price must be positive,,New,@Min(0) or @IsPositive()
3.3 Auction Management,TC-3.3.3-06,Fail create auction with auctionEndAt before auctionStartAt,Auctioneer authenticated,1. Send POST /auctions 2. Body with endAt < startAt,Returns 400 Bad Request,Business logic error - end must be after start,,New,
3.3 Auction Management,TC-3.3.3-07,Fail create auction with invalid assetType enum,Auctioneer authenticated,1. Send POST /auctions 2. Body: {assetType: 'invalid_type'},Returns 400 Bad Request,Validation error for assetType enum,,New,
3.3 Auction Management,TC-3.3.3-08,Verify create sets isActive to true by default,Auctioneer authenticated,1. Send POST /auctions 2. Body without isActive,Returns 201 Created,Auction created with isActive: true,,New,
3.3 Auction Management,TC-3.3.3-09,Fail create auction with past auctionStartAt,Auctioneer authenticated,1. Send POST /auctions 2. Body with auctionStartAt in past,Returns 400 Bad Request,Error indicating start date must be in future,,New,
3.3 Auction Management,TC-3.3.3-10,Fail create auction with duplicate code,Auction with same code exists,1. Send POST /auctions 2. Body: {code: 'EXISTING_CODE'},Returns 409 Conflict,Error indicating code already exists. @unique constraint,,New,
3.3 Auction Management,TC-3.3.4-01,Verify update auction name,Auction with status: scheduled exists,1. Send PUT /auctions/:id 2. Body: {name: 'New Name'},Returns 200 OK,prisma.auction.update modifies name,,New,
3.3 Auction Management,TC-3.3.4-02,Verify update auction startingPrice,Scheduled auction exists,1. Send PUT /auctions/:id 2. Body: {startingPrice: 2000000000},Returns 200 OK,startingPrice updated,,New,
3.3 Auction Management,TC-3.3.4-03,Verify update auction dates,Scheduled auction exists,1. Send PUT /auctions/:id 2. Body: {auctionStartAt: newDate; auctionEndAt: newDate},Returns 200 OK,Dates updated in prisma.auction,,New,
3.3 Auction Management,TC-3.3.4-04,Fail update live auction critical fields,Auction with status: live,1. Send PUT /auctions/:id 2. Body: {startingPrice: 3000000000},Returns 400 Bad Request,Cannot modify live auction,,New,Business rule
3.3 Auction Management,TC-3.3.4-05,Fail update completed auction,Auction with status: success or failed,1. Send PUT /auctions/:id 2. Body: {name: 'Updated'},Returns 400 Bad Request,Cannot modify completed auction,,New,
3.3 Auction Management,TC-3.3.4-06,Fail update non-existent auction,UUID doesn't exist,1. Send PUT /auctions/non-existent-uuid 2. Body: {...},Returns 404 Not Found,Auction not found error,,New,
3.3 Auction Management,TC-3.3.5-01,Verify delete scheduled auction,Scheduled auction with no bids,1. Send DELETE /auctions/:id,Returns 200 OK or 204 No Content,Auction removed from prisma.auction,,New,
3.3 Auction Management,TC-3.3.5-02,Fail delete auction with bids,Auction has AuctionBid records,1. Send DELETE /auctions/:id,Returns 400 Bad Request,Cannot delete auction with bids. Referential integrity,,New,
3.3 Auction Management,TC-3.3.5-03,Fail delete auction with participants,Auction has AuctionParticipant records,1. Send DELETE /auctions/:id,Returns 400 Bad Request,Cannot delete auction with registered participants,,New,
3.3 Auction Management,TC-3.3.5-04,Fail delete live auction,Auction with status: live,1. Send DELETE /auctions/:id,Returns 400 Bad Request,Cannot delete active auction,,New,
3.3 Auction Management,TC-3.3.5-05,Fail delete non-existent auction,UUID doesn't exist,1. Send DELETE /auctions/non-existent-uuid,Returns 404 Not Found,Auction not found error,,New,
3.3 Auction Management,TC-3.3.6-01,Verify update auction relations,Auction and related auctions exist,1. Send PATCH /auctions/:id/relations 2. Body: {relatedIds: ['uuid1'; 'uuid2']},Returns 200 OK,AuctionRelation records created,,New,
3.3 Auction Management,TC-3.3.6-02,Verify replace auction relations,Auction has existing relations,1. Send PATCH /auctions/:id/relations 2. Body: {relatedIds: ['newUuid']},Returns 200 OK,Old relations removed; new ones created,,New,
3.3 Auction Management,TC-3.3.6-03,Verify clear all auction relations,Auction has relations,1. Send PATCH /auctions/:id/relations 2. Body: {relatedIds: []},Returns 200 OK,All AuctionRelation records removed,,New,
3.3 Auction Management,TC-3.3.6-04,Fail relation with self,Auction exists,1. Send PATCH /auctions/:id/relations 2. Body: {relatedIds: [':id']},Returns 400 Bad Request,Cannot relate auction to itself,,New,
3.3 Auction Management,TC-3.3.6-05,Fail relation with non-existent auction,Related UUID doesn't exist,1. Send PATCH /auctions/:id/relations 2. Body: {relatedIds: ['nonexistent']},Returns 400 or 404,Related auction not found,,New,
3.4 Registration to Bid,TC-3.4.1-01,Verify bidder registers for auction successfully,Bidder authenticated; Auction exists with depositEndAt > now(),1. Send POST /register-to-bid 2. Body: {auctionId: 'uuid'},Returns 201 Created,AuctionParticipant created with registeredAt and submittedAt,,New,
3.4 Registration to Bid,TC-3.4.1-02,Verify registration with document upload,Bidder authenticated,1. Send POST /register-to-bid (multipart) 2. auctionId + documents[] files,Returns 201 Created,Documents stored (Cloudinary) and linked to participant,,New,FileFieldsInterceptor
3.4 Registration to Bid,TC-3.4.1-03,Verify registration with media upload,Bidder authenticated,1. Send POST /register-to-bid (multipart) 2. auctionId + media[] files,Returns 201 Created,Media files stored and linked,,New,
3.4 Registration to Bid,TC-3.4.1-04,Fail registration after deposit deadline,Auction.depositEndAt < now(),1. Send POST /register-to-bid 2. Body: {auctionId: 'expired-uuid'},Returns 400 Bad Request,Error 'Registration period closed',,New,
3.4 Registration to Bid,TC-3.4.1-05,Fail duplicate registration,AuctionParticipant exists for same user+auction,1. Send POST /register-to-bid 2. Body: {auctionId: 'already-registered'},Returns 409 Conflict,Error 'Already registered'. Unique constraint,,New,
3.4 Registration to Bid,TC-3.4.1-06,Fail registration for non-existent auction,Auction UUID doesn't exist,1. Send POST /register-to-bid 2. Body: {auctionId: 'nonexistent'},Returns 404 Not Found,Auction not found error,,New,
3.4 Registration to Bid,TC-3.4.1-07,Fail registration without authentication,No token,1. Send POST /register-to-bid 2. Body: {auctionId: 'uuid'},Returns 401 Unauthorized,AuthGuard blocks,,New,
3.4 Registration to Bid,TC-3.4.1-08,Fail registration with banned user,User.isBanned: true,1. Send POST /register-to-bid with banned user token,Returns 403 Forbidden,Banned users cannot register,,New,
3.4 Registration to Bid,TC-3.4.1-09,Fail registration with unverified user,User.isVerified: false,1. Send POST /register-to-bid with unverified user,Returns 403 Forbidden,Only verified users can register,,New,
3.4 Registration to Bid,TC-3.4.1-10,Fail registration for inactive auction,Auction.isActive: false,1. Send POST /register-to-bid 2. Body: {auctionId: 'inactive-uuid'},Returns 400 Bad Request,Cannot register for inactive auction,,New,
3.4 Registration to Bid,TC-3.4.1-11,Verify registration with invalid auctionId format,No preconditions,1. Send POST /register-to-bid 2. Body: {auctionId: 'not-uuid'},Returns 400 Bad Request,Validation error from @IsUUID(),,New,
3.4 Registration to Bid,TC-3.4.1-12,Verify registration with missing auctionId,No preconditions,1. Send POST /register-to-bid 2. Body: {},Returns 400 Bad Request,Validation error - auctionId required,,New,@IsNotEmpty()
3.4 Registration to Bid,TC-3.4.1-13,Fail file upload exceeds 10MB limit,Bidder authenticated,1. Send POST /register-to-bid 2. Upload 15MB file,Returns 413 Payload Too Large,File size limit enforced (10MB per file),,New,FileFieldsInterceptor limits
3.4 Registration to Bid,TC-3.4.1-14,Fail upload more than 10 documents,Bidder authenticated,1. Send POST /register-to-bid 2. Upload 11 document files,Returns 400 Bad Request,Max 10 documents allowed,,New,maxCount: 10
3.4 Registration to Bid,TC-3.4.1-15,Verify resubmission after rejection,Previous registration rejected (rejectedAt set),1. Send POST /register-to-bid 2. Same auctionId,Returns 201 Created,New registration allowed after rejection,,New,
3.4 Registration to Bid,TC-3.4.1-16,Verify reapply after withdrawal,Previous registration withdrawn (withdrawnAt set),1. Send POST /register-to-bid 2. Same auctionId,Returns 201 Created,Reapplication allowed after withdrawal,,New,
3.4 Registration to Bid,TC-3.4.2-01,Verify withdraw registration before auction,AuctionParticipant exists; auctionStartAt > now(); checkedInAt null,1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'uuid'; withdrawalReason: 'Changed mind'},Returns 200 OK,withdrawnAt set; withdrawalReason stored,,New,
3.4 Registration to Bid,TC-3.4.2-02,Verify withdraw without reason (optional),AuctionParticipant exists,1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'uuid'},Returns 200 OK,withdrawnAt set; withdrawalReason null,,New,@IsOptional()
3.4 Registration to Bid,TC-3.4.2-03,Fail withdraw after check-in,checkedInAt is set,1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,Cannot withdraw after check-in,,New,
3.4 Registration to Bid,TC-3.4.2-04,Fail withdraw after auction started,auctionStartAt < now(),1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'live-uuid'},Returns 403 Forbidden,Cannot withdraw during live auction,,New,
3.4 Registration to Bid,TC-3.4.2-05,Fail withdraw already withdrawn registration,withdrawnAt already set,1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'withdrawn-uuid'},Returns 409 Conflict,Already withdrawn,,New,
3.4 Registration to Bid,TC-3.4.2-06,Fail withdraw non-existent registration,No AuctionParticipant for user+auction,1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'uuid'},Returns 404 Not Found,Registration not found,,New,
3.4 Registration to Bid,TC-3.4.2-07,Verify withdraw reason max length 500,AuctionParticipant exists,1. Send POST /register-to-bid/withdraw 2. Body: {auctionId: 'uuid'; withdrawalReason: 501 chars},Returns 400 Bad Request,Validation error from @MaxLength(500),,New,
3.4 Registration to Bid,TC-3.4.3-01,Verify check-in within valid window,confirmedAt set; time within check-in window,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 200 OK,checkedInAt set to now(),,New,
3.4 Registration to Bid,TC-3.4.3-02,Fail check-in before window opens,Time before auctionStartAt - validCheckInBeforeStartMinutes,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,Check-in window not yet open,,New,
3.4 Registration to Bid,TC-3.4.3-03,Fail check-in after window closes,Time after auctionStartAt + validCheckInAfterStartMinutes,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,Check-in window closed,,New,
3.4 Registration to Bid,TC-3.4.3-04,Fail check-in without confirmation,confirmedAt is null,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,Registration not confirmed,,New,
3.4 Registration to Bid,TC-3.4.3-05,Fail duplicate check-in,checkedInAt already set,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 409 Conflict,Already checked in,,New,
3.4 Registration to Bid,TC-3.4.3-06,Fail check-in for withdrawn registration,withdrawnAt is set,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,Cannot check-in withdrawn registration,,New,
3.4 Registration to Bid,TC-3.4.3-07,Fail check-in for rejected registration,rejectedAt is set,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,Cannot check-in rejected registration,,New,
3.4 Registration to Bid,TC-3.4.3-08,Fail check-in for non-existent registration,No AuctionParticipant,1. Send POST /register-to-bid/check-in 2. Body: {auctionId: 'uuid'},Returns 404 Not Found,Registration not found,,New,
3.4 Registration to Bid,TC-3.4.4-01,Verify submit deposit after document verification,documentsVerifiedAt set,1. Send POST /register-to-bid/submit-deposit 2. Body: {registrationId; auctionId; amount: 50000000},Returns 200 OK,Stripe session created; Payment record in prisma.payment,,New,
3.4 Registration to Bid,TC-3.4.4-02,Fail submit deposit without document verification,documentsVerifiedAt null,1. Send POST /register-to-bid/submit-deposit 2. Body: {...},Returns 400 Bad Request,Documents not verified,,New,
3.4 Registration to Bid,TC-3.4.4-03,Fail submit deposit with wrong amount,Amount doesn't match auction.depositAmountRequired,1. Send POST /register-to-bid/submit-deposit 2. Body: {amount: 1000},Returns 400 Bad Request,Incorrect deposit amount,,New,
3.4 Registration to Bid,TC-3.4.4-04,Fail submit deposit for already paid,depositPaidAt already set,1. Send POST /register-to-bid/submit-deposit 2. Body: {...},Returns 409 Conflict,Deposit already paid,,New,
3.4 Registration to Bid,TC-3.4.4-05,Fail submit deposit with negative amount,No preconditions,1. Send POST /register-to-bid/submit-deposit 2. Body: {amount: -50000000},Returns 400 Bad Request,Validation error - amount must be positive,,New,@IsPositive()
3.4 Registration to Bid,TC-3.4.4-06,Fail submit deposit with zero amount,No preconditions,1. Send POST /register-to-bid/submit-deposit 2. Body: {amount: 0},Returns 400 Bad Request,Validation error - amount must be positive,,New,
3.4 Registration to Bid,TC-3.4.4-07,Fail submit deposit with non-numeric amount,No preconditions,1. Send POST /register-to-bid/submit-deposit 2. Body: {amount: 'fifty million'},Returns 400 Bad Request,Validation error - amount must be number,,New,@IsNumber()
3.4 Registration to Bid,TC-3.4.4-08,Fail submit deposit with mismatched auctionId,registrationId for different auction,1. Send POST /register-to-bid/submit-deposit 2. Body: {registrationId: 'a'; auctionId: 'b'},Returns 400 Bad Request,Registration doesn't match auction,,New,
3.4 Registration to Bid,TC-3.4.5-01,Verify deposit payment verification,Stripe session completed,1. Send POST /register-to-bid/verify-deposit-payment 2. Body: {sessionId; registrationId},Returns 200 OK,depositPaidAt and depositAmount set in prisma.auctionParticipant,,New,
3.4 Registration to Bid,TC-3.4.5-02,Fail verify incomplete payment,Stripe session not completed,1. Send POST /register-to-bid/verify-deposit-payment 2. Body: {...},Returns 400 Bad Request,Payment not completed,,New,
3.4 Registration to Bid,TC-3.4.5-03,Fail verify with invalid sessionId,Session doesn't exist,1. Send POST /register-to-bid/verify-deposit-payment 2. Body: {sessionId: 'invalid'},Returns 404 Not Found,Session not found,,New,
3.4 Registration to Bid,TC-3.4.5-04,Fail verify with mismatched registrationId,sessionId for different registration,1. Send POST /register-to-bid/verify-deposit-payment 2. Body: {...},Returns 400 Bad Request,Session doesn't match registration,,New,
3.4 Registration to Bid,TC-3.4.6-01,Verify bidder views own registrations,User has AuctionParticipant records,1. Send GET /register-to-bid/users/:userId/registrations,Returns 200 OK,List of own registrations,,New,
3.4 Registration to Bid,TC-3.4.6-02,Fail view other user's registrations as bidder,Bidder tries to access otherUserId,1. Send GET /register-to-bid/users/:otherUserId/registrations,Returns 403 Forbidden,'You can only view your own registrations',,New,
3.4 Registration to Bid,TC-3.4.6-03,Verify Admin can view any user's registrations,Admin authenticated,1. Send GET /register-to-bid/users/:anyUserId/registrations,Returns 200 OK,Admin bypass access control,,New,Role check in controller
3.4 Registration to Bid,TC-3.4.6-04,Verify Auctioneer can view any user's registrations,Auctioneer authenticated,1. Send GET /register-to-bid/users/:anyUserId/registrations,Returns 200 OK,Auctioneer bypass access control,,New,
3.4 Registration to Bid,TC-3.4.6-05,Verify empty list for user with no registrations,User exists but no AuctionParticipant,1. Send GET /register-to-bid/users/:userId/registrations,Returns 200 OK with empty array,Empty array returned; no error,,New,
3.4 Registration to Bid,TC-3.4.7-01,Verify get registration for specific auction,AuctionParticipant exists for user+auction,1. Send GET /register-to-bid/auctions/:auctionId/registration,Returns 200 OK with registration details,Single AuctionParticipantResponseDto,,New,
3.4 Registration to Bid,TC-3.4.7-02,Return 404 for non-registered auction,No AuctionParticipant for user+auction,1. Send GET /register-to-bid/auctions/:auctionId/registration,Returns 404 Not Found,Registration not found,,New,
3.4 Registration to Bid,TC-3.4.7-03,Fail without authentication,No token,1. Send GET /register-to-bid/auctions/:auctionId/registration,Returns 401 Unauthorized,Auth required,,New,
3.4 Registration to Bid,TC-3.4.8-01,Verify Admin lists all registrations with pagination,Admin authenticated; Multiple registrations exist,1. Send GET /register-to-bid/admin/registrations?page=1&limit=10,Returns 200 OK,PaginatedRegistrationsResponseDto,,New,
3.4 Registration to Bid,TC-3.4.8-02,Verify list registrations filtered by status,Admin authenticated,1. Send GET /register-to-bid/admin/registrations?status=confirmed,Returns 200 OK,Only confirmed registrations,,New,ListRegistrationsQueryDto
3.4 Registration to Bid,TC-3.4.8-03,Verify list registrations filtered by auctionId,Admin authenticated,1. Send GET /register-to-bid/admin/registrations?auctionId=uuid,Returns 200 OK,Only registrations for specified auction,,New,
3.4 Registration to Bid,TC-3.4.8-04,Fail Bidder accessing admin registrations,Bidder authenticated,1. Send GET /register-to-bid/admin/registrations,Returns 403 Forbidden,RolesGuard blocks,,New,
3.4 Registration to Bid,TC-3.4.8-05,Verify Auctioneer can list registrations,Auctioneer authenticated,1. Send GET /register-to-bid/admin/registrations,Returns 200 OK,Auctioneer has access,,New,@Roles includes AUCTIONEER
3.4 Registration to Bid,TC-3.4.9-01,Verify Admin approves registration,Admin authenticated; AuctionParticipant pending,1. Send POST /register-to-bid/admin/approve 2. Body: {registrationId: 'uuid'},Returns 200 OK,confirmedAt set in prisma.auctionParticipant,,New,
3.4 Registration to Bid,TC-3.4.9-02,Fail approve already approved registration,confirmedAt already set,1. Send POST /register-to-bid/admin/approve 2. Body: {...},Returns 409 Conflict,Already approved,,New,
3.4 Registration to Bid,TC-3.4.9-03,Fail approve withdrawn registration,withdrawnAt is set,1. Send POST /register-to-bid/admin/approve 2. Body: {...},Returns 400 Bad Request,Cannot approve withdrawn registration,,New,
3.4 Registration to Bid,TC-3.4.9-04,Fail approve rejected registration,rejectedAt is set,1. Send POST /register-to-bid/admin/approve 2. Body: {...},Returns 400 Bad Request,Cannot approve rejected registration,,New,
3.4 Registration to Bid,TC-3.4.9-05,Fail approve non-existent registration,UUID doesn't exist,1. Send POST /register-to-bid/admin/approve 2. Body: {registrationId: 'nonexistent'},Returns 404 Not Found,Registration not found,,New,
3.4 Registration to Bid,TC-3.4.10-01,Verify Admin rejects registration with reason,Admin authenticated; AuctionParticipant pending,1. Send POST /register-to-bid/admin/reject 2. Body: {registrationId; rejectionReason: 'Invalid documents'},Returns 200 OK,rejectedAt and rejectedReason set,,New,
3.4 Registration to Bid,TC-3.4.10-02,Verify reject without reason (optional),Admin authenticated,1. Send POST /register-to-bid/admin/reject 2. Body: {registrationId: 'uuid'},Returns 200 OK,rejectedAt set; rejectionReason null,,New,@IsOptional()
3.4 Registration to Bid,TC-3.4.10-03,Fail reject already confirmed registration,confirmedAt is set,1. Send POST /register-to-bid/admin/reject 2. Body: {...},Returns 409 Conflict,Cannot reject confirmed registration,,New,
3.4 Registration to Bid,TC-3.4.10-04,Fail reject non-existent registration,UUID doesn't exist,1. Send POST /register-to-bid/admin/reject 2. Body: {...},Returns 404 Not Found,Registration not found,,New,
3.4 Registration to Bid,TC-3.4.11-01,Verify Admin verifies documents Tier 1,Admin authenticated; documents submitted,1. Send POST /register-to-bid/admin/verify-documents 2. Body: {registrationId: 'uuid'},Returns 200 OK,documentsVerifiedAt and documentsVerifiedBy set,,New,
3.4 Registration to Bid,TC-3.4.11-02,Fail verify documents without submission,documents is null/empty,1. Send POST /register-to-bid/admin/verify-documents 2. Body: {...},Returns 400 Bad Request,No documents to verify,,New,
3.4 Registration to Bid,TC-3.4.11-03,Fail verify already verified documents,documentsVerifiedAt already set,1. Send POST /register-to-bid/admin/verify-documents 2. Body: {...},Returns 409 Conflict,Documents already verified,,New,
3.4 Registration to Bid,TC-3.4.12-01,Verify Admin rejects documents with reason,Admin authenticated; documents submitted,1. Send POST /register-to-bid/admin/reject-documents 2. Body: {registrationId; reason: 'Unclear'},Returns 200 OK,documentsRejectedAt and documentsRejectedReason set,,New,
3.4 Registration to Bid,TC-3.4.12-02,Fail reject documents without reason,Admin authenticated,1. Send POST /register-to-bid/admin/reject-documents 2. Body: {registrationId: 'uuid'},Returns 400 Bad Request,reason is @IsNotEmpty(),,New,
3.4 Registration to Bid,TC-3.4.12-03,Fail reject documents that don't exist,documents is null,1. Send POST /register-to-bid/admin/reject-documents 2. Body: {...},Returns 400 Bad Request,No documents to reject,,New,
3.4 Registration to Bid,TC-3.4.13-01,Verify Admin final approval Tier 2,documentsVerifiedAt and depositPaidAt set,1. Send POST /register-to-bid/admin/final-approval 2. Body: {registrationId: 'uuid'},Returns 200 OK,confirmedAt and confirmedBy set,,New,
3.4 Registration to Bid,TC-3.4.13-02,Fail final approval without document verification,documentsVerifiedAt null,1. Send POST /register-to-bid/admin/final-approval 2. Body: {...},Returns 400 Bad Request,Documents not verified,,New,
3.4 Registration to Bid,TC-3.4.13-03,Fail final approval without deposit payment,depositPaidAt null,1. Send POST /register-to-bid/admin/final-approval 2. Body: {...},Returns 400 Bad Request,Deposit not paid,,New,
3.4 Registration to Bid,TC-3.4.13-04,Fail final approval already confirmed,confirmedAt already set,1. Send POST /register-to-bid/admin/final-approval 2. Body: {...},Returns 409 Conflict,Already confirmed,,New,
3.4 Registration to Bid,TC-3.4.14-01,Verify eligible bidder requests refund after withdrawal,User has withdrawnAt before saleEndAt; depositPaidAt set,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId; reason: 'Changed mind'},Returns 200 OK,refundStatus: 'pending'; refundRequestedAt set,,New,RefundService.requestRefund
3.4 Registration to Bid,TC-3.4.14-02,Fail request refund for disqualified participant,isDisqualified: true,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 400 Bad Request,Error: Not eligible for refund - disqualified,,New,Deposit forfeited
3.4 Registration to Bid,TC-3.4.14-03,Fail request refund for auction winner,User has AuctionBid with isWinningBid: true,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 400 Bad Request,Winner must complete purchase - deposit applied to winning amount,,New,
3.4 Registration to Bid,TC-3.4.14-04,Fail request refund after withdrawal deadline,withdrawnAt > auction.saleEndAt,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 400 Bad Request,Withdrew after deadline - deposit forfeited,,New,
3.4 Registration to Bid,TC-3.4.14-05,Fail request refund without deposit paid,depositPaidAt: null,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 400 Bad Request,Not eligible - no deposit paid,,New,
3.4 Registration to Bid,TC-3.4.14-06,Fail request refund already requested,refundStatus: 'pending',1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 409 Conflict,Refund already requested,,New,
3.4 Registration to Bid,TC-3.4.14-07,Fail request refund already processed,refundStatus: 'processed',1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 409 Conflict,Refund already processed,,New,
3.4 Registration to Bid,TC-3.4.14-08,Fail request refund for check-in failure,confirmedAt set; checkedInAt null; auctionEndAt passed,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId},Returns 400 Bad Request,Check-in failure - deposit forfeited,,New,
3.4 Registration to Bid,TC-3.4.14-09,Fail request refund without authentication,No token,1. Send POST /register-to-bid/request-refund 2. Body: {...},Returns 401 Unauthorized,Auth required,,New,
3.4 Registration to Bid,TC-3.4.14-10,Fail request refund for non-existent registration,No AuctionParticipant,1. Send POST /register-to-bid/request-refund 2. Body: {auctionId: 'uuid'},Returns 404 Not Found,Registration not found,,New,
3.4 Registration to Bid,TC-3.4.15-01,Verify Admin lists refund requests with pagination,Admin authenticated; Multiple refund requests,1. Send GET /register-to-bid/admin/refunds?page=1&limit=10,Returns 200 OK,Paginated RefundDetailDto list,,New,RefundController
3.4 Registration to Bid,TC-3.4.15-02,Verify Admin filters refunds by status,Admin authenticated,1. Send GET /register-to-bid/admin/refunds?status=pending,Returns 200 OK,Only pending refunds,,New,
3.4 Registration to Bid,TC-3.4.15-03,Verify Admin filters refunds by auctionId,Admin authenticated,1. Send GET /register-to-bid/admin/refunds?auctionId=uuid,Returns 200 OK,Only refunds for specified auction,,New,
3.4 Registration to Bid,TC-3.4.15-04,Verify Admin gets refund detail,Admin authenticated; Refund exists,1. Send GET /register-to-bid/admin/refunds/:participantId,Returns 200 OK,RefundDetailDto with eligibility info,,New,
3.4 Registration to Bid,TC-3.4.15-05,Verify Admin approves pending refund,Admin authenticated; refundStatus: 'pending',1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'approve'},Returns 200 OK,refundStatus: 'approved',,New,User notified via email
3.4 Registration to Bid,TC-3.4.15-06,Fail approve non-pending refund,refundStatus: 'approved',1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'approve'},Returns 400 Bad Request,Can only approve pending refund requests,,New,
3.4 Registration to Bid,TC-3.4.15-07,Verify Admin rejects pending refund with reason,Admin authenticated; refundStatus: 'pending',1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'reject'; reason: 'Violated terms'},Returns 200 OK,refundStatus: 'rejected',,New,User notified
3.4 Registration to Bid,TC-3.4.15-08,Fail reject refund without reason,Admin authenticated,1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'reject'},Returns 400 Bad Request,Reason is required for rejection,,New,
3.4 Registration to Bid,TC-3.4.15-09,Verify Admin processes approved refund,Admin authenticated; refundStatus: 'approved',1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'process'},Returns 200 OK,refundStatus: 'processed'; refundProcessedAt set,,New,PaymentProcessingService.refundDeposit
3.4 Registration to Bid,TC-3.4.15-10,Fail process non-approved refund,refundStatus: 'pending',1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'process'},Returns 400 Bad Request,Can only process approved refunds,,New,
3.4 Registration to Bid,TC-3.4.15-11,Fail process refund for disqualified participant,isDisqualified: true; refundStatus: 'approved',1. Send PATCH /register-to-bid/admin/refunds/:participantId 2. Body: {action: 'process'},Returns 403 Forbidden,Cannot process refund for disqualified participant,,New,
3.4 Registration to Bid,TC-3.4.15-12,Verify Admin batch processes refunds for auction,Admin authenticated; Auction ended,1. Send POST /register-to-bid/admin/refunds/batch/:auctionId,Returns 200 OK,{processed: N; skipped: M; failed: F},,New,Winners and disqualified skipped
3.4 Registration to Bid,TC-3.4.15-13,Verify batch skips winners and disqualified,Admin authenticated; Mixed participants,1. Send POST /register-to-bid/admin/refunds/batch/:auctionId,Returns 200 OK,Winners and isDisqualified: true in skipped count,,New,
3.4 Registration to Bid,TC-3.4.15-14,Fail Bidder accessing admin refunds,Bidder authenticated,1. Send GET /register-to-bid/admin/refunds,Returns 403 Forbidden,RolesGuard blocks,,New,
3.4 Registration to Bid,TC-3.4.15-15,Verify Auctioneer can access refund admin endpoints,Auctioneer authenticated,1. Send GET /register-to-bid/admin/refunds,Returns 200 OK,Auctioneer has access,,New,
3.4 Registration to Bid,TC-3.4.15-16,Verify disqualify participant sets forfeited status,Admin authenticated,1. Call disqualifyParticipant(id; 'PAYMENT_DEFAULT'; adminId),Participant updated,isDisqualified: true; refundStatus: 'forfeited',,New,RefundService.disqualifyParticipant
3.4 Registration to Bid,TC-3.4.15-17,Fail disqualify already disqualified,isDisqualified: true,1. Call disqualifyParticipant(id; 'FALSE_INFORMATION'; adminId),Throws ConflictException,Participant already disqualified,,New,
3.5 Bidding System,TC-3.5.1-01,Verify bidder places first bid at starting price,Auction live; AuctionParticipant checkedInAt set; startingPrice: 1000000000,1. Send POST /manual-bid 2. Body: {auctionId; amount: 1000000000},Returns 201 Created,AuctionBid created with bidType: BidType.manual; isWinningBid: true,,New,
3.5 Bidding System,TC-3.5.1-02,Verify bidder places valid increment bid,Existing winning bid: 1000000000; bidIncrement: 50000000,1. Send POST /manual-bid 2. Body: {auctionId; amount: 1050000000},Returns 201 Created,New winning bid; previous bid isWinningBid: false,,New,
3.5 Bidding System,TC-3.5.1-03,Verify bidder places higher increment bid,Existing winning bid: 1000000000; bidIncrement: 50000000,1. Send POST /manual-bid 2. Body: {auctionId; amount: 1200000000},Returns 201 Created,Bid at 200M above current accepted,,New,
3.5 Bidding System,TC-3.5.1-04,Fail bid with insufficient increment,Current bid: 1000000000; bidIncrement: 50000000,1. Send POST /manual-bid 2. Body: {auctionId; amount: 1010000000},Returns 400 Bad Request,Error: bid must be at least currentBid + bidIncrement,,New,
3.5 Bidding System,TC-3.5.1-05,Fail bid exactly 1 VND below required,Current: 1000000000; increment: 50000000,1. Send POST /manual-bid 2. Body: {amount: 1049999999},Returns 400 Bad Request,Boundary test - exactly 1 VND short,,New,
3.5 Bidding System,TC-3.5.1-06,Fail bid below starting price first bid,No bids; startingPrice: 1000000000,1. Send POST /manual-bid 2. Body: {amount: 500000000},Returns 400 Bad Request,Bid must be >= startingPrice,,New,
3.5 Bidding System,TC-3.5.1-07,Fail bid without check-in,checkedInAt null,1. Send POST /manual-bid 2. Body: {auctionId; amount: 1000000000},Returns 403 Forbidden,User not checked in,,New,
3.5 Bidding System,TC-3.5.1-08,Fail bid on scheduled auction,Auction status: scheduled (not live),1. Send POST /manual-bid 2. Body: {...},Returns 400 Bad Request,Auction not live,,New,
3.5 Bidding System,TC-3.5.1-09,Fail bid on completed auction,Auction status: success,1. Send POST /manual-bid 2. Body: {...},Returns 400 Bad Request,Auction already ended,,New,
3.5 Bidding System,TC-3.5.1-10,Fail bid on cancelled auction,Auction status: cancelled,1. Send POST /manual-bid 2. Body: {...},Returns 400 Bad Request,Auction cancelled,,New,
3.5 Bidding System,TC-3.5.1-11,Fail bid on failed auction,Auction status: failed,1. Send POST /manual-bid 2. Body: {...},Returns 400 Bad Request,Auction failed,,New,
3.5 Bidding System,TC-3.5.1-12,Fail bid after auctionEndAt,now() > auctionEndAt,1. Send POST /manual-bid 2. Body: {...},Returns 400 Bad Request,Auction time expired,,New,
3.5 Bidding System,TC-3.5.1-13,Fail bid before auctionStartAt,now() < auctionStartAt,1. Send POST /manual-bid 2. Body: {...},Returns 400 Bad Request,Auction not started,,New,
3.5 Bidding System,TC-3.5.1-14,Fail bid without authentication,No token,1. Send POST /manual-bid 2. Body: {...},Returns 401 Unauthorized,Auth required,,New,
3.5 Bidding System,TC-3.5.1-15,Fail bid as Admin role,Admin authenticated,1. Send POST /manual-bid 2. Body: {...},Returns 403 Forbidden,@Roles(UserRole.BIDDER) only,,New,
3.5 Bidding System,TC-3.5.1-16,Fail bid with non-existent auctionId,UUID doesn't exist,1. Send POST /manual-bid 2. Body: {auctionId: 'nonexistent'},Returns 404 Not Found,Auction not found,,New,
3.5 Bidding System,TC-3.5.1-17,Fail bid with invalid auctionId format,Invalid UUID,1. Send POST /manual-bid 2. Body: {auctionId: 'not-uuid'},Returns 400 Bad Request,Validation error from @IsUUID(),,New,
3.5 Bidding System,TC-3.5.1-18,Fail bid with missing amount,No amount field,1. Send POST /manual-bid 2. Body: {auctionId: 'uuid'},Returns 400 Bad Request,amount required,,New,
3.5 Bidding System,TC-3.5.1-19,Fail bid with negative amount,No preconditions,1. Send POST /manual-bid 2. Body: {amount: -1000000},Returns 400 Bad Request,@Min(0.01) validation,,New,
3.5 Bidding System,TC-3.5.1-20,Fail bid with zero amount,No preconditions,1. Send POST /manual-bid 2. Body: {amount: 0},Returns 400 Bad Request,@Min(0.01) validation,,New,
3.5 Bidding System,TC-3.5.1-21,Fail bid with non-numeric amount,No preconditions,1. Send POST /manual-bid 2. Body: {amount: 'one million'},Returns 400 Bad Request,@IsNumber() validation,,New,
3.5 Bidding System,TC-3.5.1-22,Verify bid with decimal amount allowed,Live auction with bids,1. Send POST /manual-bid 2. Body: {amount: 1050000000.50},Returns 201 Created,maxDecimalPlaces: 2 in DTO,,New,
3.5 Bidding System,TC-3.5.1-23,Fail bid with more than 2 decimal places,No preconditions,1. Send POST /manual-bid 2. Body: {amount: 1050000000.123},Returns 400 Bad Request,@IsNumber({maxDecimalPlaces: 2}),,New,
3.5 Bidding System,TC-3.5.1-24,Verify bid by same user outbidding self,User's previous bid is winning,1. Send POST /manual-bid 2. Body: {amount: currentBid + increment},Returns 201 Created,User can outbid themselves,,New,
3.5 Bidding System,TC-3.5.1-25,Fail bid by user not registered for auction,No AuctionParticipant for user,1. Send POST /manual-bid 2. Body: {...},Returns 403 Forbidden,User not registered for this auction,,New,
3.5 Bidding System,TC-3.5.1-26,Fail bid by withdrawn participant,AuctionParticipant.withdrawnAt set,1. Send POST /manual-bid 2. Body: {...},Returns 403 Forbidden,Registration withdrawn,,New,
3.5 Bidding System,TC-3.5.1-27,Fail bid by rejected participant,AuctionParticipant.rejectedAt set,1. Send POST /manual-bid 2. Body: {...},Returns 403 Forbidden,Registration rejected,,New,
3.5 Bidding System,TC-3.5.1-28,Fail bid by banned user,User.isBanned: true,1. Send POST /manual-bid 2. Body: {...},Returns 403 Forbidden,User is banned,,New,
3.5 Bidding System,TC-3.5.1-29,Verify bid records bidAt timestamp,Live auction,1. Send POST /manual-bid 2. Body: {...},Returns 201 Created,AuctionBid.bidAt set to server time,,New,
3.5 Bidding System,TC-3.5.1-30,Verify bid stores participantId,Live auction with valid participant,1. Send POST /manual-bid 2. Body: {...},Returns 201 Created,AuctionBid.participantId links to AuctionParticipant,,New,
3.5 Bidding System,TC-3.5.2-01,Verify Auctioneer denies bid with reason,Auctioneer authenticated; AuctionBid exists,1. Send POST /manual-bid/deny 2. Body: {bidId; reason: 'Suspicious activity'},Returns 200 OK,isDenied: true; denialReason; deniedBy; deniedAt set,,New,
3.5 Bidding System,TC-3.5.2-02,Verify Admin denies bid,Admin authenticated,1. Send POST /manual-bid/deny 2. Body: {bidId; reason: 'Fraud detected'},Returns 200 OK,Bid denied by admin,,New,
3.5 Bidding System,TC-3.5.2-03,Verify Super Admin denies bid,Super Admin authenticated,1. Send POST /manual-bid/deny 2. Body: {...},Returns 200 OK,Bid denied by super admin,,New,
3.5 Bidding System,TC-3.5.2-04,Verify deny without reason (optional),Auctioneer authenticated,1. Send POST /manual-bid/deny 2. Body: {bidId: 'uuid'},Returns 200 OK,denialReason null; bid still marked denied,,New,@IsOptional()
3.5 Bidding System,TC-3.5.2-05,Fail Bidder attempting to deny bid,Bidder authenticated,1. Send POST /manual-bid/deny 2. Body: {...},Returns 403 Forbidden,Bidders cannot deny bids,,New,
3.5 Bidding System,TC-3.5.2-06,Fail deny non-existent bid,bidId doesn't exist,1. Send POST /manual-bid/deny 2. Body: {bidId: 'nonexistent'},Returns 404 Not Found,Bid not found,,New,
3.5 Bidding System,TC-3.5.2-07,Fail deny already denied bid,isDenied: true,1. Send POST /manual-bid/deny 2. Body: {bidId: 'already-denied'},Returns 409 Conflict,Bid already denied,,New,
3.5 Bidding System,TC-3.5.2-08,Verify deny winning bid promotes next bid,Denied bid was winning,1. Send POST /manual-bid/deny 2. Body: {bidId: 'winning-bid'},Returns 200 OK,Next highest valid bid becomes isWinningBid: true,,New,Business logic
3.5 Bidding System,TC-3.5.2-09,Fail deny with invalid bidId format,Invalid UUID,1. Send POST /manual-bid/deny 2. Body: {bidId: 'not-uuid'},Returns 400 Bad Request,Validation error @IsUUID(),,New,
3.5 Bidding System,TC-3.5.2-10,Verify deny reason max length 255,Auctioneer authenticated,1. Send POST /manual-bid/deny 2. Body: {bidId; reason: 256 chars},Returns 400 Bad Request,@MaxLength(255) validation,,New,
3.5 Bidding System,TC-3.5.3-01,Verify WebSocket join auction room,User connects to WebSocket,1. Emit 'joinAuction' event with {auctionId: 'uuid'},Receives 'joined' event,User added to Socket.IO room,,New,BiddingGateway
3.5 Bidding System,TC-3.5.3-02,Verify auction state received on join,Auction exists with bids,1. Join auction room,Receives 'auctionState' event,currentBid; winningBidder; participantCount; timeRemaining,,New,
3.5 Bidding System,TC-3.5.3-03,Fail join non-existent auction room,Auction doesn't exist,1. Emit 'joinAuction' with invalid auctionId,Receives error or no state data,Handle gracefully,,New,
3.5 Bidding System,TC-3.5.3-04,Verify leave auction room,User in auction room,1. Emit 'leaveAuction' event,User removed from room,No more events received for this auction,,New,
3.5 Bidding System,TC-3.5.4-01,Verify real-time bid notification,User in auction room,1. Another user places bid 2. Listen for 'newBid' event,Receives 'newBid' event,emitNewBid broadcasts to room,,New,
3.5 Bidding System,TC-3.5.4-02,Verify bid denied notification,User in room; bid denied,1. Listen for 'bidDenied' event,Receives 'bidDenied' event,emitBidDenied broadcasts,,New,
3.5 Bidding System,TC-3.5.4-03,Verify auction update notification,Status changes,1. Listen for 'auctionUpdate' event,Receives status update,emitAuctionUpdate broadcasts,,New,
3.5 Bidding System,TC-3.5.5-01,Verify time updates received,User in live auction room,1. Listen for 'timeUpdate' event,Receives periodic updates,Every ~1 second during live auction,,New,
3.5 Bidding System,TC-3.5.5-02,Verify time stops when auction ends,Auction ends,1. Listen for 'timeUpdate',Stops receiving time updates,Timer cleared when auction completes,,New,
3.5 Bidding System,TC-3.5.6-01,Verify multiple users in same room,3 users join same auction,1. All 3 emit 'joinAuction',All receive state updates,Room can hold multiple connections,,New,
3.5 Bidding System,TC-3.5.6-02,Verify user only receives events for joined rooms,User in room A only,1. User B places bid in room B,User in A receives nothing,Room isolation works correctly,,New,
3.6 Auction Finalization,TC-3.6.1-01,Verify Admin evaluates auction with winner,Auction ended with bids,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 200 OK,currentStatus; recommendedStatus: success; hasWinner: true,,New,
3.6 Auction Finalization,TC-3.6.1-02,Verify evaluation with no bids,Auction ended; no AuctionBid,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 200 OK,hasWinner: false; recommendedStatus: failed,,New,
3.6 Auction Finalization,TC-3.6.1-03,Verify evaluation with all bids denied,All bids isDenied: true,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 200 OK,hasWinner: false (no valid winner),,New,
3.6 Auction Finalization,TC-3.6.1-04,Fail Bidder accessing evaluation,Bidder authenticated,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 403 Forbidden,Admin/Auctioneer only,,New,
3.6 Auction Finalization,TC-3.6.1-05,Verify Auctioneer can evaluate,Auctioneer authenticated,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 200 OK,Auctioneer has access,,New,
3.6 Auction Finalization,TC-3.6.1-06,Fail evaluate non-existent auction,UUID doesn't exist,1. Send GET /auction-finalization/evaluate/:nonexistent,Returns 404 Not Found,Auction not found,,New,
3.6 Auction Finalization,TC-3.6.1-07,Verify evaluate live auction returns current state,Auction status: live,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 200 OK,Shows current state during live auction,,New,
3.6 Auction Finalization,TC-3.6.2-01,Verify finalize auction with winner,Admin authenticated; Auction ended with winner,1. Send POST /auction-finalization/finalize 2. Body: {auctionId},Returns 201 Created,status: success; Contract created,,New,
3.6 Auction Finalization,TC-3.6.2-02,Verify finalize creates contract,Finalization with winner,1. Send POST /auction-finalization/finalize,Returns contract in response,Contract: buyerUserId; sellerUserId; price; status: draft,,New,
3.6 Auction Finalization,TC-3.6.2-03,Verify finalize with no winner fails auction,No valid bids,1. Send POST /auction-finalization/finalize 2. Body: {auctionId},Returns 200 OK,status: failed; no Contract created,,New,
3.6 Auction Finalization,TC-3.6.2-04,Verify finalize with specified winningBidId,Admin provides winningBidId override,1. Send POST /auction-finalization/finalize 2. Body: {auctionId; winningBidId: 'specific-bid'},Returns 201 Created,Specified bid becomes winner,,New,Optional override
3.6 Auction Finalization,TC-3.6.2-05,Verify finalize with notes,Admin includes notes,1. Send POST /auction-finalization/finalize 2. Body: {auctionId; notes: 'Special instructions'},Returns 201 Created,Notes stored in audit log,,New,
3.6 Auction Finalization,TC-3.6.2-06,Verify skipAutoEvaluation option,Admin skips auto,1. Send POST /auction-finalization/finalize 2. Body: {auctionId; skipAutoEvaluation: true; winningBidId: 'x'},Returns 201 Created,Manual override without evaluation,,New,
3.6 Auction Finalization,TC-3.6.2-07,Fail finalize already finalized auction,Auction status: success,1. Send POST /auction-finalization/finalize,Returns 400 Bad Request,Already finalized,,New,
3.6 Auction Finalization,TC-3.6.2-08,Fail finalize cancelled auction,Auction status: cancelled,1. Send POST /auction-finalization/finalize,Returns 400 Bad Request,Cannot finalize cancelled auction,,New,
3.6 Auction Finalization,TC-3.6.2-09,Fail Bidder finalizing,Bidder authenticated,1. Send POST /auction-finalization/finalize,Returns 403 Forbidden,Bidders cannot finalize,,New,
3.6 Auction Finalization,TC-3.6.2-10,Verify creates audit log on finalize,Finalization succeeds,1. Send POST /auction-finalization/finalize,Returns 201 Created,AuctionAuditLog record created,,New,
3.6 Auction Finalization,TC-3.6.3-01,Verify Admin overrides status to cancelled,Admin authenticated,1. Send POST /auction-finalization/override 2. Body: {auctionId; newStatus: 'cancelled'; reason: 'Fraud'},Returns 200 OK,status: cancelled; AuditLog with OVERRIDE action,,New,
3.6 Auction Finalization,TC-3.6.3-02,Verify override to failed,Admin authenticated,1. Send POST /auction-finalization/override 2. Body: {newStatus: 'failed'; reason: 'No valid bids'},Returns 200 OK,status updated to failed,,New,
3.6 Auction Finalization,TC-3.6.3-03,Fail Auctioneer override,Auctioneer authenticated,1. Send POST /auction-finalization/override,Returns 403 Forbidden,Admin/Super Admin only for override,,New,
3.6 Auction Finalization,TC-3.6.3-04,Fail override without reason,Admin authenticated,1. Send POST /auction-finalization/override 2. Body: {auctionId; newStatus: 'cancelled'},Returns 400 Bad Request,reason is required,,New,
3.6 Auction Finalization,TC-3.6.3-05,Fail override with invalid status enum,Admin authenticated,1. Send POST /auction-finalization/override 2. Body: {newStatus: 'invalid'},Returns 400 Bad Request,@IsEnum(AuctionStatus),,New,
3.6 Auction Finalization,TC-3.6.3-06,Verify override creates audit log,Override succeeds,1. Check prisma.auctionAuditLog after override,Audit log created,action: AuditAction.OVERRIDE,,New,
3.6 Auction Finalization,TC-3.6.4-01,Verify get auction results,Auction finalized,1. Send GET /auction-finalization/results/:auctionId,Returns 200 OK,auction; winner; allBids; userBids; contract included,,New,
3.6 Auction Finalization,TC-3.6.4-02,Verify results include winner details,Winner exists,1. Send GET /auction-finalization/results/:auctionId,Returns 200 OK,winner object with userId; fullName; winningAmount,,New,
3.6 Auction Finalization,TC-3.6.4-03,Verify results show user's own bids,Requesting user placed bids,1. Send GET /auction-finalization/results/:auctionId,Returns 200 OK,userBids filtered for current user,,New,
3.6 Auction Finalization,TC-3.6.4-04,Fail get results for non-existent auction,UUID doesn't exist,1. Send GET /auction-finalization/results/:nonexistent,Returns 404 Not Found,Auction not found,,New,
3.6 Auction Finalization,TC-3.6.5-01,Verify Admin gets audit logs,Admin authenticated; Logs exist,1. Send GET /auction-finalization/audit-logs/:auctionId,Returns 200 OK,List of AuctionAuditLog sorted by createdAt,,New,
3.6 Auction Finalization,TC-3.6.5-02,Fail Bidder accessing audit logs,Bidder authenticated,1. Send GET /auction-finalization/audit-logs/:auctionId,Returns 403 Forbidden,Admin/Auctioneer only,,New,
3.6 Auction Finalization,TC-3.6.5-03,Verify empty logs for new auction,No audit logs yet,1. Send GET /auction-finalization/audit-logs/:auctionId,Returns 200 OK with empty array,Empty array; not error,,New,
3.6 Auction Finalization,TC-3.6.6-01,Verify get winner payment requirements,Winner exists; Auction finalized,1. Send GET /auction-finalization/winner-payment-requirements/:auctionId,Returns 200 OK,amountDue; deadline; depositPaid,,New,
3.6 Auction Finalization,TC-3.6.6-02,Fail get requirements for non-winner,Non-winner requesting,1. Send GET /auction-finalization/winner-payment-requirements/:auctionId,Returns 403 Forbidden,Only winner can view their requirements,,New,May need verification
3.6 Auction Finalization,TC-3.6.7-01,Verify initiate winner payment,Winner authenticated,1. Send POST /auction-finalization/submit-winner-payment 2. Body: {auctionId},Returns 200 OK,Stripe session created; Payment record,,New,
3.6 Auction Finalization,TC-3.6.7-02,Fail non-winner initiating payment,Non-winner authenticated,1. Send POST /auction-finalization/submit-winner-payment,Returns 403 Forbidden,Only winner can pay,,New,
3.6 Auction Finalization,TC-3.6.7-03,Fail payment for non-finalized auction,Auction not yet finalized,1. Send POST /auction-finalization/submit-winner-payment,Returns 400 Bad Request,Auction not finalized,,New,
3.6 Auction Finalization,TC-3.6.7-04,Fail payment already made,Winner already paid,1. Send POST /auction-finalization/submit-winner-payment,Returns 409 Conflict,Payment already completed,,New,
3.6 Auction Finalization,TC-3.6.8-01,Verify winner payment verification,Stripe session completed,1. Send POST /auction-finalization/verify-winner-payment 2. Body: {sessionId; auctionId},Returns 200 OK,Payment confirmed; Contract status may update,,New,
3.6 Auction Finalization,TC-3.6.8-02,Fail verify incomplete payment,Stripe session pending,1. Send POST /auction-finalization/verify-winner-payment,Returns 400 Bad Request,Payment not completed,,New,
3.6 Auction Finalization,TC-3.6.8-03,Fail verify with invalid sessionId,Session doesn't exist,1. Send POST /auction-finalization/verify-winner-payment,Returns 404 Not Found,Session not found,,New,
3.7 Payment,TC-3.7.1-01,Verify create payment for deposit type,User authenticated; Auction and participant exist,1. Send POST /payments 2. Body: {auctionId; registrationId; paymentType: 'deposit'; amount: 50000000; paymentMethod: 'bank_transfer'},Returns 201 Created,Payment record created; Stripe session URL returned,,New,
3.7 Payment,TC-3.7.1-02,Verify create payment for participation_fee,User authenticated,1. Send POST /payments 2. Body: {paymentType: 'participation_fee'; amount: 500000; ...},Returns 201 Created,Payment for participation fee,,New,
3.7 Payment,TC-3.7.1-03,Verify create payment for winning_payment,Winner authenticated,1. Send POST /payments 2. Body: {paymentType: 'winning_payment'; amount: 1200000000; ...},Returns 201 Created,Payment for winning bid amount,,New,
3.7 Payment,TC-3.7.1-04,Fail payment with invalid paymentType enum,No preconditions,1. Send POST /payments 2. Body: {paymentType: 'invalid_type'; ...},Returns 400 Bad Request,@IsEnum(PaymentType) validation,,New,PaymentType: deposit; participation_fee; winning_payment; refund
3.7 Payment,TC-3.7.1-05,Fail payment with invalid paymentMethod enum,No preconditions,1. Send POST /payments 2. Body: {paymentMethod: 'crypto'; ...},Returns 400 Bad Request,@IsEnum(PaymentMethod) validation,,New,PaymentMethod: bank_transfer; e_wallet; cash
3.7 Payment,TC-3.7.1-06,Fail payment with missing auctionId,No preconditions,1. Send POST /payments 2. Body without auctionId,Returns 400 Bad Request,'Auction ID is required',,New,
3.7 Payment,TC-3.7.1-07,Fail payment with missing registrationId,No preconditions,1. Send POST /payments 2. Body without registrationId,Returns 400 Bad Request,'Registration ID is required',,New,
3.7 Payment,TC-3.7.1-08,Fail payment with missing amount,No preconditions,1. Send POST /payments 2. Body without amount,Returns 400 Bad Request,'Amount is required',,New,
3.7 Payment,TC-3.7.1-09,Fail payment with zero amount,No preconditions,1. Send POST /payments 2. Body: {amount: 0; ...},Returns 400 Bad Request,'Amount must be greater than 0',,New,@IsPositive()
3.7 Payment,TC-3.7.1-10,Fail payment with negative amount,No preconditions,1. Send POST /payments 2. Body: {amount: -50000000; ...},Returns 400 Bad Request,Amount must be positive,,New,
3.7 Payment,TC-3.7.1-11,Fail payment without authentication,No token,1. Send POST /payments 2. Body: {...},Returns 401 Unauthorized,Auth required,,New,
3.7 Payment,TC-3.7.1-12,Verify payment with bank_transfer method,User authenticated,1. Send POST /payments 2. Body: {paymentMethod: 'bank_transfer'; ...},Returns 201 Created,Stripe session for bank transfer,,New,
3.7 Payment,TC-3.7.1-13,Verify payment with e_wallet method,User authenticated,1. Send POST /payments 2. Body: {paymentMethod: 'e_wallet'; ...},Returns 201 Created,E-wallet payment option,,New,
3.7 Payment,TC-3.7.1-14,Verify payment with cash method,User authenticated,1. Send POST /payments 2. Body: {paymentMethod: 'cash'; ...},Returns 201 Created,Cash payment recorded (manual verification needed),,New,
3.7 Payment,TC-3.7.1-15,Fail payment with non-existent auctionId,UUID doesn't exist,1. Send POST /payments 2. Body: {auctionId: 'nonexistent'; ...},Returns 404 Not Found,Auction not found,,New,
3.7 Payment,TC-3.7.1-16,Fail payment with non-existent registrationId,UUID doesn't exist,1. Send POST /payments 2. Body: {registrationId: 'nonexistent'; ...},Returns 404 Not Found,Registration not found,,New,
3.7 Payment,TC-3.7.1-17,Verify response includes payment_id,Payment created,1. Send POST /payments,Returns 201 Created,Response has payment_id (Stripe session ID),,New,
3.7 Payment,TC-3.7.1-18,Verify response includes payment_url,Payment created,1. Send POST /payments,Returns 201 Created,Response has payment_url (Stripe checkout URL),,New,
3.7 Payment,TC-3.7.1-19,Verify response includes qr_code,Payment created (bank_transfer),1. Send POST /payments,Returns 201 Created,QR code data URL for payment,,New,
3.7 Payment,TC-3.7.1-20,Verify Payment record created in database,Payment created,1. Send POST /payments 2. Check prisma.payment,Record exists,Payment with status: pending; userId; auctionId; registrationId,,New,
3.7 Payment,TC-3.7.2-01,Verify payment verification via query param,Stripe session completed,1. Send GET /payments/verify?session_id=cs_test_xxx,Returns 200 OK,Payment status retrieved and confirmed,,New,Query param: session_id
3.7 Payment,TC-3.7.2-02,Fail verify with missing session_id,No session_id param,1. Send GET /payments/verify,Returns 400 Bad Request,session_id required,,New,
3.7 Payment,TC-3.7.2-03,Fail verify with invalid session_id,Session doesn't exist in Stripe,1. Send GET /payments/verify?session_id=invalid,Returns 404 Not Found,Session not found,,New,
3.7 Payment,TC-3.7.2-04,Verify response includes payment status,Session exists,1. Send GET /payments/verify?session_id=cs_xxx,Returns 200 OK,status: 'paid' or 'unpaid',,New,
3.7 Payment,TC-3.7.2-05,Verify incomplete payment returns unpaid,Stripe session not completed,1. Send GET /payments/verify?session_id=incomplete,Returns 200 OK,status: 'unpaid'; payment_status: 'pending',,New,
3.8 Auction Cost Management,TC-3.8.1-01,Verify create auction costs with all fields,Auctioneer/Admin authenticated; Auction exists,1. Send POST /auction-costs/auction/:auctionId 2. Body: {advertisingCost: 2000000; venueRentalCost: 5000000; appraisalCost: 10000000; assetViewingCost: 1000000},Returns 201 Created,AuctionCost created in prisma.auctionCost,,New,
3.8 Auction Cost Management,TC-3.8.1-02,Verify upsert updates existing,AuctionCost already exists,1. Send POST /auction-costs/auction/:auctionId 2. Body with updated values,Returns 200 OK,Existing record updated,,New,Upsert behavior
3.8 Auction Cost Management,TC-3.8.1-03,Verify create with otherCosts array,Admin authenticated,1. Send POST /auction-costs/auction/:auctionId 2. Body: {otherCosts: [{description: 'Security'; amount: 5000000}]},Returns 201 Created,otherCosts JsonB stored correctly,,New,
3.8 Auction Cost Management,TC-3.8.1-04,Verify create with empty optional fields,Admin authenticated,1. Send POST /auction-costs/auction/:auctionId 2. Body: {advertisingCost: 1000000} only,Returns 201 Created,Other costs default to 0 or null,,New,@IsOptional() fields
3.8 Auction Cost Management,TC-3.8.1-05,Fail create with negative cost,No preconditions,1. Send POST /auction-costs/auction/:auctionId 2. Body: {advertisingCost: -1000000},Returns 400 Bad Request,@Min(0) validation,,New,
3.8 Auction Cost Management,TC-3.8.1-06,Fail create for non-existent auction,Auction doesn't exist,1. Send POST /auction-costs/auction/:nonexistent,Returns 404 Not Found,Auction not found,,New,
3.8 Auction Cost Management,TC-3.8.1-07,Fail create without authentication,No token,1. Send POST /auction-costs/auction/:auctionId,Returns 401 Unauthorized,Auth required,,New,
3.8 Auction Cost Management,TC-3.8.1-08,Fail Bidder creating costs,Bidder authenticated,1. Send POST /auction-costs/auction/:auctionId,Returns 403 Forbidden,Admin/Auctioneer only,,New,
3.8 Auction Cost Management,TC-3.8.2-01,Verify get auction costs,AuctionCost exists,1. Send GET /auction-costs/auction/:auctionId,Returns 200 OK,All cost fields returned,,New,
3.8 Auction Cost Management,TC-3.8.2-02,Verify get includes totalCost calculation,AuctionCost with multiple costs,1. Send GET /auction-costs/auction/:auctionId,Returns 200 OK,totalCost sum of all costs,,New,
3.8 Auction Cost Management,TC-3.8.2-03,Return 404 for auction without costs,No AuctionCost record,1. Send GET /auction-costs/auction/:auctionId,Returns 404 Not Found,Costs not found for auction,,New,
3.8 Auction Cost Management,TC-3.8.2-04,Fail get for non-existent auction,Auction doesn't exist,1. Send GET /auction-costs/auction/:nonexistent,Returns 404 Not Found,Auction not found,,New,
3.8 Auction Cost Management,TC-3.8.3-01,Verify partial update single field,AuctionCost exists; Admin authenticated,1. Send PATCH /auction-costs/auction/:auctionId 2. Body: {venueRentalCost: 6000000},Returns 200 OK,Only venueRentalCost updated; others unchanged,,New,
3.8 Auction Cost Management,TC-3.8.3-02,Verify partial update multiple fields,AuctionCost exists,1. Send PATCH /auction-costs/auction/:auctionId 2. Body: {advertisingCost: 3000000; appraisalCost: 12000000},Returns 200 OK,Both fields updated,,New,
3.8 Auction Cost Management,TC-3.8.3-03,Fail update non-existent costs,No AuctionCost record,1. Send PATCH /auction-costs/auction/:auctionId,Returns 404 Not Found,Costs not found for auction,,New,
3.8 Auction Cost Management,TC-3.8.3-04,Fail update with negative value,AuctionCost exists,1. Send PATCH /auction-costs/auction/:auctionId 2. Body: {advertisingCost: -500000},Returns 400 Bad Request,@Min(0) validation,,New,
3.8 Auction Cost Management,TC-3.8.4-01,Verify Admin deletes auction costs,Admin authenticated; AuctionCost exists,1. Send DELETE /auction-costs/auction/:auctionId,Returns 204 No Content,Record removed from prisma.auctionCost,,New,
3.8 Auction Cost Management,TC-3.8.4-02,Fail Auctioneer deletes costs,Auctioneer authenticated,1. Send DELETE /auction-costs/auction/:auctionId,Returns 403 Forbidden,Admin/Super Admin only,,New,
3.8 Auction Cost Management,TC-3.8.4-03,Fail Bidder deletes costs,Bidder authenticated,1. Send DELETE /auction-costs/auction/:auctionId,Returns 403 Forbidden,Bidders cannot delete costs,,New,
3.8 Auction Cost Management,TC-3.8.4-04,Fail delete non-existent costs,No AuctionCost record,1. Send DELETE /auction-costs/auction/:auctionId,Returns 404 Not Found,Costs not found,,New,
3.8 Auction Cost Management,TC-3.8.5-01,Verify add other cost item,AuctionCost exists; Admin authenticated,1. Send POST /auction-costs/auction/:auctionId/other-cost 2. Body: {description: 'Security'; amount: 5000000},Returns 201 Created,Item appended to otherCosts array,,New,
3.8 Auction Cost Management,TC-3.8.5-02,Verify add multiple other costs,Multiple calls to add other costs,1. Send POST /auction-costs/auction/:auctionId/other-cost 3 times,Returns 201 Created each time,otherCosts array has 3 items,,New,
3.8 Auction Cost Management,TC-3.8.5-03,Fail add other cost without description,Admin authenticated,1. Send POST /auction-costs/auction/:auctionId/other-cost 2. Body: {amount: 5000000},Returns 400 Bad Request,@IsNotEmpty() for description,,New,
3.8 Auction Cost Management,TC-3.8.5-04,Fail add other cost with negative amount,Admin authenticated,1. Send POST /auction-costs/auction/:auctionId/other-cost 2. Body: {description: 'Test'; amount: -100000},Returns 400 Bad Request,@Min(0) for amount,,New,
3.9 System Configuration,TC-3.9.1-01,Verify Admin gets all system variables,Admin authenticated; SystemVariable records exist,1. Send GET /system-variables,Returns 200 OK,List of all variables grouped by category,,New,
3.9 System Configuration,TC-3.9.1-02,Verify get variables filtered by category,Variables in different categories,1. Send GET /system-variables?category=auction,Returns 200 OK,Only 'auction' category variables,,New,
3.9 System Configuration,TC-3.9.1-03,Fail Bidder accessing system variables,Bidder authenticated,1. Send GET /system-variables,Returns 403 Forbidden,Admin/Super Admin only,,New,
3.9 System Configuration,TC-3.9.1-04,Fail Auctioneer accessing system variables,Auctioneer authenticated,1. Send GET /system-variables,Returns 403 Forbidden,Admin only for system config,,New,
3.9 System Configuration,TC-3.9.1-05,Verify empty list when no variables,No SystemVariable records,1. Send GET /system-variables,Returns 200 OK with empty array,Empty array; not error,,New,
3.9 System Configuration,TC-3.9.2-01,Verify get specific system variable,Variable exists,1. Send GET /system-variables/:category/:key,Returns 200 OK,Single variable with category; key; value; dataType,,New,
3.9 System Configuration,TC-3.9.2-02,Return 404 for non-existent variable,Variable doesn't exist,1. Send GET /system-variables/invalid/nonexistent,Returns 404 Not Found,Variable not found,,New,@@unique([category; key])
3.9 System Configuration,TC-3.9.2-03,Verify different dataType values,Variables with different dataTypes,1. Send GET /system-variables/:category/:key for each type,Returns 200 OK,Correctly returns number; boolean; string; json types,,New,
3.9 System Configuration,TC-3.9.3-01,Verify update system variable value,Admin authenticated; Variable exists,1. Send PATCH /system-variables/:category/:key 2. Body: {value: 'new_value'},Returns 200 OK,Value updated; cache cleared,,New,
3.9 System Configuration,TC-3.9.3-02,Verify update clears cache,Variable updated,1. Send PATCH /system-variables/:category/:key 2. Check cache,Returns 200 OK,Cache invalidated for this variable,,New,
3.9 System Configuration,TC-3.9.3-03,Fail update non-existent variable,Variable doesn't exist,1. Send PATCH /system-variables/invalid/nonexistent,Returns 404 Not Found,Variable not found,,New,
3.9 System Configuration,TC-3.9.3-04,Fail Bidder updating variable,Bidder authenticated,1. Send PATCH /system-variables/:category/:key,Returns 403 Forbidden,Admin only,,New,
3.9 System Configuration,TC-3.9.4-01,Verify create new system variable,Admin authenticated,1. Send POST /system-variables 2. Body: {category: 'auction'; key: 'max_bid'; value: '1000000000'; dataType: 'number'; description: 'Max bid amount'},Returns 201 Created,New variable in prisma.systemVariable,,New,
3.9 System Configuration,TC-3.9.4-02,Fail create duplicate variable,Variable with same category+key exists,1. Send POST /system-variables 2. Body with existing category+key,Returns 409 Conflict,Unique constraint violation,,New,@@unique([category; key])
3.9 System Configuration,TC-3.9.4-03,Verify create with all dataTypes,Admin authenticated,1. Send POST for each dataType (number; boolean; string; json),Returns 201 Created each,All dataTypes supported,,New,
3.9 System Configuration,TC-3.9.4-04,Fail create without required fields,Admin authenticated,1. Send POST /system-variables 2. Body missing category,Returns 400 Bad Request,Validation error,,New,
3.9 System Configuration,TC-3.9.5-01,Verify clear cache,Admin authenticated,1. Send POST /system-variables/cache/clear,Returns 200 OK,All cached variables invalidated,,New,
3.9 System Configuration,TC-3.9.5-02,Fail Bidder clearing cache,Bidder authenticated,1. Send POST /system-variables/cache/clear,Returns 403 Forbidden,Admin only,,New,
3.9 System Configuration,TC-3.9.6-01,Verify get cache stats,Admin authenticated,1. Send GET /system-variables/cache/stats,Returns 200 OK,hitCount; missCount; size returned,,New,
3.9 System Configuration,TC-3.9.6-02,Fail Bidder accessing cache stats,Bidder authenticated,1. Send GET /system-variables/cache/stats,Returns 403 Forbidden,Admin only,,New,
3.10 Location,TC-3.10.1-01,Verify get all locations publicly,Location records exist,1. Send GET /locations,Returns 200 OK,Hierarchical location data returned,,New,@Public() - no auth required
3.10 Location,TC-3.10.1-02,Verify include provinces,Province-level locations exist,1. Send GET /locations,Returns 200 OK,Provinces with parentId: null,,New,
3.10 Location,TC-3.10.1-03,Verify include districts,District-level locations exist,1. Send GET /locations,Returns 200 OK,Districts with parentId pointing to province,,New,
3.10 Location,TC-3.10.1-04,Verify include wards,Ward-level locations exist,1. Send GET /locations,Returns 200 OK,Wards with parentId pointing to district,,New,
3.10 Location,TC-3.10.1-05,Verify empty response when no locations,No Location records,1. Send GET /locations,Returns 200 OK with empty array,Empty array; not error,,New,
3.10 Location,TC-3.10.1-06,Verify location fields,Location records exist,1. Send GET /locations,Returns 200 OK,Each location has: id; name; parentId,,New,
3.10 Location,TC-3.10.1-07,Verify no authentication required,No token,1. Send GET /locations,Returns 200 OK,Public endpoint accessible without auth,,New,
3.11 Article,TC-3.11.1-01,Verify list all articles publicly,Article records exist,1. Send GET /articles,Returns 200 OK,List from prisma.article.findMany,,New,[SECURITY GAP] No auth guards
3.11 Article,TC-3.11.1-02,Verify list articles with type filter,Articles with various ArticleType,1. Send GET /articles?type=news,Returns 200 OK,Only 'news' type articles returned,,New,ArticleQueryDto
3.11 Article,TC-3.11.1-03,Verify list articles with announcement type,type: announcement,1. Send GET /articles?type=announcement,Returns 200 OK,Only announcements returned,,New,
3.11 Article,TC-3.11.1-04,Verify list articles with guide type,type: guide,1. Send GET /articles?type=guide,Returns 200 OK,Only guides returned,,New,
3.11 Article,TC-3.11.1-05,Verify list articles with q_and_a type,type: q_and_a,1. Send GET /articles?type=q_and_a,Returns 200 OK,Only Q&A articles returned,,New,
3.11 Article,TC-3.11.1-06,Verify list articles with pagination,Many articles exist,1. Send GET /articles?page=1&limit=10,Returns 200 OK,First 10 articles,,New,
3.11 Article,TC-3.11.1-07,Verify empty list when no articles,No Article records,1. Send GET /articles,Returns 200 OK with empty array,Empty array; not error,,New,
3.11 Article,TC-3.11.2-01,Verify get article by ID,Article exists,1. Send GET /articles/:id,Returns 200 OK,Full article with title; content; author; image; type,,New,
3.11 Article,TC-3.11.2-02,Fail get article with invalid UUID,Invalid format,1. Send GET /articles/not-a-uuid,Returns 400 Bad Request,Invalid UUID format,,New,
3.11 Article,TC-3.11.2-03,Return 404 for non-existent article,UUID format valid but doesn't exist,1. Send GET /articles/550e8400-e29b-41d4-a716-446655440000,Returns 404 Not Found,Article not found,,New,
3.11 Article,TC-3.11.2-04,Verify article includes image JsonB,Article has image,1. Send GET /articles/:id,Returns 200 OK,image field contains {url; publicId},,New,
3.11 Article,TC-3.11.2-05,Verify article includes related articles,Article has ArticleRelation,1. Send GET /articles/:id,Returns 200 OK,Related articles included,,New,
3.11 Article,TC-3.11.3-01,Verify create article with all fields,Admin authenticated (assumed),1. Send POST /articles 2. Body: {title; author; content; image: {url: '...'}; type: 'news'; description: '...'},Returns 201 Created,Article in prisma.article,,New,[SECURITY GAP] Missing role guard
3.11 Article,TC-3.11.3-02,Fail create article without title,No preconditions,1. Send POST /articles 2. Body missing title,Returns 400 Bad Request,title required (@IsString),,New,
3.11 Article,TC-3.11.3-03,Fail create article without author,No preconditions,1. Send POST /articles 2. Body missing author,Returns 400 Bad Request,author required,,New,
3.11 Article,TC-3.11.3-04,Fail create article without content,No preconditions,1. Send POST /articles 2. Body missing content,Returns 400 Bad Request,content required,,New,
3.11 Article,TC-3.11.3-05,Fail create article without type,No preconditions,1. Send POST /articles 2. Body missing type,Returns 400 Bad Request,type required,,New,
3.11 Article,TC-3.11.3-06,Fail create article with invalid type enum,No preconditions,1. Send POST /articles 2. Body: {type: 'blog'},Returns 400 Bad Request,@IsEnum(ArticleType),,New,ArticleType: news; announcement; guide; q_and_a
3.11 Article,TC-3.11.3-07,Verify create article with type 'news',Admin authenticated,1. Send POST /articles 2. Body: {type: 'news'; ...},Returns 201 Created,Article type: 'news',,New,
3.11 Article,TC-3.11.3-08,Verify create article with type 'announcement',Admin authenticated,1. Send POST /articles 2. Body: {type: 'announcement'; ...},Returns 201 Created,Article type: 'announcement',,New,
3.11 Article,TC-3.11.3-09,Verify create article with type 'guide',Admin authenticated,1. Send POST /articles 2. Body: {type: 'guide'; ...},Returns 201 Created,Article type: 'guide',,New,
3.11 Article,TC-3.11.3-10,Verify create article with type 'q_and_a',Admin authenticated,1. Send POST /articles 2. Body: {type: 'q_and_a'; ...},Returns 201 Created,Article type: 'q_and_a',,New,
3.11 Article,TC-3.11.4-01,Verify update article title,Article exists; Admin authenticated,1. Send PUT /articles/:id 2. Body: {title: 'Updated Title'; ...},Returns 200 OK,title updated in prisma.article,,New,
3.11 Article,TC-3.11.4-02,Verify update article content,Article exists,1. Send PUT /articles/:id 2. Body: {content: 'Updated content'; ...},Returns 200 OK,content updated,,New,
3.11 Article,TC-3.11.4-03,Verify update article type,Article exists,1. Send PUT /articles/:id 2. Body: {type: 'announcement'; ...},Returns 200 OK,type changed,,New,
3.11 Article,TC-3.11.4-04,Fail update non-existent article,UUID doesn't exist,1. Send PUT /articles/:nonexistent,Returns 404 Not Found,Article not found,,New,
3.11 Article,TC-3.11.5-01,Verify update article relations,Article and related articles exist,1. Send PATCH /articles/:id/relations 2. Body: {relatedIds: ['uuid1'; 'uuid2']},Returns 200 OK,ArticleRelation records created,,New,
3.11 Article,TC-3.11.5-02,Verify replace article relations,Article has existing relations,1. Send PATCH /articles/:id/relations 2. Body: {relatedIds: ['newUuid']},Returns 200 OK,Old relations removed; new created,,New,
3.11 Article,TC-3.11.5-03,Verify clear all relations,Article has relations,1. Send PATCH /articles/:id/relations 2. Body: {relatedIds: []},Returns 200 OK,All ArticleRelation records removed,,New,
3.11 Article,TC-3.11.5-04,Fail relation with self,Article exists,1. Send PATCH /articles/:id/relations 2. Body: {relatedIds: [':id']},Returns 400 Bad Request,Cannot relate article to itself,,New,
3.11 Article,TC-3.11.6-01,Verify delete article,Article exists; Admin authenticated (assumed),1. Send DELETE /articles/:id,Returns 200 OK,Article removed from prisma.article,,New,[SECURITY GAP] Missing role guard
3.11 Article,TC-3.11.6-02,Fail delete non-existent article,UUID doesn't exist,1. Send DELETE /articles/:nonexistent,Returns 404 Not Found,Article not found,,New,
3.11 Article,TC-3.11.6-03,Verify delete removes related records,Article with ArticleRelation,1. Send DELETE /articles/:id,Returns 200 OK,ArticleRelation records also deleted (cascade),,New,
3.12 Contracts,TC-3.12.1-01,Verify get contract by ID,Contract exists; User is buyer,1. Send GET /contracts/:id,Returns 200 OK,Full contract details returned,,New,ContractAccessGuard
3.12 Contracts,TC-3.12.1-02,Verify seller can access contract,Contract exists; User is seller,1. Send GET /contracts/:id,Returns 200 OK,Seller has access,,New,
3.12 Contracts,TC-3.12.1-03,Fail non-party accessing contract,User not buyer or seller,1. Send GET /contracts/:id,Returns 403 Forbidden,ContractAccessGuard blocks,,New,
3.12 Contracts,TC-3.12.1-04,Fail access non-existent contract,UUID doesn't exist,1. Send GET /contracts/:nonexistent,Returns 404 Not Found,Contract not found,,New,
3.12 Contracts,TC-3.12.2-01,Verify export contract PDF Vietnamese,Contract exists; User is party,1. Send GET /contracts/:id/pdf/vi,Returns 200 OK with PDF,PDF generated in Vietnamese,,New,
3.12 Contracts,TC-3.12.2-02,Verify export contract PDF English,Contract exists; User is party,1. Send GET /contracts/:id/pdf/en,Returns 200 OK with PDF,PDF generated in English,,New,
3.12 Contracts,TC-3.12.2-03,Fail PDF export non-party user,User not buyer or seller,1. Send GET /contracts/:id/pdf/vi,Returns 403 Forbidden,ContractAccessGuard blocks,,New,
3.12 Contracts,TC-3.12.2-04,Fail PDF export invalid language,Unsupported language,1. Send GET /contracts/:id/pdf/de,Returns 400 Bad Request,Language not supported,,New,
3.12 Contracts,TC-3.12.3-01,Verify list user contracts,User has contracts,1. Send GET /contracts,Returns 200 OK,List of contracts where user is buyer or seller,,New,
3.12 Contracts,TC-3.12.3-02,Verify empty list when no contracts,User has no contracts,1. Send GET /contracts,Returns 200 OK with empty array,Empty array; not error,,New,
3.12 Contracts,TC-3.12.4-01,Verify update contract notes,Admin authenticated; Contract exists,1. Send PATCH /contracts/:id 2. Body: {notes: 'Updated notes'},Returns 200 OK,Notes updated,,New,
3.12 Contracts,TC-3.12.4-02,Fail Bidder updating contract,Bidder authenticated,1. Send PATCH /contracts/:id,Returns 403 Forbidden,Admin/Auctioneer only,,New,
3.13 Email Notifications,TC-3.13.1-01,Verify auction result email sent to winner,Auction finalized with winner,1. Finalize auction 2. Check email service,Email sent to winner,Winner receives congratulations email,,New,EmailService.sendAuctionResultEmail
3.13 Email Notifications,TC-3.13.1-02,Verify auction result email sent to losers,Auction finalized; Multiple participants,1. Finalize auction 2. Check email service,Emails sent to all losers,Non-winners receive participation email,,New,
3.13 Email Notifications,TC-3.13.1-03,Verify bulk email sending,Multiple participants,1. Finalize auction triggering bulk send,Bulk method called,sendBulkAuctionResultEmails used for efficiency,,New,
3.13 Email Notifications,TC-3.13.1-04,Verify email contains auction details,Email sent,1. Check email content,Email includes auctionCode; auctionName; winningAmount,,New,
3.13 Email Notifications,TC-3.13.2-01,Verify verification email on registration,User registers,1. Send POST /auth/register,Returns 201 Created,Verification email sent via Supabase,,New,
3.13 Email Notifications,TC-3.13.2-02,Verify password reset email,User requests reset,1. Send POST /auth/forgot-password,Returns 200 OK,Password reset email sent,,New,
4.1 Security Testing,TC-4.1.1-01,IDOR - Bidder accessing other user registrations,Bidder authenticated; Other user exists,1. Send GET /register-to-bid/users/:otherUserId/registrations,Returns 403 Forbidden,Access control enforced,,New,
4.1 Security Testing,TC-4.1.1-02,IDOR - Bidder accessing other user profile,Bidder authenticated,1. Send GET /auth/users/:otherUserId/profile,Returns 403 Forbidden,Cannot access other profiles,,New,
4.1 Security Testing,TC-4.1.1-03,IDOR - Access contract of different auction,User not party to contract,1. Send GET /contracts/:contractId,Returns 403 Forbidden,ContractAccessGuard blocks,,New,
4.1 Security Testing,TC-4.1.1-04,IDOR - Download PDF of other's contract,User not buyer/seller,1. Send GET /contracts/:id/pdf/vi,Returns 403 Forbidden,Cannot export other's contract,,New,
4.1 Security Testing,TC-4.1.1-05,IDOR - Withdraw other user's registration,Bidder A trying to withdraw B's registration,1. Send POST /register-to-bid/withdraw with other user's auction,Returns 403 Forbidden,Can only withdraw own registration,,New,
4.1 Security Testing,TC-4.1.2-01,Mass Assignment - Register with elevated role,No preconditions,1. Send POST /auth/register 2. Body includes: {role: 'admin'},Returns 201 Created with role: bidder,role field ignored; always bidder,,New,
4.1 Security Testing,TC-4.1.2-02,Mass Assignment - Auction with status override,Auctioneer authenticated,1. Send POST /auctions 2. Body: {status: 'success'},Returns 201 Created with status: scheduled,status ignored; default applied,,New,
4.1 Security Testing,TC-4.1.2-03,Mass Assignment - Registration with confirmedAt,Bidder authenticated,1. Send POST /register-to-bid 2. Body: {auctionId; confirmedAt: now()},Returns 201 Created,confirmedAt ignored; requires admin approval,,New,
4.1 Security Testing,TC-4.1.2-04,Mass Assignment - Payment with status override,User authenticated,1. Send POST /payments 2. Body: {status: 'completed'},Returns 201 Created with status: pending,status ignored,,New,
4.1 Security Testing,TC-4.1.2-05,Mass Assignment - User update with role,Bidder authenticated,1. Send PUT /auth/profile 2. Body: {role: 'super_admin'},Returns 200 OK,role unchanged; field ignored,,New,
4.1 Security Testing,TC-4.1.3-01,BOLA - Access auction admin endpoints as Bidder,Bidder authenticated,1. Send GET /register-to-bid/admin/registrations,Returns 403 Forbidden,@Roles guard blocks Bidder,,New,
4.1 Security Testing,TC-4.1.3-02,BOLA - Evaluate auction as Bidder,Bidder authenticated,1. Send GET /auction-finalization/evaluate/:auctionId,Returns 403 Forbidden,Bidders cannot evaluate,,New,
4.1 Security Testing,TC-4.1.3-03,BOLA - Override auction as Auctioneer,Auctioneer authenticated,1. Send POST /auction-finalization/override,Returns 403 Forbidden,Admin/Super Admin only,,New,
4.1 Security Testing,TC-4.1.3-04,BOLA - Delete auction costs as Auctioneer,Auctioneer authenticated,1. Send DELETE /auction-costs/auction/:auctionId,Returns 403 Forbidden,Admin only for delete,,New,
4.1 Security Testing,TC-4.1.3-05,BOLA - System variables as Auctioneer,Auctioneer authenticated,1. Send GET /system-variables,Returns 403 Forbidden,Admin only,,New,
4.1 Security Testing,TC-4.1.4-01,JWT - Expired token rejected,Token expired 30 minutes ago,1. Send any authenticated request with expired token,Returns 401 Unauthorized,'Token has expired',,New,
4.1 Security Testing,TC-4.1.4-02,JWT - Invalid signature rejected,Token with modified payload,1. Send request with tampered token,Returns 401 Unauthorized,'Invalid token',,New,
4.1 Security Testing,TC-4.1.4-03,JWT - Missing token rejected,No Authorization header,1. Send authenticated endpoint without token,Returns 401 Unauthorized,'Authorization header is missing',,New,
4.1 Security Testing,TC-4.1.4-04,JWT - Wrong secret rejected,Token signed with different secret,1. Send request with wrongly-signed token,Returns 401 Unauthorized,'Invalid token signature',,New,
4.1 Security Testing,TC-4.1.4-05,JWT - Algorithm confusion prevented,Token with 'none' algorithm,1. Send request with alg: none token,Returns 401 Unauthorized,Algorithm must be HS256,,New,
4.1 Security Testing,TC-4.1.5-01,SQL Injection - Login email,No preconditions,1. Send POST /auth/login 2. Body: {email: 'test@test.com; DROP TABLE users;--'},Returns 400 Bad Request,SQL not executed; email validation fails,,New,
4.1 Security Testing,TC-4.1.5-02,SQL Injection - Search query,Auctions exist,1. Send GET /auctions?search='; DROP TABLE auctions;--,Returns 200 OK,SQL safely escaped; no injection,,New,
4.1 Security Testing,TC-4.1.5-03,SQL Injection - Filter param,No preconditions,1. Send GET /auctions?status=' OR '1'='1,Returns 400 Bad Request,Enum validation prevents injection,,New,
4.1 Security Testing,TC-4.1.6-01,XSS - Article content,Admin authenticated,1. Send POST /articles 2. Body: {content: '<script>alert(1)</script>'},Returns 201 Created,Content stored; sanitized on output,,New,
4.1 Security Testing,TC-4.1.6-02,XSS - User full_name,No preconditions,1. Send POST /auth/register 2. Body: {full_name: '<img onerror=alert(1) src=x>'},Returns 201 Created,Name stored; sanitized on output,,New,
4.1 Security Testing,TC-4.1.6-03,XSS - Auction name,Auctioneer authenticated,1. Send POST /auctions 2. Body: {name: '<script>document.location=...'},Returns 201 Created,Name stored; sanitized on render,,New,
4.1 Security Testing,TC-4.1.7-01,Rate Limiting - Excessive login attempts,[UNIMPLEMENTED],1. Send 100 POST /auth/login requests,Should return 429 after threshold,No rate limiting currently implemented,,New,[UNIMPLEMENTED]
4.1 Security Testing,TC-4.1.7-02,Rate Limiting - Excessive registration,[UNIMPLEMENTED],1. Send 50 POST /auth/register requests,Should return 429 after threshold,No rate limiting implemented,,New,[UNIMPLEMENTED]
4.1 Security Testing,TC-4.1.7-03,Rate Limiting - Excessive bid placement,[UNIMPLEMENTED],1. Send 100 POST /manual-bid requests,Should return 429,No rate limiting on bidding,,New,[UNIMPLEMENTED]
4.1 Security Testing,TC-4.1.8-01,Verify banned user cannot bid,User.isBanned: true with valid token,1. Send POST /manual-bid,Returns 403 Forbidden,Banned users blocked from bidding,,New,
4.1 Security Testing,TC-4.1.8-02,Verify banned user cannot register,User.isBanned: true,1. Send POST /register-to-bid,Returns 403 Forbidden,Banned users blocked from registering,,New,
4.1 Security Testing,TC-4.1.8-03,Verify banned user cannot login,User.isBanned: true,1. Send POST /auth/login with banned user,Returns 403 Forbidden,Banned users cannot access system,,New,
4.1 Security Testing,TC-4.1.8-04,Verify unverified user limited access,User.isVerified: false,1. Send POST /register-to-bid,Returns 403 Forbidden,Unverified users cannot register for auctions,,New,
4.1 Security Testing,TC-4.1.9-01,File Upload - Executable file blocked,User authenticated,1. Upload .exe file to registration,Returns 400 Bad Request,Only allowed file types accepted,,New,
4.1 Security Testing,TC-4.1.9-02,File Upload - Oversized file blocked,User authenticated,1. Upload 15MB file to registration,Returns 413 Payload Too Large,10MB limit enforced,,New,
4.1 Security Testing,TC-4.1.9-03,File Upload - Multiple files within limit,User authenticated,1. Upload 5 valid files,Returns 201 Created,Up to 10 files allowed,,New,
4.1 Security Testing,TC-4.1.9-04,File Upload - Exceed file count,User authenticated,1. Upload 15 files at once,Returns 400 Bad Request,Max 10 files per field,,New,
5.1 Non-Functional,TC-5.1.1-01,Race Condition - Simultaneous first bids,Auction live; 3 users ready,1. Send 3 concurrent POST /manual-bid at starting price,Only 1 succeeds; others get 400,Database handles concurrency,,New,
5.1 Non-Functional,TC-5.1.1-02,Race Condition - Simultaneous outbids,Current bid: 1B; 3 users bidding 1.05B,1. Send 3 concurrent POST /manual-bid at same amount,Only 1 succeeds,First to process wins,,New,
5.1 Non-Functional,TC-5.1.1-03,Race Condition - Bid and denial,Winning bid exists,1. Concurrently: new bid + deny winning bid,Consistent state,System handles concurrent modifications,,New,
5.1 Non-Functional,TC-5.1.1-04,Race Condition - Simultaneous registrations,Same user clicks register twice quickly,1. Send 2 concurrent POST /register-to-bid,Only 1 succeeds; other 409,Unique constraint prevents duplicates,,New,
5.1 Non-Functional,TC-5.1.1-05,Race Condition - Simultaneous check-ins,Multiple users check in at window open,1. Send 5 concurrent POST /register-to-bid/check-in,All valid succeed,No conflicts between users,,New,
5.1 Non-Functional,TC-5.1.2-01,Double Spend - Submit deposit twice,First deposit pending,1. Send POST /register-to-bid/submit-deposit twice quickly,Second rejected,Only one Payment created,,New,
5.1 Non-Functional,TC-5.1.2-02,Double Spend - Verify deposit twice,Payment pending,1. Send POST /register-to-bid/verify-deposit-payment twice,Second returns same result,Idempotent verification,,New,
5.1 Non-Functional,TC-5.1.2-03,Double Spend - Winner payment twice,Winner payment pending,1. Initiate winner payment twice quickly,Second rejected,Only one payment allowed,,New,
5.1 Non-Functional,TC-5.1.3-01,Auction End - Bid at exact end time,auctionEndAt: specific timestamp,1. Send POST /manual-bid at exact auctionEndAt,Returns 400 Bad Request,Bid rejected at or after end time,,New,
5.1 Non-Functional,TC-5.1.3-02,Auction End - Bid 1ms before end,Auction ending in 1ms,1. Send POST /manual-bid 1ms before auctionEndAt,Should succeed if processed in time,Boundary condition,,New,
5.1 Non-Functional,TC-5.1.3-03,Auction End - Finalize before end time,Auction still live,1. Send POST /auction-finalization/finalize on live auction,Returns 400 Bad Request,Cannot finalize before auction ends,,New,
5.1 Non-Functional,TC-5.1.3-04,Auction Start - Bid before start,Auction scheduled; not started,1. Send POST /manual-bid before auctionStartAt,Returns 400 Bad Request,Auction not yet started,,New,
5.1 Non-Functional,TC-5.1.3-05,Check-in Window - Exact boundary,Time exactly at window open,1. Send POST /register-to-bid/check-in at auctionStartAt - validCheckInBeforeStartMinutes,Should succeed,Boundary includes exact time,,New,
5.1 Non-Functional,TC-5.1.4-01,WebSocket - Reconnection receives state,User disconnected and reconnects,1. Disconnect 2. Reconnect 3. Join auction,Receives current auctionState,State correctly restored,,New,
5.1 Non-Functional,TC-5.1.4-02,WebSocket - Multiple connections same user,Same user opens 2 tabs,1. Join same auction from 2 connections,Both receive updates,Multiple connections supported,,New,
5.1 Non-Functional,TC-5.1.4-03,WebSocket - Leave room stops events,User leaves auction room,1. Leave room 2. New bid placed,User receives no notification,Room unsubscribe works,,New,
5.1 Non-Functional,TC-5.1.5-01,Large Payload - Big auction images array,Auctioneer authenticated,1. Send POST /auctions with 100 image URLs,Returns 413 or 400,Payload size limited,,New,
5.1 Non-Functional,TC-5.1.5-02,Large Payload - Long description field,Auctioneer authenticated,1. Send POST /auctions with 1MB description,Returns 400 or truncated,Field length limits,,New,
5.1 Non-Functional,TC-5.1.5-03,Large Payload - Many related auctions,Auctioneer authenticated,1. Send PATCH /auctions/:id/relations with 1000 relatedIds,Returns 400 or limited,Reasonable limits enforced,,New,
5.1 Non-Functional,TC-5.1.6-01,Database Integrity - Cascade delete auction,Auction with bids; participants; costs,1. Attempt DELETE /auctions/:id,Returns 400 Bad Request,Cannot delete with dependencies,,New,Referential integrity
5.1 Non-Functional,TC-5.1.6-02,Database Integrity - Orphan prevention,Delete user with registrations,1. Delete user directly in DB,FK constraint prevents,Database constraints work,,New,
5.1 Non-Functional,TC-5.1.6-03,Database Integrity - Unique constraint,Create duplicate email,1. Register with existing email,Returns 409 Conflict,@unique constraint enforced,,New,
5.1 Non-Functional,TC-5.1.7-01,Performance - List 1000 auctions,1000 auctions exist,1. Send GET /auctions?limit=1000,Returns 200 OK in < 2s,Pagination recommended for large lists,,New,
5.1 Non-Functional,TC-5.1.7-02,Performance - Auction with 500 bids,500 bids on one auction,1. Send GET /auctions/:id,Returns 200 OK in < 1s,Include bid count; not all bids,,New,
5.1 Non-Functional,TC-5.1.7-03,Performance - WebSocket 100 users,100 users in auction room,1. All receive newBid event,Updates in < 100ms,Socket.IO scales,,New,
5.1 Non-Functional,TC-5.1.8-01,Error Handling - Invalid JSON body,Malformed JSON,1. Send POST /auth/register with invalid JSON,Returns 400 Bad Request,Parsing error handled,,New,
5.1 Non-Functional,TC-5.1.8-02,Error Handling - Empty body,Missing body,1. Send POST /auth/register with no body,Returns 400 Bad Request,Validation error,,New,
5.1 Non-Functional,TC-5.1.8-03,Error Handling - Database connection lost,Simulate DB failure,1. Send any request with DB down,Returns 500 Internal Server Error,Graceful error message,,New,
5.1 Non-Functional,TC-5.1.8-04,Error Handling - Stripe API failure,Stripe unreachable,1. Send POST /payments,Returns 502 or 500,External service failure handled,,New,
5.1 Non-Functional,TC-5.1.9-01,Audit Trail - Finalization logged,Auction finalized,1. Finalize auction 2. Check audit logs,AuctionAuditLog created,action: FINALIZE,,New,
5.1 Non-Functional,TC-5.1.9-02,Audit Trail - Override logged,Status overridden,1. Override auction 2. Check audit logs,AuctionAuditLog created,action: OVERRIDE; reason stored,,New,
5.1 Non-Functional,TC-5.1.9-03,Audit Trail - Bid created logged,New bid placed,1. Place bid 2. Check bid record,AuctionBid.bidAt timestamp,Bid timing recorded,,New,
5.2 Integration,TC-5.2.1-01,End-to-End - Complete auction flow,User registered; Auction scheduled,1. Register for auction 2. Submit documents 3. Pay deposit 4. Get approved 5. Check-in 6. Place bids 7. Win 8. Pay winning amount,Success at each step,Full flow from registration to payment,,New,
5.2 Integration,TC-5.2.1-02,End-to-End - Failed auction flow,Auction with no participants,1. Create auction 2. Wait for end 3. Finalize,Auction status: failed,No winner; auction marked failed,,New,
5.2 Integration,TC-5.2.1-03,End-to-End - Losing bidder flow,Multiple bidders; User loses,1. Register 2. Approve 3. Check-in 4. Bid 5. Outbid 6. Auction ends,Deposit returned; loser email sent,Loss handled correctly,,New,
5.2 Integration,TC-5.2.2-01,Multi-user - Different roles same auction,Admin; Auctioneer; 3 Bidders,1. All interact with same auction,Each role has correct permissions,Role isolation works,,New,
5.2 Integration,TC-5.2.2-02,Multi-user - Concurrent bidding war,5 bidders in live auction,1. All bid rapidly in sequence,Each bid processed correctly,No lost or duplicate bids,,New,
5.2 Integration,TC-5.2.3-01,State Transition - Scheduled to Live,Auction with auctionStartAt reached,1. Wait for auctionStartAt 2. Check status,Status becomes live,Automatic or triggered transition,,New,
5.2 Integration,TC-5.2.3-02,State Transition - Live to Ended,Auction with auctionEndAt reached,1. Wait for auctionEndAt 2. Check status,Bidding blocked,End time respected,,New,
5.3 Edge Cases,TC-5.3.1-01,Unicode - Vietnamese in all fields,User with Vietnamese name,1. Register with Vietnamese diacritics (Nguyễn Văn Ạ),Returns 201 Created,Full Unicode support,,New,
5.3 Edge Cases,TC-5.3.1-02,Unicode - Auction name special chars,Auctioneer authenticated,1. Create auction with: 'Đất nền 100m² - Phú Nhuận',Returns 201 Created,Vietnamese in auction name,,New,
5.3 Edge Cases,TC-5.3.2-01,Timezone - Auction times stored as UTC,Auctioneer in GMT+7,1. Create auction with local time 2. Retrieve auction,Dates in UTC or consistent timezone,Timezone handling correct,,New,
5.3 Edge Cases,TC-5.3.2-02,Timezone - Check-in window calculation,Different user timezones,1. Check-in from different timezone clients,Server time used for validation,Client timezone doesn't affect logic,,New,
5.3 Edge Cases,TC-5.3.3-01,Precision - Large bid amounts,Amount: 999999999999,1. Place bid with very large VND amount,Returns 201 Created,Prisma Decimal handles large amounts,,New,
5.3 Edge Cases,TC-5.3.3-02,Precision - Decimal bid amounts,Amount: 1000000000.50,1. Place bid with decimal,Returns 201 Created or 400,maxDecimalPlaces: 2 in DTO,,New,
5.3 Edge Cases,TC-5.3.4-01,Empty String - Registration fields,Bidder authenticated,1. Register with full_name: '',Returns 400 Bad Request,@IsNotEmpty() validation,,New,
5.3 Edge Cases,TC-5.3.4-02,Whitespace Only - Input fields,No preconditions,1. Register with full_name: '   ',Returns 400 Bad Request,Trimmed and validated,,New,
5.3 Edge Cases,TC-5.3.5-01,Null Values - Optional fields,Bidder authenticated,1. Register with phone_number: null,Returns 201 Created,Optional fields accept null,,New,
5.3 Edge Cases,TC-5.3.5-02,Undefined Values - Request body,No preconditions,1. Register without optional fields entirely,Returns 201 Created,Missing optional fields OK,,New,
5.3 Edge Cases,TC-5.3.6-01,Special Characters - Search query,Auctions exist,1. GET /auctions?search=%20%26%3D,Returns 200 OK,URL encoding handled,,New,
5.3 Edge Cases,TC-5.3.6-02,Special Characters - Auction code,Auctioneer authenticated,1. Create auction with code containing special chars,Returns 400 or 201,Code format validation,,New,
